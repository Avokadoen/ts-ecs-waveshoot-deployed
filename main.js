!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=14)}([function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(5),e),i(n(6),e),i(n(1),e),i(n(7),e),i(n(2),e),i(n(8),e),i(n(3),e)},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.isQueryLeafNode=e.isQueryNode=e.queryTokenFromString=e.QueryToken=void 0,function(t){t[t.AND=0]="AND",t[t.OR=1]="OR",t[t.NOT=2]="NOT",t[t.SHARED=3]="SHARED"}(r=e.QueryToken||(e.QueryToken={})),e.queryTokenFromString=function(t){switch(null==t?void 0:t.toLowerCase()){case"and":return r.AND;case"or":return r.OR;case"not":return r.NOT;case"shared":return r.SHARED;default:return null}},e.isQueryNode=function(t){return void 0!==t.token},e.isQueryLeafNode=function(t){return void 0!==t.typeStr}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryBuilder=e.createQueryFromIdentifierList=void 0;var r,i=n(1);!function(t){t[t.Node=0]="Node",t[t.LeafNode=1]="LeafNode"}(r||(r={})),e.createQueryFromIdentifierList=function(t){var e=!1,n=function(t){for(var r=new o,s=0;s<t.length;s++){var u=t[s].split("[");r.identifier(u[0]);var a=s===t.length-1,c=!e&&!a&&t[s+1].split("[").length>1;if(a||c){if(c){e=!0,r.token(i.QueryToken.OR),r.token(i.QueryToken.SHARED),r.append(n(t.slice(s+1,t.length)));break}}else r.token(i.QueryToken.AND)}return r.build()};return n(t)};var o=function(){function t(t){return this.root=t||{token:null},this.currentNode=this.root,this}return Object.defineProperty(t.prototype,"workingNode",{get:function(){return this.currentNode},enumerable:!1,configurable:!0}),t.prototype.identifier=function(t){return this.lastChange===r.LeafNode||(this.lastChange=r.LeafNode,this.currentNode.leftChild?this.currentNode.rightChild||(this.currentNode.rightChild={typeStr:t}):this.currentNode.leftChild={typeStr:t}),this},t.prototype.token=function(t){if(this.lastChange=r.Node,null===this.currentNode.token)this.currentNode.token=t;else if(this.currentNode.leftChild){if(this.currentNode.rightChild){var e=this.currentNode.rightChild;this.currentNode.rightChild={token:t,leftChild:e}}else this.currentNode.rightChild={token:t};this.currentNode=this.currentNode.rightChild}else this.currentNode.leftChild={token:t},this.currentNode=this.currentNode.leftChild;return this},t.prototype.append=function(t){if(this.lastChange!==r.LeafNode)if(this.currentNode.leftChild)if(this.currentNode.rightChild){this.currentNode.rightChild;this.currentNode.rightChild={token:i.QueryToken.AND,leftChild:t}}else this.currentNode.rightChild=t;else this.currentNode.leftChild=t},t.prototype.build=function(){var t=this.root;return this.root={token:null},this.currentNode=this.root,null===t.token&&(t.token=i.QueryToken.OR),t},t}();e.QueryBuilder=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DispatchSubject=void 0;var r=function(){function t(){this.observers=[]}return t.prototype.subscribe=function(t){this.observers.indexOf(t)>=0||this.observers.push(t)},t.prototype.unsubscribe=function(t){var e=this.observers.indexOf(t);e<0||this.observers.splice(e,1)},t.prototype.trigger=function(t){this.observers.forEach((function(e){return e(t)})),this.observers.length>0&&(this.observers=[])},t}();e.DispatchSubject=r},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ECSManager=e.EntityBuilder=void 0;var i=n(1),o=n(3),s=n(2),u=n(9),a=n(10),c=function(){function t(t,e){this.id=t,this.ecsManager=e}return Object.defineProperty(t.prototype,"entityId",{get:function(){return this.id},enumerable:!1,configurable:!0}),t.prototype.addComponent=function(t,e){return this.ecsManager.addComponent(this.id,t,e,this)},t.prototype.removeComponent=function(t){return this.ecsManager.removeComponent(this.id,t,this)},t}();e.EntityBuilder=c;var l=function(){function t(){this.events=[],this.systems=[],this.entities=[],this.components=new Map,this.entityId=0,this.afterUpdateLoop=new o.DispatchSubject,this.isRunningSystems=!1}return t.prototype.registerEventWithEscQuery=function(t,e){return this.events.push({query:e,qResult:this.queryEntities(e),system:t}),this.events.length-1},t.prototype.registerEvent=function(t,e){var n=s.createQueryFromIdentifierList(e);return this.registerEventWithEscQuery(t,n)},t.prototype.registerSystemWithEscQuery=function(t,e){this.systems.push({query:e,qResult:this.queryEntities(e),system:t})},t.prototype.registerSystem=function(t,e){var n=s.createQueryFromIdentifierList(e);this.registerSystemWithEscQuery(t,n)},t.prototype.createEntity=function(){return this.entities.push({id:this.entityId++}),new c(this.entityId-1,this)},t.prototype.registerComponentType=function(t,e){this.components.has(t)||this.components.set(t,new u.ComponentPool(e))},t.prototype.addComponent=function(t,e,n,r){var i=this,o=function(e){return null!=e?e:new c(t,i)};if(this.components.has(e)){var s=this.components.get(e);if(!(null==s?void 0:s.find((function(e){return e.entityId===t}))))return this.isRunningSystems?(this.afterUpdateLoop.subscribe((function(){i.addComponent(t,e,n)})),o(r)):(s.add(t,n),this.invalidateQueryResults(e),o(r))}},t.prototype.removeComponent=function(t,e,n){var r=this;if(!this.isRunningSystems)return this.components.get(e).remove(t),this.invalidateQueryResults(e),null!=n?n:new c(t,this);this.afterUpdateLoop.subscribe((function(){r.removeComponent(t,e)}))},t.prototype.queryEntities=function(t){var e,n,o,s,u=this,c=function(t,e){var n,i,o=t.findIndex((function(t){return t.id===e.id}));if(o<0)t.push(e);else{var s=function(e){t[o].components.find((function(t){return t===e}))||t[o].components.push(e)};try{for(var u=r(e.components),a=u.next();!a.done;a=u.next()){s(a.value)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}return t},l=function(t){var e;if(!t)return[];if(!i.isQueryNode(t)){var n=t.typeStr,o=u.components.get(n);return null!==(e=null==o?void 0:o.filter((function(t){return a.isNumber(t.entityId)&&t.entityId>=0})).reduce((function(t,e,r){var i=t.findIndex((function(t){return t.id===e.entityId})),o={typeStr:n,index:r};if(i<0){var s={id:e.entityId,components:[o]};t.push(s)}else{t[i].components.find((function(t){return t.index===o.index&&t.typeStr===o.typeStr}))||t[i].components.push(o)}return t}),[]))&&void 0!==e?e:[]}var s=l(t.leftChild),h=l(t.rightChild);switch(t.token){case i.QueryToken.AND:return function(t,e){var n,i,o=[],s=function(t){var n=e.findIndex((function(e){return e.id===t.id}));if(n<0)return"continue";var r=e.splice(n,1);r.length>=1&&o.push({id:t.id,components:t.components.concat(r[0].components)})};try{for(var u=r(t),a=u.next();!a.done;a=u.next()){s(a.value)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return o}(s,h);case i.QueryToken.OR:return s.concat(h).reduce(c,[]);case i.QueryToken.NOT:return s.filter((function(t){return!h.find((function(e){return e.id==t.id}))}));case i.QueryToken.SHARED:return[]}},h=function(t){if(t&&!i.isQueryLeafNode(t)){if(t.token===i.QueryToken.SHARED)return t;var e=h(t.leftChild),n=h(t.rightChild);return null!=e?e:n}},f=h(t),d=l(null==f?void 0:f.leftChild),p=void 0;if(d.length>0){var y=d.map((function(t){return t.components}));p=new Array(y[0].length);var v=[];try{for(var g=r(y),b=g.next();!b.done;b=g.next()){var m=b.value,w=function(t){var e=v.findIndex((function(e){return e===t.typeStr}));e<0&&(e=v.length,v.push(t.typeStr)),p[e]?p[e]=p[e].concat(S.components.get(t.typeStr).unsafeGet(t.index)):p[e]=[S.components.get(t.typeStr).unsafeGet(t.index)]},S=this;try{for(var E=(o=void 0,r(m)),x=E.next();!x.done;x=E.next()){w(x.value)}}catch(t){o={error:t}}finally{try{x&&!x.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{b&&!b.done&&(n=g.return)&&n.call(g)}finally{if(e)throw e.error}}}return{sharedArgs:p,entities:l(t)}},t.prototype.accessComponentData=function(t,e){var n,r=this.components.get(e);return null===(n=null==r?void 0:r.find((function(e){return e.entityId===t})))||void 0===n?void 0:n.data},t.prototype.onEvent=function(t,e){var n,i;this.isRunningSystems=!0;var o=this.events[t],s=[e];try{for(var u=r(o.qResult.entities),a=u.next();!a.done;a=u.next()){var c=a.value,l=s.concat(this.createArgs(c));this.events[t].system.apply(null,l.concat(o.qResult.sharedArgs))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}this.isRunningSystems=!1,this.afterUpdateLoop.trigger()},t.prototype.dispatch=function(){var t,e,n,i;this.isRunningSystems=!0,this.prevRun=this.prevRun?this.prevRun:Date.now();var o=Date.now(),s=[(o-this.prevRun)/1e3];try{for(var u=r(this.systems),a=u.next();!a.done;a=u.next()){var c=a.value;try{for(var l=(n=void 0,r(c.qResult.entities)),h=l.next();!h.done;h=l.next()){var f=h.value,d=s.concat(this.createArgs(f));c.system.apply(null,d.concat(c.qResult.sharedArgs))}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}this.isRunningSystems=!1,this.afterUpdateLoop.trigger(),this.prevRun=o},t.prototype.createArgs=function(t){var e,n,i=[];try{for(var o=r(t.components),s=o.next();!s.done;s=o.next()){var u=s.value,a=this.components.get(u.typeStr).unsafeGet(u.index);i.push(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},t.prototype.invalidateQueryResults=function(t){var e,n,o,s,u=this,a=function(t,e){return!!e&&(i.isQueryNode(e)?!!a(t,e.leftChild)||!!a(t,e.rightChild):e.typeStr===t)},c=function(e){return a(t,e.query)?u.queryEntities(e.query):e.qResult};try{for(var l=r(this.systems),h=l.next();!h.done;h=l.next()){(p=h.value).qResult=c(p)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}try{for(var f=r(this.events),d=f.next();!d.done;d=f.next()){var p;(p=d.value).qResult=c(p)}}catch(t){o={error:t}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}},t}();e.ECSManager=l},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentPool=void 0;var i=function(){function t(t,e){void 0===e&&(e=20),this.stride=e,this.pool=[],this.length=0,this.pos=0,this.defaultValue=t,this.onExpandPool(!0)}return t.prototype.add=function(t,e){this.length>=this.pool.length&&this.onExpandPool(),this.pool[this.length].entityId=t;var n=null!=e?e:this.defaultValue;this.deepAssign(this.pool[this.length].data,n),this.length+=1},t.prototype.remove=function(t){var e=this.pool.findIndex((function(e){return e.entityId===t}));if(!(e<0)){var n=this.pool[e],r=this.length-1;this.pool[e]=this.pool[r],n.entityId=-1,this.pool[r]=n,this.length=r}},t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(){return this.pos<this.length?{done:!1,value:this.pool[this.pos++]}:(this.pos=0,{done:!0,value:null})},t.prototype.unsafeGet=function(t){return this.pool[t]},t.prototype.find=function(t,e){var n,i;try{for(var o=r(this),s=o.next();!s.done;s=o.next()){var u=s.value;if(t(u,0,this.pool))return this.pos=0,u}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return null},t.prototype.filter=function(t,e){var n,i,o=[],s=0;try{for(var u=r(this),a=u.next();!a.done;a=u.next()){var c=a.value;t(c,s,this.pool)&&o.push(c),s+=1}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return o},t.prototype.onExpandPool=function(t){t?this.pool=new Array(this.stride):this.pool.length+=this.stride;for(var e=this.length;e<this.pool.length;e++)this.pool[e]={entityId:-1,data:this.deepCopy(this.defaultValue)}},t.prototype.deepCopy=function(t){if(!t||"object"!=typeof t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=this.deepCopy(t[n]);return e},t.prototype.deepAssign=function(t,e){for(var n in Object.assign(t,e),e)"object"==typeof t[n]&&this.deepAssign(t[n],e[n])},t}();e.ComponentPool=i},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),a=r[n];n<o;a=r[++n])y(a)||!w(a)?s+=" "+a:s+=" "+u(a);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function u(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),l(r,t,r.depth)}function a(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return g(i)||(i=l(t,i,r)),i}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(v(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),u=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),E(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(x(n)){var a=n.name?": "+n.name:"";return t.stylize("[Function"+a+"]","special")}if(m(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return h(n)}var c,w="",T=!1,C=["{","}"];(d(n)&&(T=!0,C=["[","]"]),x(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return m(n)&&(w=" "+RegExp.prototype.toString.call(n)),S(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+h(n)),0!==s.length||T&&0!=n.length?r<0?m(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=T?function(t,e,n,r,i){for(var o=[],s=0,u=e.length;s<u;++s)O(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))})),o}(t,n,r,u,s):s.map((function(e){return f(t,n,r,u,e,T)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,w,C)):C[0]+w+C[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var s,u,a;if((a=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(u=t.stylize("[Setter]","special")),O(r,i)||(s="["+i+"]"),u||(t.seen.indexOf(a.value)<0?(u=y(n)?l(t,a.value,null):l(t,a.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return u;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+u}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function y(t){return null===t}function v(t){return"number"==typeof t}function g(t){return"string"==typeof t}function b(t){return void 0===t}function m(t){return w(t)&&"[object RegExp]"===T(t)}function w(t){return"object"==typeof t&&null!==t}function S(t){return w(t)&&"[object Date]"===T(t)}function E(t){return w(t)&&("[object Error]"===T(t)||t instanceof Error)}function x(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(b(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=m,e.isObject=w,e.isDate=S,e.isError=E,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(12);var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),_[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n(13),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(N&&t[N]){var e;if("function"!=typeof(e=t[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),N&&Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=N,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(A,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(11))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,c=[],l=!1,h=-1;function f(){l&&a&&(l=!1,a.length?c=a.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=u(f);l=!0;for(var e=c.length;e;){for(a=c,c=[];++h<e;)a&&a[h].run();h=-1,e=c.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n.r(e);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t){return"function"==typeof t}var s=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function a(t){setTimeout((function(){throw t}),0)}var c={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},l=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();var h=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),f=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n,r=this._parentOrParents,i=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var u=0;u<r.length;++u){r[u].remove(this)}if(o(i))try{i.call(this)}catch(t){e=t instanceof h?d(t.errors):[t]}if(l(s)){u=-1;for(var a=s.length;++u<a;){var c=s[u];if(null!==(n=c)&&"object"==typeof n)try{c.unsubscribe()}catch(t){e=e||[],t instanceof h?e=e.concat(d(t.errors)):e.push(t)}}}if(e)throw new h(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function d(t){return t.reduce((function(t,e){return t.concat(e instanceof h?e.errors:e)}),[])}var p=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),y=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=c;break;case 1:if(!n){o.destination=c;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new v(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new v(o,n,r,i)}return o}return i(e,t),e.prototype[p]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(f),v=function(t){function e(e,n,r,i){var s,u=t.call(this)||this;u._parentSubscriber=e;var a=u;return o(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==c&&(o((a=Object.create(n)).unsubscribe)&&u.add(a.unsubscribe.bind(a)),a.unsubscribe=u.unsubscribe.bind(u))),u._context=a,u._next=s,u._error=r,u._complete=i,u}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw t;a(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(a(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(y);var g=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function b(t){return t}function m(t){return 0===t.length?b:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var w=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof y)return t;if(t[p])return t[p]()}return t||e||n?new y(t,e,n):new y(c)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||u.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),u.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof y?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=S(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[g]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:m(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=S(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function S(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function E(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new x(t,e))}}var x=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new T(t,this.project,this.thisArg))},t}(),T=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(y);function C(t,e,n,r){return o(n)&&(r=n,n=void 0),r?C(t,e,n).pipe(E((function(t){return l(t)?r.apply(void 0,t):r(t)}))):new w((function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var u=e;e.addEventListener(n,r,o),s=function(){return u.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var a=e;e.on(n,r),s=function(){return a.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(s)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}var _=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(f)),k=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),O=new(function(t){function e(n,r){void 0===r&&(r=k.now);var i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(k))(_);function N(t){return!l(t)&&t-parseFloat(t)+1>=0}function A(t){return t&&"function"==typeof t.schedule}function D(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function P(t,e){return function(n){return n.lift(new j(t,e))}}var j=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new R(t,this.predicate,this.thisArg))},t}(),R=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(y);var Q=new w((function(t){return t.complete()}));function M(t){return t?function(t){return new w((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Q}var I;function z(t,e){return new w((function(n){var r=new f,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function L(t,e){return e?z(t,e):new w((n=t,function(t){for(var e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()}));var n}function q(t){var e=t.error;t.subscriber.error(e)}I||(I={});var H=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t,e;switch(this.kind){case"N":return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return A(n)?(t.pop(),z(t,n)):L(t)}(this.value);case"E":return t=this.error,new w(e?function(n){return e.schedule(q,0,{error:t,subscriber:n})}:function(e){return e.error(t)});case"C":return M()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function U(t,e){void 0===e&&(e=O);var n,r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return function(t){return t.lift(new B(r,e))}}var B=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new F(t,this.delay,this.scheduler))},t}(),F=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return i(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new V(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(H.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(H.createComplete()),this.unsubscribe()},e}(y),V=function(){return function(t,e){this.time=t,this.notification=e}}();function W(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function Y(t){var e=W(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}}function G(t,e){return{x:t.x*e,y:t.y*e}}var J,$,X,Z,K=n(0),tt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},et=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},nt=function(){function t(t){var e=this;this.canvas=t,this.ENEMIES_SPEED=210,this.BULLET_SPEED=500,this.PLAYER_SPEED=250,this.SCORE_TEXT_SPEED=200,this.PLAYER_RECT={color:"#3f51b5",size:{x:20,y:30}},this.ENEMIES_COUNT=40,this.BULLET_COUNT=20,this.keysDown=[],this.manager=new K.ECSManager;var n={x:0,y:0};this.manager.registerComponentType("UniqueTag",{}),this.manager.registerComponentType("EnemyTag",{}),this.manager.registerComponentType("Bullet",{maxRange:800}),this.manager.registerComponentType("ScoreText",{content:"",fontSize:30,alpha:1}),this.manager.registerComponentType("ScoreTextTag",{}),this.manager.registerComponentType("Player",{score:0}),this.manager.registerComponentType("Movable",{position:n,velocity:n,speed:0}),this.manager.registerComponentType("Rectangle",{color:"#ffffff",size:{x:500,y:500}}),this.manager.registerComponentType("InactiveTag",{}),this.manager.addComponent(this.manager.createEntity().entityId,"UniqueTag");for(var r=0;r<this.ENEMIES_COUNT;r++){var i=this.manager.createEntity().entityId;this.manager.addComponent(i,"EnemyTag"),this.manager.addComponent(i,"Rectangle",{color:"#ff4081",size:{x:20,y:30}}),this.manager.addComponent(i,"Movable",{position:n,velocity:n,speed:this.ENEMIES_SPEED}),this.manager.addComponent(i,"InactiveTag")}for(r=0;r<this.BULLET_COUNT;r++){i=this.manager.createEntity().entityId;this.manager.addComponent(i,"Bullet"),this.manager.addComponent(i,"Rectangle",{color:"#ffffff",size:{x:4,y:4}}),this.manager.addComponent(i,"Movable",{position:n,velocity:n,speed:this.BULLET_SPEED}),this.manager.addComponent(i,"InactiveTag")}for(r=0;r<10;r++){i=this.manager.createEntity().entityId;this.manager.addComponent(i,"ScoreTextTag")}i=this.manager.createEntity().entityId;this.manager.addComponent(i,"Player"),this.manager.addComponent(i,"Movable",{position:{x:.5*t.width-.5*this.PLAYER_RECT.size.x,y:.5*t.height-.5*this.PLAYER_RECT.size.y},velocity:n,speed:this.PLAYER_SPEED}),this.manager.addComponent(i,"Rectangle",{color:"#3f51b5",size:{x:20,y:30}}),C(window,"keydown").pipe(E((function(t){return t})),P((function(t){return"w"===t.key||"a"===t.key||"s"===t.key||"d"===t.key}))).subscribe((function(t){return e.keysDown.push(t.key)})),C(window,"keyup").pipe(E((function(t){return t})),P((function(t){return"w"===t.key||"a"===t.key||"s"===t.key||"d"===t.key}))).subscribe((function(t){return e.keysDown=e.keysDown.filter((function(e){return e!==t.key}))}))}return t.prototype.initialize=function(){var t=this;J.initialize(this.manager,this.canvas),Z.initialize(this.manager);X.initialize(this,(function(){return Math.min(.5,1)}));$.initialize(this,(function(){return t.keysDown}))},t.prototype.dispatch=function(){this.manager.dispatch()},t}();(J||(J={})).initialize=function(t,e){var n=e.getContext("2d");!function(t,e){var n={token:K.QueryToken.AND,leftChild:{typeStr:"Rectangle"},rightChild:{token:K.QueryToken.NOT,leftChild:{typeStr:"Movable"},rightChild:{typeStr:"InactiveTag"}}};t.registerSystemWithEscQuery((function(t,n,r){e.fillStyle=n.data.color,e.fillRect(r.data.position.x,r.data.position.y,n.data.size.x,n.data.size.y)}),n)}(t,n),function(t,e){t.registerSystem((function(t,n,r){e.fillStyle="rgba(255, 255, 255, "+n.data.alpha+")",e.font=n.data.fontSize+"px serif",e.textAlign="center",e.fillText(n.data.content,r.data.position.x,r.data.position.y)}),["ScoreText","Movable"])}(t,n),function(t){t.registerSystem((function(t,e){e.data.velocity=G(Y(e.data.velocity),e.data.speed),e.data.position.x+=e.data.velocity.x*t,e.data.position.y+=e.data.velocity.y*t}),["Movable"])}(t),function(t){t.registerSystem((function(e,n,r){r.data.speed-=80*e,n.data.fontSize+=20*e,n.data.alpha-=.4*e,r.data.speed<30&&(t.removeComponent(n.entityId,"ScoreText"),t.removeComponent(r.entityId,"Movable"))}),["ScoreText","Movable"])}(t)},($||($={})).initialize=function(t,e){var n,r,i,o,s;!function(t,e){t.registerSystem((function(t,n,r){var i,o,s=e();try{for(var u=tt(s),a=u.next();!a.done;a=u.next())switch(a.value){case"w":r.data.velocity.y=-1;break;case"a":r.data.velocity.x=-1;break;case"s":r.data.velocity.y=1;break;case"d":r.data.velocity.x=1}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}r.data.velocity=G(Y(r.data.velocity),r.data.speed),r.data.position.x+=r.data.velocity.x*t,r.data.position.y+=r.data.velocity.y*t,r.data.velocity.x=0,r.data.velocity.y=0}),["Player","Movable"])}(t.manager,e),n=t.manager,r=t.canvas,i=t.BULLET_SPEED,o={token:K.QueryToken.AND,leftChild:{typeStr:"Player"},rightChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Movable"},rightChild:{token:K.QueryToken.OR,leftChild:{typeStr:"Rectangle"},rightChild:{token:K.QueryToken.SHARED,leftChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Bullet"},rightChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Movable"},rightChild:{typeStr:"InactiveTag"}}}}}}},s=n.registerEventWithEscQuery((function(t,e,o,s,u,a,c){if(!((null==u?void 0:u.length)<0)){var l=t,h=o.data.position.x+.5*s.data.size.x,f=o.data.position.y+.5*s.data.size.y,d=Y({x:l.clientX-h-r.offsetLeft,y:l.clientY-f-r.offsetTop}),p=G(d,20);n.removeComponent(u[0].entityId,"InactiveTag"),a[0].data.position={x:h+p.x,y:f+p.y},a[0].data.velocity=d,a[0].data.speed=i}}),o),C(r,"click").subscribe((function(t){return n.onEvent(s,t)}))},(X||(X={})).initialize=function(t,e){var n,r;n=t.manager,r={token:K.QueryToken.AND,leftChild:{typeStr:"EnemyTag"},rightChild:{token:K.QueryToken.NOT,leftChild:{typeStr:"Movable"},rightChild:{token:K.QueryToken.OR,leftChild:{typeStr:"InactiveTag"},rightChild:{token:K.QueryToken.SHARED,leftChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Player"},rightChild:{typeStr:"Movable"}}}}}},n.registerSystemWithEscQuery((function(t,e,n,r,i){n.data.velocity={x:i[0].data.position.x-n.data.position.x,y:i[0].data.position.y-n.data.position.y}}),r),function(t,e,n,r){var i={token:K.QueryToken.OR,leftChild:{typeStr:"UniqueTag"},rightChild:{token:K.QueryToken.SHARED,leftChild:{token:K.QueryToken.AND,leftChild:{typeStr:"EnemyTag"},rightChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Movable"},rightChild:{typeStr:"InactiveTag"}}}}},o=function(t,e,n){void 0===t&&(t=0);var r=-1;return N(e)?r=Number(e)<1?1:Number(e):A(e)&&(n=e),A(n)||(n=O),new w((function(e){var i=N(t)?t:+t-n.now();return n.schedule(D,i,{index:0,period:r,subscriber:e})}))}(2e3,1e3).pipe(U(Math.random()*(3-3.5*r()))),s=t.registerEventWithEscQuery((function(r,i,o,s,u){if(o){var a,c;if(Math.random()>.5){a=Math.random()*e.width;var l=200*Math.random();c=Math.random()>.5?e.height+l:-l}else c=Math.random()*e.height,l=200*Math.random(),a=Math.random()>.5?e.width+l:-l;t.removeComponent(o[0].entityId,"InactiveTag"),s[0].data.position={x:a,y:c},s[0].data.velocity={x:0,y:0},s[0].data.speed=n}}),i);o.subscribe((function(){return t.onEvent(s,null)}))}(t.manager,t.canvas,t.ENEMIES_SPEED,e)},(Z||(Z={})).initialize=function(t){!function(t){var e={token:K.QueryToken.AND,leftChild:{typeStr:"Bullet"},rightChild:{token:K.QueryToken.NOT,leftChild:{typeStr:"Movable"},rightChild:{token:K.QueryToken.OR,leftChild:{typeStr:"InactiveTag"},rightChild:{token:K.QueryToken.SHARED,leftChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Player"},rightChild:{typeStr:"Movable"}}}}}};t.registerSystemWithEscQuery((function(e,n,r,i,o){Math.abs(W(r.data.position)-W(o[0].data.position))>n.data.maxRange&&t.addComponent(r.entityId,"InactiveTag")}),e)}(t),function(t){var e={token:K.QueryToken.AND,leftChild:{typeStr:"Rectangle"},rightChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Movable"},rightChild:{token:K.QueryToken.NOT,leftChild:{typeStr:"Bullet"},rightChild:{token:K.QueryToken.OR,leftChild:{typeStr:"InactiveTag"},rightChild:{token:K.QueryToken.SHARED,leftChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Rectangle"},rightChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Movable"},rightChild:{token:K.QueryToken.OR,leftChild:{token:K.QueryToken.NOT,leftChild:{typeStr:"EnemyTag"},rightChild:{typeStr:"InactiveTag"}},rightChild:{typeStr:"Player"}}}}}}}}},n={token:K.QueryToken.NOT,leftChild:{typeStr:"ScoreTextTag"},rightChild:{typeStr:"ScoreText"}};t.registerSystemWithEscQuery((function(e,r,i,o,s,u,a,c){var l,h,f,d,p,y,v,g,b,m;if(a&&c)try{for(var w=tt(a.entries()),S=w.next();!S.done;S=w.next()){var E=et(S.value,2),x=E[0],T=(E[1],s[x]),C=u[x];if(p=r.data,y=i.data,v=T.data,g=C.data,b=void 0,m=void 0,b=Math.abs(y.position.x-g.position.x),m=Math.abs(y.position.y-g.position.y),b<p.size.x&&m<p.size.y||b<v.size.x&&m<v.size.y){c[0].data.score+=10,t.addComponent(o.entityId,"InactiveTag"),t.addComponent(C.entityId,"InactiveTag");var _=null===(d=null===(f=t.queryEntities(n))||void 0===f?void 0:f.entities[0])||void 0===d?void 0:d.id;if(!isNaN(_)){var k=u[u.length-1].data;t.addComponent(_,"ScoreText",{content:""+c[0].data.score,fontSize:30,alpha:1}),t.addComponent(_,"Movable",{position:{x:k.position.x,y:k.position.y},velocity:{x:0,y:-1},speed:200})}}}}catch(t){l={error:t}}finally{try{S&&!S.done&&(h=w.return)&&h.call(w)}finally{if(l)throw l.error}}}),e)}(t)},C(window,"DOMContentLoaded").subscribe((function(){var t=document.getElementById("waveShootCanvas");if(t){var e=function(){t.width=window.innerWidth,t.height=window.innerHeight};C(window,"resize").subscribe(e),e();var n=new nt(t);n.initialize();var r=t.getContext("2d"),i=(Date.now(),function(){var e=Date.now();r.fillStyle="#000000",r.fillRect(0,0,t.width,t.height),n.dispatch(),e,window.requestAnimationFrame(i)});window.requestAnimationFrame(i)}else console.error("failed to load canvas!")}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25haXZlLXRzLWVjcy9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvZWNzL2VzYy1xdWVyeS5tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFpdmUtdHMtZWNzL2Rpc3Qvc3JjL2Vjcy9xdWVyeS1idWlsZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvb2JzZXJ2ZXIvZGlzcGF0Y2gtc3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFpdmUtdHMtZWNzL2Rpc3Qvc3JjL2Vjcy9jb21wb25lbnQubW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25haXZlLXRzLWVjcy9kaXN0L3NyYy9lY3MvZW50aXR5Lm1vZGVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvZWNzL3N5c3RlbS5tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFpdmUtdHMtZWNzL2Rpc3Qvc3JjL2Vjcy9tYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvcG9vbC9jb21wb25lbnQtcG9vbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNOdW1lcmljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aW1lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZW1wdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3Rocm93RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL3ZlY3RvcjJELm1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy93YXZlLXNob290ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL3JlY3RhbmdsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX2NyZWF0ZUJpbmRpbmciLCJ0aGlzIiwiayIsImsyIiwidW5kZWZpbmVkIiwiX19leHBvcnRTdGFyIiwiUXVlcnlUb2tlbiIsImlzUXVlcnlMZWFmTm9kZSIsImlzUXVlcnlOb2RlIiwicXVlcnlUb2tlbkZyb21TdHJpbmciLCJ0b0xvd2VyQ2FzZSIsIkFORCIsIk9SIiwiTk9UIiwiU0hBUkVEIiwibm9kZSIsInRva2VuIiwidHlwZVN0ciIsIlF1ZXJ5QnVpbGRlciIsImNyZWF0ZVF1ZXJ5RnJvbUlkZW50aWZpZXJMaXN0IiwiU3RhdGVDaGFuZ2UiLCJlc2NfcXVlcnlfbW9kZWxfMSIsImlkZW50aWZpZXJzIiwic2hhcmVkU2V0IiwiY3JlYXRlVHJlZSIsInFCdWlsZGVyIiwibGVuZ3RoIiwiaWRlbnRpZmllclNwbGl0Iiwic3BsaXQiLCJpZGVudGlmaWVyIiwib25MYXN0IiwibmV4dElzU2hhcmVkIiwiYXBwZW5kIiwic2xpY2UiLCJidWlsZCIsInN0YXRlIiwicm9vdCIsImN1cnJlbnROb2RlIiwiY29uZmlndXJhYmxlIiwibGFzdENoYW5nZSIsIkxlYWZOb2RlIiwibGVmdENoaWxkIiwicmlnaHRDaGlsZCIsIk5vZGUiLCJ0cmVlIiwicXVlcnkiLCJEaXNwYXRjaFN1YmplY3QiLCJvYnNlcnZlcnMiLCJzdWJzY3JpYmUiLCJvYnNlcnZlciIsImluZGV4T2YiLCJwdXNoIiwidW5zdWJzY3JpYmUiLCJpbmRleCIsInNwbGljZSIsInRyaWdnZXIiLCJvYnNlcnZlZCIsImZvckVhY2giLCJfX3ZhbHVlcyIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJUeXBlRXJyb3IiLCJFQ1NNYW5hZ2VyIiwiRW50aXR5QnVpbGRlciIsImRpc3BhdGNoX3N1YmplY3RfMSIsInF1ZXJ5X2J1aWxkZXJfMSIsImNvbXBvbmVudF9wb29sXzEiLCJ1dGlsXzEiLCJpZCIsImVjc01hbmFnZXIiLCJhZGRDb21wb25lbnQiLCJjb21wb25lbnQiLCJyZW1vdmVDb21wb25lbnQiLCJ0eXBlU3RycyIsImV2ZW50cyIsInN5c3RlbXMiLCJlbnRpdGllcyIsImNvbXBvbmVudHMiLCJNYXAiLCJlbnRpdHlJZCIsImFmdGVyVXBkYXRlTG9vcCIsImlzUnVubmluZ1N5c3RlbXMiLCJyZWdpc3RlckV2ZW50V2l0aEVzY1F1ZXJ5Iiwic3lzdGVtIiwicVJlc3VsdCIsInF1ZXJ5RW50aXRpZXMiLCJyZWdpc3RlckV2ZW50IiwicmVnaXN0ZXJTeXN0ZW1XaXRoRXNjUXVlcnkiLCJyZWdpc3RlclN5c3RlbSIsImNyZWF0ZUVudGl0eSIsInJlZ2lzdGVyQ29tcG9uZW50VHlwZSIsImRlZmF1bHRWYWx1ZSIsImhhcyIsInNldCIsIkNvbXBvbmVudFBvb2wiLCJidWlsZGVyIiwiX3RoaXMiLCJidWlsZGVyUnRyIiwiZmluZCIsImFkZCIsImludmFsaWRhdGVRdWVyeVJlc3VsdHMiLCJyZW1vdmUiLCJlXzEiLCJfYSIsImVfMiIsIl9iIiwib3JSZWR1Y2VyIiwicHJldmlvdXNWYWx1ZXMiLCJlXzQiLCJmaW5kSW5kZXgiLCJfbG9vcF8zIiwiY29tcCIsIl9jIiwiZV80XzEiLCJlcnJvciIsInJldHVybiIsInF1ZXJ5U3RlcCIsInR5cGVTdHJfMSIsImZpbHRlciIsImlzTnVtYmVyIiwicmVkdWNlIiwiY3VycmVudEluZGV4IiwibmV3Q29tcCIsIm5ld0VudHJ5IiwicUxSZXN1bHQiLCJxUlJlc3VsdF8xIiwibGVmdCIsInJpZ3RoIiwiZV8zIiwidmFsdWVzIiwiX2xvb3BfMiIsImVudHJ5IiwickluZGV4IiwickUiLCJmb3VuZCIsImNvbmNhdCIsImxlZnRfMSIsImxlZnRfMV8xIiwiZV8zXzEiLCJhbmRGbiIsImVudGl0eSIsIm9lIiwiZmluZFNoYXJlZCIsImxlZnRMaXN0IiwicmlnaHRMaXN0Iiwic2hhcmVkTm9kZSIsInNoYXJlZEVudGl0aWVzIiwic2hhcmVkQXJncyIsImNvbXBFbnRyaWVzIiwibWFwIiwiQXJyYXkiLCJ0eXBlTWFwIiwiY29tcEVudHJpZXNfMSIsImNvbXBFbnRyaWVzXzFfMSIsIl9sb29wXzEiLCJ0aGlzXzEiLCJ1bnNhZmVHZXQiLCJlbnRyeV8xIiwiZW50cnlfMV8xIiwiZV8yXzEiLCJlXzFfMSIsImFjY2Vzc0NvbXBvbmVudERhdGEiLCJkYXRhIiwib25FdmVudCIsImV2ZW50IiwiZV81Iiwic3Vic2NyaWJlciIsImV2ZW50QXJyIiwiYXJncyIsImNyZWF0ZUFyZ3MiLCJhcHBseSIsImVfNV8xIiwiZGlzcGF0Y2giLCJlXzYiLCJlXzciLCJwcmV2UnVuIiwiRGF0ZSIsIm5vdyIsImRlbHRhVGltZSIsIl9kIiwiX2UiLCJfZiIsImVfN18xIiwiZV82XzEiLCJlXzgiLCJhcmdDb21wIiwiZV84XzEiLCJjaGFuZ2VUeXBlU3RyIiwiZV85IiwiZV8xMCIsImlzQ29tcG9uZW50SW5RdWVyeSIsInVwZGF0ZWRTeXN0ZW0iLCJlXzlfMSIsImVfMTBfMSIsInN0cmlkZSIsInBvb2wiLCJwb3MiLCJvbkV4cGFuZFBvb2wiLCJvdmVycmlkZSIsInRhcmdldCIsImRlZXBBc3NpZ24iLCJyZW1vdmVkIiwibGFzdEluZGV4IiwicHJlZGljYXRlIiwidGhpc0FyZyIsImNhbGxiYWNrZm4iLCJyZXN1bHQiLCJmaXJzdEV4cGFuZCIsImRlZXBDb3B5Iiwic291cmNlIiwiY29weSIsImlzQXJyYXkiLCJhc3NpZ24iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwib2JqIiwia2V5cyIsImRlc2NyaXB0b3JzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZm9ybWF0UmVnRXhwIiwiZm9ybWF0IiwiZiIsImlzU3RyaW5nIiwib2JqZWN0cyIsImFyZ3VtZW50cyIsImluc3BlY3QiLCJqb2luIiwibGVuIiwic3RyIiwiU3RyaW5nIiwicmVwbGFjZSIsIngiLCJOdW1iZXIiLCJKU09OIiwic3RyaW5naWZ5IiwiXyIsImlzTnVsbCIsImlzT2JqZWN0IiwiZGVwcmVjYXRlIiwiZm4iLCJtc2ciLCJwcm9jZXNzIiwibm9EZXByZWNhdGlvbiIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJFcnJvciIsInRyYWNlRGVwcmVjYXRpb24iLCJjb25zb2xlIiwidHJhY2UiLCJkZWJ1Z0Vudmlyb24iLCJkZWJ1Z3MiLCJvcHRzIiwiY3R4Iiwic2VlbiIsInN0eWxpemUiLCJzdHlsaXplTm9Db2xvciIsImRlcHRoIiwiY29sb3JzIiwiaXNCb29sZWFuIiwic2hvd0hpZGRlbiIsIl9leHRlbmQiLCJpc1VuZGVmaW5lZCIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJzdHlsZSIsInN0eWxlcyIsInJlY3Vyc2VUaW1lcyIsImlzRnVuY3Rpb24iLCJjb25zdHJ1Y3RvciIsInJldCIsInByaW1pdGl2ZSIsInNpbXBsZSIsImZvcm1hdFByaW1pdGl2ZSIsInZpc2libGVLZXlzIiwiYXJyYXkiLCJoYXNoIiwidmFsIiwiaWR4IiwiYXJyYXlUb0hhc2giLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiaXNFcnJvciIsImZvcm1hdEVycm9yIiwiaXNSZWdFeHAiLCJSZWdFeHAiLCJ0b1N0cmluZyIsImlzRGF0ZSIsIm91dHB1dCIsImJhc2UiLCJicmFjZXMiLCJ0b1VUQ1N0cmluZyIsImZvcm1hdFByb3BlcnR5IiwibWF0Y2giLCJmb3JtYXRBcnJheSIsInBvcCIsInByZXYiLCJjdXIiLCJudW1MaW5lc0VzdCIsInJlZHVjZVRvU2luZ2xlU3RyaW5nIiwiZGVzYyIsImxpbmUiLCJzdWJzdHIiLCJhciIsImFyZyIsInJlIiwib2JqZWN0VG9TdHJpbmciLCJlIiwicGFkIiwiZGVidWdsb2ciLCJlbnYiLCJOT0RFX0RFQlVHIiwidG9VcHBlckNhc2UiLCJ0ZXN0IiwicGlkIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJpc1N5bWJvbCIsImlzUHJpbWl0aXZlIiwiaXNCdWZmZXIiLCJtb250aHMiLCJ0aW1lc3RhbXAiLCJ0aW1lIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldERhdGUiLCJnZXRNb250aCIsInByb3AiLCJsb2ciLCJpbmhlcml0cyIsIm9yaWdpbiIsImtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCIsImNhbGxiYWNraWZ5T25SZWplY3RlZCIsInJlYXNvbiIsImNiIiwibmV3UmVhc29uIiwicHJvbWlzaWZ5Iiwib3JpZ2luYWwiLCJ3cml0YWJsZSIsInByb21pc2VSZXNvbHZlIiwicHJvbWlzZVJlamVjdCIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImVyciIsInNldFByb3RvdHlwZU9mIiwiZ2V0UHJvdG90eXBlT2YiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiY3VzdG9tIiwiY2FsbGJhY2tpZnkiLCJjYWxsYmFja2lmaWVkIiwibWF5YmVDYiIsInNlbGYiLCJ0aGVuIiwibmV4dFRpY2siLCJyZWoiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImZpbGwiLCJyZWFkVUludDgiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiVGVtcEN0b3IiLCJleHRlbmRTdGF0aWNzIiwiYiIsIl9fcHJvdG9fXyIsIl9fZXh0ZW5kcyIsIl9fIiwiX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzIiwiY29uZmlnIiwic3RhY2siLCJob3N0UmVwb3J0RXJyb3IiLCJlbXB0eSIsImNsb3NlZCIsInVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmciLCJjb21wbGV0ZSIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCIsImVycm9ycyIsIm1lc3NhZ2UiLCJTdWJzY3JpcHRpb24iLCJfcGFyZW50T3JQYXJlbnRzIiwiX3N1YnNjcmlwdGlvbnMiLCJfdW5zdWJzY3JpYmUiLCJmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMiLCJzdWIiLCJ0ZWFyZG93biIsInN1YnNjcmlwdGlvbiIsIkVNUFRZIiwidG1wIiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmlwdGlvbkluZGV4IiwiZXJycyIsInJ4U3Vic2NyaWJlciIsIk1hdGgiLCJyYW5kb20iLCJfc3VwZXIiLCJTdWJzY3JpYmVyIiwiZGVzdGluYXRpb25Pck5leHQiLCJzeW5jRXJyb3JWYWx1ZSIsInN5bmNFcnJvclRocm93biIsInN5bmNFcnJvclRocm93YWJsZSIsImlzU3RvcHBlZCIsImRlc3RpbmF0aW9uIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJfdW5zdWJzY3JpYmVBbmRSZWN5Y2xlIiwiU2FmZVN1YnNjcmliZXIiLCJfcGFyZW50U3Vic2NyaWJlciIsIm9ic2VydmVyT3JOZXh0IiwiY29udGV4dCIsIl9jb250ZXh0IiwiX190cnlPclNldEVycm9yIiwiX190cnlPclVuc3ViIiwid3JhcHBlZENvbXBsZXRlIiwicGFyZW50Iiwib2JzZXJ2YWJsZSIsImlkZW50aXR5IiwicGlwZUZyb21BcnJheSIsImZucyIsImlucHV0IiwiT2JzZXJ2YWJsZSIsIl9pc1NjYWxhciIsIl9zdWJzY3JpYmUiLCJsaWZ0Iiwib3BlcmF0b3IiLCJzaW5rIiwibmV4dE9yT2JzZXJ2ZXIiLCJ0b1N1YnNjcmliZXIiLCJfdHJ5U3Vic2NyaWJlIiwiY2xvc2VkXzEiLCJjYW5SZXBvcnRFcnJvciIsIndhcm4iLCJwcm9taXNlQ3RvciIsImdldFByb21pc2VDdG9yIiwicGlwZSIsIm9wZXJhdGlvbnMiLCJfaSIsInRvUHJvbWlzZSIsInByb2plY3QiLCJNYXBPcGVyYXRvciIsIk1hcFN1YnNjcmliZXIiLCJjb3VudCIsImZyb21FdmVudCIsImV2ZW50TmFtZSIsIm9wdGlvbnMiLCJyZXN1bHRTZWxlY3RvciIsInNldHVwU3Vic2NyaXB0aW9uIiwic291cmNlT2JqIiwiaGFuZGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNFdmVudFRhcmdldCIsInNvdXJjZV8xIiwiaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8yIiwiaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIiLCJzb3VyY2VfMyIsIkFzeW5jQWN0aW9uIiwic2NoZWR1bGVyIiwid29yayIsInBlbmRpbmciLCJzY2hlZHVsZSIsImRlbGF5IiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsInNldEludGVydmFsIiwiZmx1c2giLCJjbGVhckludGVydmFsIiwiZXhlY3V0ZSIsIl9leGVjdXRlIiwiZXJyb3JlZCIsImVycm9yVmFsdWUiLCJhY3Rpb25zIiwiQWN0aW9uIiwiU2NoZWR1bGVyIiwiU2NoZWR1bGVyQWN0aW9uIiwiQXN5bmNTY2hlZHVsZXIiLCJkZWxlZ2F0ZSIsImFjdGl2ZSIsInNjaGVkdWxlZCIsImFjdGlvbiIsInNoaWZ0IiwiaXNOdW1lcmljIiwicGFyc2VGbG9hdCIsImlzU2NoZWR1bGVyIiwicGVyaW9kIiwiRmlsdGVyT3BlcmF0b3IiLCJGaWx0ZXJTdWJzY3JpYmVyIiwiZW1wdHlTY2hlZHVsZWQiLCJOb3RpZmljYXRpb25LaW5kIiwic2NoZWR1bGVBcnJheSIsImZyb21BcnJheSIsIk5vdGlmaWNhdGlvbiIsImtpbmQiLCJoYXNWYWx1ZSIsIm9ic2VydmUiLCJkbyIsImFjY2VwdCIsInRvT2JzZXJ2YWJsZSIsIm9mIiwiY3JlYXRlTmV4dCIsInVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uIiwiY3JlYXRlRXJyb3IiLCJjcmVhdGVDb21wbGV0ZSIsImNvbXBsZXRlTm90aWZpY2F0aW9uIiwiZGVsYXlGb3IiLCJpc05hTiIsImFicyIsIkRlbGF5T3BlcmF0b3IiLCJEZWxheVN1YnNjcmliZXIiLCJub3RpZmljYXRpb24iLCJkZWxheV8xIiwibWF4IiwiX3NjaGVkdWxlIiwic2NoZWR1bGVOb3RpZmljYXRpb24iLCJEZWxheU1lc3NhZ2UiLCJtYWduaXR1ZGUiLCJ2ZWN0b3IiLCJzcXJ0IiwicG93IiwieSIsIm5vcm1hbGl6ZSIsIm15TWFnbml0dWRlIiwic2NhbGUiLCJjYW52YXMiLCJFTkVNSUVTX1NQRUVEIiwiQlVMTEVUX1NQRUVEIiwiUExBWUVSX1NQRUVEIiwiU0NPUkVfVEVYVF9TUEVFRCIsIlBMQVlFUl9SRUNUIiwiY29sb3IiLCJzaXplIiwiRU5FTUlFU19DT1VOVCIsIkJVTExFVF9DT1VOVCIsImtleXNEb3duIiwibWFuYWdlciIsInplcm9WZWN0b3IiLCJtYXhSYW5nZSIsImNvbnRlbnQiLCJmb250U2l6ZSIsImFscGhhIiwic2NvcmUiLCJwb3NpdGlvbiIsInZlbG9jaXR5Iiwic3BlZWQiLCJ3aWR0aCIsImhlaWdodCIsIndpbmRvdyIsImluaXRpYWxpemUiLCJtaW4iLCJwbGF5ZXJTY29yZSIsImdldENvbnRleHQiLCJyZWN0IiwibW92YWJsZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwickRyYXdFbnRpdHlTeXN0ZW0iLCJzdCIsIm1vdiIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJmaWxsVGV4dCIsInJkcmF3U2NvcmVUZXh0U3lzdGVtIiwick1vdmVNb3ZhYmxlc1N5c3RlbSIsInNjb3JlVGV4dCIsInJNb3ZlU2NvcmVUZXh0U3lzdGVtIiwiZ2FtZSIsInZpZXdLZXlzRG93biIsImJ1bGxldFNwZWVkIiwib25Vc2VyQ2xpY2siLCJyUGxheWVyTW92ZVN5c3RlbSIsIl9wbGF5ZXIiLCJwTW92YWJsZSIsInBSZWN0YW5nbGUiLCJidWxsZXQiLCJiTW92YWJsZSIsIl9iSW5hY3RpdmUiLCJjZW50ZXJYIiwiY2VudGVyWSIsInNob290RGlyZWN0aW9uIiwiY2xpZW50WCIsIm9mZnNldExlZnQiLCJjbGllbnRZIiwib2Zmc2V0VG9wIiwiYnVsbGV0U3Bhd24iLCJkaWZmaWN1bHR5U2NhbGluZyIsIl9lbmVteSIsImVNb3ZhYmxlIiwiZW5lbXlTcGVlZCIsInNwYXduRW5lbXlFdmVudCIsImR1ZVRpbWUiLCJwZXJpb2RPclNjaGVkdWxlciIsImR1ZSIsInRpbWVyIiwib25TcGF3bkVuZW15IiwiX3UiLCJlbmVteVRhZ3MiLCJtb3ZhYmxlcyIsIl9pbmFjdGl2ZXMiLCJ4U3Bhd24iLCJ5U3Bhd24iLCJ5T2Zmc2V0IiwiclNwYXduRW5lbXlTeXN0ZW0iLCJyRGVzcGF3bkJ1bGxldFN5c3RlbSIsInRleHRRdWVyeSIsImJSZWN0YW5nbGUiLCJyZWN0YW5nbGVzIiwicGxheWVyIiwicmVjdDEiLCJtb3YxIiwicmVjdDIiLCJtb3YyIiwiZGlzdGFuY2VYIiwiZGlzdGFuY2VZIiwiZW50cmllcyIsImVSZWN0YW5nbGUiLCJ0ZXh0SWQiLCJyQnVsbGV0SGl0U3lzdGVtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm9uUmVzaXplIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwid2F2ZVNob290IiwidGljayIs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RixFQUFRLGFBQUU5RSxRQUFTLEdBQUdxRSxFQUFPLEdBQUd0ZSxLQUFLb2EsTUFBU0YsU0FBVSxHQUFJQyxNQUFPLElBRWxHTCxFQXBoQlIsYUFxaEJRaUYsRUFBUSxVQUNSLENBQ0UxRSxTQUFVLENBQ1JqVyxFQUFHK1gsRUFBUzlCLFNBQVNqVyxFQUFHMlUsRUFBR29ELEVBQVM5QixTQUFTdEIsR0FFL0N1QixTQUFVLENBQUNsVyxFQUFHLEVBQUcyVSxHQUFJLEdBQ3JCd0IsTUFBTyxTLG9HQU8rQjdoQixHQWxLcERzbUIsQ0FBaUJsRixJRXplckI3RixFQUFVeUcsT0FBUSxvQkFBb0I3aEIsV0FBVSxXQUM5QyxJQUFNc2dCLEVBQVM4RixTQUFTQyxlQUFlLG1CQUN2QyxHQUFLL0YsRUFBTCxDQUtBLElBQU1nRyxFQUFXLFdBQ2ZoRyxFQUFPcUIsTUFBUUUsT0FBTzBFLFdBQ3RCakcsRUFBT3NCLE9BQVNDLE9BQU8yRSxhQUV6QnBMLEVBQVV5RyxPQUFRLFVBQVU3aEIsVUFBVXNtQixHQUN0Q0EsSUFFQSxJQUFNRyxFQUFZLElBQUksR0FBZ0JuRyxHQUN0Q21HLEVBQVUzRSxhQUVWLElBQU1sVixFQUFNMFQsRUFBTzJCLFdBQVcsTUFHeEJ5RSxHQURVemUsS0FBS0MsTUFDUixXQUNYLElBQU15ZSxFQUFZMWUsS0FBS0MsTUFDdkIwRSxFQUFJd1YsVUFBWSxVQUNoQnhWLEVBQUl5VixTQUFTLEVBQUcsRUFBRy9CLEVBQU9xQixNQUFPckIsRUFBT3NCLFFBQ3hDNkUsRUFBVTVlLFdBRUU4ZSxFQUNaOUUsT0FBTytFLHNCQUFzQkYsS0FHL0I3RSxPQUFPK0Usc0JBQXNCRixRQTNCM0JuYSxRQUFRcEksTUFBTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE0KTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3NyYy9lY3MvY29tcG9uZW50Lm1vZGVsXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zcmMvZWNzL2VudGl0eS5tb2RlbFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3JjL2Vjcy9lc2MtcXVlcnkubW9kZWxcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3NyYy9lY3Mvc3lzdGVtLm1vZGVsXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zcmMvZWNzL3F1ZXJ5LWJ1aWxkZXJcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3NyYy9lY3MvbWFuYWdlclwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3JjL29ic2VydmVyL2Rpc3BhdGNoLXN1YmplY3RcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzUXVlcnlMZWFmTm9kZSA9IGV4cG9ydHMuaXNRdWVyeU5vZGUgPSBleHBvcnRzLnF1ZXJ5VG9rZW5Gcm9tU3RyaW5nID0gZXhwb3J0cy5RdWVyeVRva2VuID0gdm9pZCAwO1xuLyoqXG4gKiBEZWZpbmVzIHRoZSBlbmQgdXNlciBpbnRlbnQgd2l0aCBhIGdpdmVuIHtAbGluayBRdWVyeU5vZGV9XG4gKi9cbnZhciBRdWVyeVRva2VuO1xuKGZ1bmN0aW9uIChRdWVyeVRva2VuKSB7XG4gICAgUXVlcnlUb2tlbltRdWVyeVRva2VuW1wiQU5EXCJdID0gMF0gPSBcIkFORFwiO1xuICAgIFF1ZXJ5VG9rZW5bUXVlcnlUb2tlbltcIk9SXCJdID0gMV0gPSBcIk9SXCI7XG4gICAgUXVlcnlUb2tlbltRdWVyeVRva2VuW1wiTk9UXCJdID0gMl0gPSBcIk5PVFwiO1xuICAgIFF1ZXJ5VG9rZW5bUXVlcnlUb2tlbltcIlNIQVJFRFwiXSA9IDNdID0gXCJTSEFSRURcIjtcbn0pKFF1ZXJ5VG9rZW4gPSBleHBvcnRzLlF1ZXJ5VG9rZW4gfHwgKGV4cG9ydHMuUXVlcnlUb2tlbiA9IHt9KSk7XG5mdW5jdGlvbiBxdWVyeVRva2VuRnJvbVN0cmluZyh2YWx1ZSkge1xuICAgIHN3aXRjaCAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnYW5kJzpcbiAgICAgICAgICAgIHJldHVybiBRdWVyeVRva2VuLkFORDtcbiAgICAgICAgY2FzZSAnb3InOlxuICAgICAgICAgICAgcmV0dXJuIFF1ZXJ5VG9rZW4uT1I7XG4gICAgICAgIGNhc2UgJ25vdCc6XG4gICAgICAgICAgICByZXR1cm4gUXVlcnlUb2tlbi5OT1Q7XG4gICAgICAgIGNhc2UgJ3NoYXJlZCc6XG4gICAgICAgICAgICByZXR1cm4gUXVlcnlUb2tlbi5TSEFSRUQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLnF1ZXJ5VG9rZW5Gcm9tU3RyaW5nID0gcXVlcnlUb2tlbkZyb21TdHJpbmc7XG5mdW5jdGlvbiBpc1F1ZXJ5Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudG9rZW4gIT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMuaXNRdWVyeU5vZGUgPSBpc1F1ZXJ5Tm9kZTtcbmZ1bmN0aW9uIGlzUXVlcnlMZWFmTm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudHlwZVN0ciAhPT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5pc1F1ZXJ5TGVhZk5vZGUgPSBpc1F1ZXJ5TGVhZk5vZGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lc2MtcXVlcnkubW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlF1ZXJ5QnVpbGRlciA9IGV4cG9ydHMuY3JlYXRlUXVlcnlGcm9tSWRlbnRpZmllckxpc3QgPSB2b2lkIDA7XG52YXIgZXNjX3F1ZXJ5X21vZGVsXzEgPSByZXF1aXJlKFwiLi9lc2MtcXVlcnkubW9kZWxcIik7XG52YXIgU3RhdGVDaGFuZ2U7XG4oZnVuY3Rpb24gKFN0YXRlQ2hhbmdlKSB7XG4gICAgU3RhdGVDaGFuZ2VbU3RhdGVDaGFuZ2VbXCJOb2RlXCJdID0gMF0gPSBcIk5vZGVcIjtcbiAgICBTdGF0ZUNoYW5nZVtTdGF0ZUNoYW5nZVtcIkxlYWZOb2RlXCJdID0gMV0gPSBcIkxlYWZOb2RlXCI7XG59KShTdGF0ZUNoYW5nZSB8fCAoU3RhdGVDaGFuZ2UgPSB7fSkpO1xuLy8gVE9ETzogdGhpcyBzZWVtcyBsaWtlIGl0IHNob3VsZCBiZSBhIHN0YXRlIG1hY2hpbmVcbi8vIFRPRE86IHdlIHNob3VsZCBqdXN0IHdyaXRlIGEgdGV4dCBwYXJzZXIgaW5zdGVhZCBvZiB1c2luZyB0aGUgYnVpbGRlclxuLy8gVE9ETzogc3VwcG9ydCBOT1Rcbi8vIEN1cnJlbnRseSBhIHRlcnJpYmxlIG1lc3Mgb2YgaWYncy4gU2hvdWxkIHJlZmFjdG9yIGFzYXBcbmZ1bmN0aW9uIGNyZWF0ZVF1ZXJ5RnJvbUlkZW50aWZpZXJMaXN0KGlkZW50aWZpZXJzKSB7XG4gICAgdmFyIHNoYXJlZFNldCA9IGZhbHNlO1xuICAgIHZhciBjcmVhdGVUcmVlID0gZnVuY3Rpb24gKGlkZW50aWZpZXJzKSB7XG4gICAgICAgIHZhciBxQnVpbGRlciA9IG5ldyBRdWVyeUJ1aWxkZXIoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGlkZW50aWZpZXJTcGxpdCA9IGlkZW50aWZpZXJzW2ldLnNwbGl0KCdbJyk7XG4gICAgICAgICAgICBxQnVpbGRlci5pZGVudGlmaWVyKGlkZW50aWZpZXJTcGxpdFswXSk7XG4gICAgICAgICAgICB2YXIgb25MYXN0ID0gKGkgPT09IGlkZW50aWZpZXJzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdmFyIG5leHRJc1NoYXJlZCA9ICFzaGFyZWRTZXQgJiYgIW9uTGFzdCAmJiBpZGVudGlmaWVyc1tpICsgMV0uc3BsaXQoJ1snKS5sZW5ndGggPiAxO1xuICAgICAgICAgICAgaWYgKCFvbkxhc3QgJiYgIW5leHRJc1NoYXJlZCkge1xuICAgICAgICAgICAgICAgIHFCdWlsZGVyLnRva2VuKGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uQU5EKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5leHRJc1NoYXJlZCkge1xuICAgICAgICAgICAgICAgIHNoYXJlZFNldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcUJ1aWxkZXIudG9rZW4oZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5PUik7XG4gICAgICAgICAgICAgICAgcUJ1aWxkZXIudG9rZW4oZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5TSEFSRUQpO1xuICAgICAgICAgICAgICAgIHFCdWlsZGVyLmFwcGVuZChjcmVhdGVUcmVlKGlkZW50aWZpZXJzLnNsaWNlKGkgKyAxLCBpZGVudGlmaWVycy5sZW5ndGgpKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHFCdWlsZGVyLmJ1aWxkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlVHJlZShpZGVudGlmaWVycyk7XG59XG5leHBvcnRzLmNyZWF0ZVF1ZXJ5RnJvbUlkZW50aWZpZXJMaXN0ID0gY3JlYXRlUXVlcnlGcm9tSWRlbnRpZmllckxpc3Q7XG52YXIgUXVlcnlCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFF1ZXJ5QnVpbGRlcihzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yb290ID0ge1xuICAgICAgICAgICAgICAgIHRva2VuOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB0aGlzLnJvb3Q7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVlcnlCdWlsZGVyLnByb3RvdHlwZSwgXCJ3b3JraW5nTm9kZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE5vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvLyBUT0RPOiBFcnJvciBoYW5kbGluZ1xuICAgIFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuaWRlbnRpZmllciA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XG4gICAgICAgIGlmICh0aGlzLmxhc3RDaGFuZ2UgPT09IFN0YXRlQ2hhbmdlLkxlYWZOb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RDaGFuZ2UgPSBTdGF0ZUNoYW5nZS5MZWFmTm9kZTtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnROb2RlLmxlZnRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5sZWZ0Q2hpbGQgPSB7XG4gICAgICAgICAgICAgICAgdHlwZVN0cjogaWRlbnRpZmllclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQgPSB7XG4gICAgICAgICAgICAgICAgdHlwZVN0cjogaWRlbnRpZmllclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUudG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgdGhpcy5sYXN0Q2hhbmdlID0gU3RhdGVDaGFuZ2UuTm9kZTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUudG9rZW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5jdXJyZW50Tm9kZS5sZWZ0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUubGVmdENoaWxkID0ge1xuICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB0aGlzLmN1cnJlbnROb2RlLmxlZnRDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkID0ge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlZnRDaGlsZCA9IHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZDtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgbGVmdENoaWxkOiBsZWZ0Q2hpbGRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHRyZWUpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdENoYW5nZSA9PT0gU3RhdGVDaGFuZ2UuTGVhZk5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY3VycmVudE5vZGUubGVmdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLmxlZnRDaGlsZCA9IHRyZWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkID0gdHJlZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByYyA9IHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZCA9IHtcbiAgICAgICAgICAgICAgICB0b2tlbjogZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgICAgICAgICAgbGVmdENoaWxkOiB0cmVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBRdWVyeUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcXVlcnkgPSB0aGlzLnJvb3Q7XG4gICAgICAgIHRoaXMucm9vdCA9IHtcbiAgICAgICAgICAgIHRva2VuOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB0aGlzLnJvb3Q7XG4gICAgICAgIGlmIChxdWVyeS50b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnkudG9rZW4gPSBlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLk9SO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdWVyeTtcbiAgICB9O1xuICAgIHJldHVybiBRdWVyeUJ1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5RdWVyeUJ1aWxkZXIgPSBRdWVyeUJ1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeS1idWlsZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EaXNwYXRjaFN1YmplY3QgPSB2b2lkIDA7XG52YXIgRGlzcGF0Y2hTdWJqZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpc3BhdGNoU3ViamVjdCgpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICB9XG4gICAgRGlzcGF0Y2hTdWJqZWN0LnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpID49IDApIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGVycm9yIGhhbmRsaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgfTtcbiAgICBEaXNwYXRjaFN1YmplY3QucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMub2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBlcnJvciBoYW5kbGluZ1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgICBEaXNwYXRjaFN1YmplY3QucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbiAob2JzZXJ2ZWQpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAobykgeyByZXR1cm4gbyhvYnNlcnZlZCk7IH0pO1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERpc3BhdGNoU3ViamVjdDtcbn0oKSk7XG5leHBvcnRzLkRpc3BhdGNoU3ViamVjdCA9IERpc3BhdGNoU3ViamVjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3BhdGNoLXN1YmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnQubW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnRpdHkubW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zeXN0ZW0ubW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVDU01hbmFnZXIgPSBleHBvcnRzLkVudGl0eUJ1aWxkZXIgPSB2b2lkIDA7XG52YXIgZXNjX3F1ZXJ5X21vZGVsXzEgPSByZXF1aXJlKFwiLi9lc2MtcXVlcnkubW9kZWxcIik7XG52YXIgZGlzcGF0Y2hfc3ViamVjdF8xID0gcmVxdWlyZShcIi4uL29ic2VydmVyL2Rpc3BhdGNoLXN1YmplY3RcIik7XG52YXIgcXVlcnlfYnVpbGRlcl8xID0gcmVxdWlyZShcIi4vcXVlcnktYnVpbGRlclwiKTtcbnZhciBjb21wb25lbnRfcG9vbF8xID0gcmVxdWlyZShcIi4uL3Bvb2wvY29tcG9uZW50LXBvb2xcIik7XG52YXIgdXRpbF8xID0gcmVxdWlyZShcInV0aWxcIik7XG4vKipcbiAqIEJ1aWxkZXIgZm9yIGVudGl0aWVzLiBFbmFibGVzIGVuZCB1c2VyIHRvIGNoYWluIG9wZXJhdGlvbnMuXG4gKiBFeGFtcGxlOlxuICogYGBgdHNcbiAqIG5ldyBFQ1NNYW5hZ2VyKCkuY3JlYXRlRW50aXR5KCkuYWRkQ29tcG9uZW50KG5ldyBUZXN0Q29tcCgpKTtcbiAqIGBgYFxuICovXG52YXIgRW50aXR5QnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBub3QgYmUgdXNlZCBtYW51YWxseVxuICAgICAqIEBwYXJhbSBpZCAgaWQgb2YgZW50aXR5IHRoYXQgaXMgc3VwcG9zZWQgdG8gYmUgdXBkYXRlZFxuICAgICAqIEBwYXJhbSBlY3NNYW5hZ2VyIG1hbmFnZXIgdGhhdCBpcyBjcmVhdGluZyB0aGUgYnVpbGRlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEVudGl0eUJ1aWxkZXIoaWQsIGVjc01hbmFnZXIpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmVjc01hbmFnZXIgPSBlY3NNYW5hZ2VyO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW50aXR5QnVpbGRlci5wcm90b3R5cGUsIFwiZW50aXR5SWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmUgdGhlIGlkIG9mIHRoZSBlbnRpdHkgdGhhdCBpcyBiZWluZyBidWlsdFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgZmFjYWRlIHRvIHtAbGluayBFQ1NNYW5hZ2VyLmFkZENvbXBvbmVudH1cbiAgICAgKiBAdHlwZVBhcmFtIFQgYW55IG9iamVjdCB5b3Ugd291bGQgbGlrZSB0byBiZSBhIGNvbXBvbmVudC4gU2hvdWxkIG9ubHkgYmUgZGF0YSwgYW5kIG5vdCBhbnkgZnVuY3Rpb25zXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCAgIGEgbmV3IGNvbXBvbmVudCB0byBiZSBjb25uZWN0ZWQgd2l0aCBnaXZlbiBlbnRpdHkuXG4gICAgICovXG4gICAgRW50aXR5QnVpbGRlci5wcm90b3R5cGUuYWRkQ29tcG9uZW50ID0gZnVuY3Rpb24gKHR5cGVTdHIsIGNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lY3NNYW5hZ2VyLmFkZENvbXBvbmVudCh0aGlzLmlkLCB0eXBlU3RyLCBjb21wb25lbnQsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBmYWNhZGUgdG8ge0BsaW5rIEVDU01hbmFnZXIucmVtb3ZlQ29tcG9uZW50fVxuICAgICAqIEB0eXBlUGFyYW0gVCBhbnkgb2JqZWN0IHlvdSB3b3VsZCBsaWtlIHRvIGJlIGEgY29tcG9uZW50LiBTaG91bGQgb25seSBiZSBkYXRhLCBhbmQgbm90IGFueSBmdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0gdHlwZVN0ciAgIHRoZSB0eXBlIHR5cGVTdHJzIGZvciB0aGUgY29tcG9uZW50IHlvdSB3YW50IHRvIHJlbW92ZVxuICAgICAqL1xuICAgIEVudGl0eUJ1aWxkZXIucHJvdG90eXBlLnJlbW92ZUNvbXBvbmVudCA9IGZ1bmN0aW9uICh0eXBlU3Rycykge1xuICAgICAgICByZXR1cm4gdGhpcy5lY3NNYW5hZ2VyLnJlbW92ZUNvbXBvbmVudCh0aGlzLmlkLCB0eXBlU3RycywgdGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gRW50aXR5QnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLkVudGl0eUJ1aWxkZXIgPSBFbnRpdHlCdWlsZGVyO1xuLyoqXG4gKiBUaGUgbWFpbiBjbGFzcywgYW5kIHVzdWFsbHkgYSBzaW5nbGV0b24gZm9yIHlvdXIgcHJvZ3JhbSB0aGF0IHdpbGwgbWFuYWdlIHlvdXIgZ2FtZSBzdGF0ZVxuICovXG52YXIgRUNTTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFQ1NNYW5hZ2VyKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3lzdGVtcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbnRpdHlJZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaWdub3JlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFmdGVyVXBkYXRlTG9vcCA9IG5ldyBkaXNwYXRjaF9zdWJqZWN0XzEuRGlzcGF0Y2hTdWJqZWN0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaWdub3JlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUnVubmluZ1N5c3RlbXMgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBzeXN0ZW0gbWVhbnQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5IGJ5IHRoZSBjYWxsZWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzeXN0ZW0gIEEgZnVuY3Rpb24gdGhhdCB3aWxsIHJlYWQvd3JpdGUgdG8gY29tcG9uZW50c1xuICAgICAqIEBwYXJhbSBxdWVyeSAgVGhlIHF1ZXJ5IHVzZWQgdG8gZmV0Y2ggc3lzdGVtIHBhcmFtZXRlcnNcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlckV2ZW50V2l0aEVzY1F1ZXJ5ID0gZnVuY3Rpb24gKHN5c3RlbSwgcXVlcnkpIHtcbiAgICAgICAgdGhpcy5ldmVudHMucHVzaCh7XG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICBxUmVzdWx0OiB0aGlzLnF1ZXJ5RW50aXRpZXMocXVlcnkpLFxuICAgICAgICAgICAgc3lzdGVtOiBzeXN0ZW1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5sZW5ndGggLSAxO1xuICAgIH07XG4gICAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgc3lzdGVtIG1lYW50IHRvIGJlIGNhbGxlZCBtYW51YWxseSBieSB0aGUgY2FsbGVlXG4gICAqXG4gICAqIEBwYXJhbSBzeXN0ZW0gIEEgZnVuY3Rpb24gdGhhdCB3aWxsIHJlYWQvd3JpdGUgdG8gY29tcG9uZW50c1xuICAgKiBAcGFyYW0gdHlwZVN0cnMgIEEgbGlzdCBvZiB0eXBlcyBhcyBzdHJpbmdcbiAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJFdmVudCA9IGZ1bmN0aW9uIChzeXN0ZW0sIHR5cGVTdHJzKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IHF1ZXJ5X2J1aWxkZXJfMS5jcmVhdGVRdWVyeUZyb21JZGVudGlmaWVyTGlzdCh0eXBlU3Rycyk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyRXZlbnRXaXRoRXNjUXVlcnkoc3lzdGVtLCBxdWVyeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIHN5c3RlbSBtZWFudCB0byBiZSBjYWxsZWQgZWFjaCBmcmFtZSBieSB0aGUgbWFuYWdlclxuICAgICAqXG4gICAgICogQHBhcmFtIHN5c3RlbSAgQSBmdW5jdGlvbiB0aGF0IHdpbGwgcmVhZC93cml0ZSB0byBjb21wb25lbnRzXG4gICAgICogQHBhcmFtIHF1ZXJ5ICBUaGUgcXVlcnkgdXNlZCB0byBmZXRjaCBzeXN0ZW0gcGFyYW1ldGVyc1xuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyU3lzdGVtV2l0aEVzY1F1ZXJ5ID0gZnVuY3Rpb24gKHN5c3RlbSwgcXVlcnkpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2goe1xuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgcVJlc3VsdDogdGhpcy5xdWVyeUVudGl0aWVzKHF1ZXJ5KSxcbiAgICAgICAgICAgIHN5c3RlbTogc3lzdGVtXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBzeXN0ZW0gbWVhbnQgdG8gYmUgY2FsbGVkIGVhY2ggZnJhbWUgYnkgdGhlIG1hbmFnZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzeXN0ZW0gIEEgZnVuY3Rpb24gdGhhdCB3aWxsIHJlYWQvd3JpdGUgdG8gY29tcG9uZW50c1xuICAgICAqIEBwYXJhbSB0eXBlU3RyICBBIGxpc3Qgb2YgdHlwZXMgYXMgc3RyaW5nXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJTeXN0ZW0gPSBmdW5jdGlvbiAoc3lzdGVtLCB0eXBlU3RyKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IHF1ZXJ5X2J1aWxkZXJfMS5jcmVhdGVRdWVyeUZyb21JZGVudGlmaWVyTGlzdCh0eXBlU3RyKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclN5c3RlbVdpdGhFc2NRdWVyeShzeXN0ZW0sIHF1ZXJ5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZW50aXR5XG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUuY3JlYXRlRW50aXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVudGl0aWVzLnB1c2goeyBpZDogdGhpcy5lbnRpdHlJZCsrIH0pO1xuICAgICAgICByZXR1cm4gbmV3IEVudGl0eUJ1aWxkZXIodGhpcy5lbnRpdHlJZCAtIDEsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgbm9uIHRyYW5zZm9ybSB2ZXJzaW9uIG9mIHJlZ2lzdGVyQ29tcG9uZW50VHlwZVxuICAgICAqIFlvdSBzaG91bGQgcHJvYmFibHkgY2FsbCB7QGxpbmsgcmVnaXN0ZXJDb21wb25lbnRUeXBlfSBmcm9tIHRoZSBpbmRleCBpbnN0ZWFkXG4gICAgICpcbiAgICAgKiBVc2VkIHRvIHByZWFsbG9jYXRlIHN0b3JhZ2UgZm9yIGEgZ2l2ZW4gY29tcG9uZW50IHR5cGVcbiAgICAgKiBhdm9pZCBjYWxsaW5nIHRoaXMgaW4gYSBnYW1lIGxvb3BcbiAgICAgKiBAcGFyYW0gdHlwZVN0ciB0aGUgdHlwZSBvZiB0aGUgY29tcG9uZW50IGFzIGEgc3RyaW5nXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyQ29tcG9uZW50VHlwZSA9IGZ1bmN0aW9uICh0eXBlU3RyLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50cy5oYXModHlwZVN0cikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KHR5cGVTdHIsIG5ldyBjb21wb25lbnRfcG9vbF8xLkNvbXBvbmVudFBvb2woZGVmYXVsdFZhbHVlKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBub24gdHJhbnNmb3JtIHZlcnNpb24gb2YgYWRkQ29tcG9uZW50XG4gICAgICogWW91IHNob3VsZCBwcm9iYWJseSBjYWxsIHtAbGluayBhZGRDb21wb25lbnR9IGZyb20gdGhlIGluZGV4IGluc3RlYWRcbiAgICAgKlxuICAgICogQHR5cGVQYXJhbSBUIGFueSBvYmplY3QgeW91IHdvdWxkIGxpa2UgdG8gYmUgYSBjb21wb25lbnQuIFNob3VsZCBvbmx5IGJlIGRhdGEsIGFuZCBub3QgYW55IGZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSBlbnRpdHlJZCAgaWQgb2YgZW50aXR5IHRoYXQgaXMgc3VwcG9zZWQgdG8gYmUgdXBkYXRlZFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgIGEgbmV3IGNvbXBvbmVudCB0byBiZSBjb25uZWN0ZWQgd2l0aCBnaXZlbiBlbnRpdHkuXG4gICAgICogQHBhcmFtIGJ1aWxkZXIgIFVzZWQgYnkgdGhlIEVudGl0eUJ1aWxkZXIgdG8gY2FjaGUgaXRzZWxmLCBjYW4gYmUgaWdub3JlZCB1c3VhbGx5XG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUuYWRkQ29tcG9uZW50ID0gZnVuY3Rpb24gKGVudGl0eUlkLCB0eXBlU3RyLCBjb21wb25lbnQsIGJ1aWxkZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGJ1aWxkZXJSdHIgPSBmdW5jdGlvbiAoYnVpbGRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXIgIT09IG51bGwgJiYgYnVpbGRlciAhPT0gdm9pZCAwID8gYnVpbGRlciA6IG5ldyBFbnRpdHlCdWlsZGVyKGVudGl0eUlkLCBfdGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpcy5jb21wb25lbnRzLmhhcyh0eXBlU3RyKSkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBUT0RPOiBlcnJvcmhhbmRsaW5nXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbXBvbmVudHMgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KHR5cGVTdHIpO1xuICAgICAgICBpZiAoY29tcG9uZW50cyA9PT0gbnVsbCB8fCBjb21wb25lbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wb25lbnRzLmZpbmQoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuZW50aXR5SWQgPT09IGVudGl0eUlkOyB9KSkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBUT0RPOiBlcnJvcmhhbmRsaW5nXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nU3lzdGVtcykge1xuICAgICAgICAgICAgdGhpcy5hZnRlclVwZGF0ZUxvb3Auc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGRDb21wb25lbnQoZW50aXR5SWQsIHR5cGVTdHIsIGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBidWlsZGVyUnRyKGJ1aWxkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBvbmVudHMuYWRkKGVudGl0eUlkLCBjb21wb25lbnQpO1xuICAgICAgICB0aGlzLmludmFsaWRhdGVRdWVyeVJlc3VsdHModHlwZVN0cik7XG4gICAgICAgIHJldHVybiBidWlsZGVyUnRyKGJ1aWxkZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgbm9uIHRyYW5zZm9ybSB2ZXJzaW9uIG9mIHJlbW92ZUNvbXBvbmVudFxuICAgICAqIFlvdSBzaG91bGQgcHJvYmFibHkgY2FsbCB7QGxpbmsgcmVtb3ZlQ29tcG9uZW50fSBmcm9tIHRoZSBpbmRleCBpbnN0ZWFkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW50aXR5SWQgIGlkIG9mIGVudGl0eSB0aGF0IGlzIHN1cHBvc2VkIHRvIGJlIHVwZGF0ZWRcbiAgICAgKiBAcGFyYW0gdHlwZVN0ciAgIHRoZSB0eXBlIGFzIHN0cmluZyBmb3IgdGhlIGNvbXBvbmVudCB5b3Ugd2FudCB0byByZW1vdmVcbiAgICAgKiBAcGFyYW0gYnVpbGRlciAgVXNlZCBieSB0aGUgRW50aXR5QnVpbGRlciB0byBjYWNoZSBpdHNlbGYsIGNhbiBiZSBpZ25vcmVkIHVzdWFsbHlcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVDb21wb25lbnQgPSBmdW5jdGlvbiAoZW50aXR5SWQsIHR5cGVTdHIsIGJ1aWxkZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nU3lzdGVtcykge1xuICAgICAgICAgICAgdGhpcy5hZnRlclVwZGF0ZUxvb3Auc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVDb21wb25lbnQoZW50aXR5SWQsIHR5cGVTdHIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wb25lbnRzLmdldCh0eXBlU3RyKS5yZW1vdmUoZW50aXR5SWQpO1xuICAgICAgICB0aGlzLmludmFsaWRhdGVRdWVyeVJlc3VsdHModHlwZVN0cik7XG4gICAgICAgIHJldHVybiBidWlsZGVyICE9PSBudWxsICYmIGJ1aWxkZXIgIT09IHZvaWQgMCA/IGJ1aWxkZXIgOiBuZXcgRW50aXR5QnVpbGRlcihlbnRpdHlJZCwgdGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcXVlcnkgIGZpbHRlciBmb3Igd2hpY2ggZW50aXRpZXMgdG8gcmV0cmlldmVcbiAgICAgKiBAcmV0dXJuIHJldHVybnMgYSBvYmplY3QgY29udGFpbmluZyBlbnRpdGllcyB0aGF0IGFyZSBtZWFudCB0b1xuICAgICAqIGJlIGl0ZXJhdGVkIGJ5IHRoZSBtYW5hZ2VyIHVuZGVyIGRpc3BhdGNoL2V2ZW50IGFuZCBzaGFyZWQgZW50aXRpZXMgdGhhdFxuICAgICAqIHdpbGwgYmUgc2hhcmVkIGVhY2ggaXRlcmF0aW9uXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUucXVlcnlFbnRpdGllcyA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFuZEZuID0gZnVuY3Rpb24gKGxlZnQsIHJpZ3RoKSB7XG4gICAgICAgICAgICB2YXIgZV8zLCBfYTtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBfbG9vcF8yID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJJbmRleCA9IHJpZ3RoLmZpbmRJbmRleChmdW5jdGlvbiAockUpIHsgcmV0dXJuIHJFLmlkID09PSBlbnRyeS5pZDsgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gcmlndGguc3BsaWNlKHJJbmRleCwgMSk7IC8vIHRoaXMgbWlnaHQgYmUgc3R1cGlkIFxuICAgICAgICAgICAgICAgIGlmIChmb3VuZC5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZW50cnkuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBlbnRyeS5jb21wb25lbnRzLmNvbmNhdChmb3VuZFswXS5jb21wb25lbnRzKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBsZWZ0XzEgPSBfX3ZhbHVlcyhsZWZ0KSwgbGVmdF8xXzEgPSBsZWZ0XzEubmV4dCgpOyAhbGVmdF8xXzEuZG9uZTsgbGVmdF8xXzEgPSBsZWZ0XzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IGxlZnRfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBfbG9vcF8yKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRfMV8xICYmICFsZWZ0XzFfMS5kb25lICYmIChfYSA9IGxlZnRfMS5yZXR1cm4pKSBfYS5jYWxsKGxlZnRfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvclJlZHVjZXIgPSBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZXMsIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZV80LCBfYTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHByZXZpb3VzVmFsdWVzLmZpbmRJbmRleChmdW5jdGlvbiAobikgeyByZXR1cm4gbi5pZCA9PT0gdmFsdWUuaWQ7IH0pO1xuICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9sb29wXzMgPSBmdW5jdGlvbiAoY29tcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXZpb3VzVmFsdWVzW2luZGV4XS5jb21wb25lbnRzLmZpbmQoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMgPT09IGNvbXA7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlc1tpbmRleF0uY29tcG9uZW50cy5wdXNoKGNvbXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHZhbHVlLmNvbXBvbmVudHMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMyhjb21wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV80XzEpIHsgZV80ID0geyBlcnJvcjogZV80XzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJldmlvdXNWYWx1ZXM7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBxdWVyeVN0ZXAgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICghcXVlcnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXNjX3F1ZXJ5X21vZGVsXzEuaXNRdWVyeU5vZGUocXVlcnkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHFMUmVzdWx0ID0gcXVlcnlTdGVwKHF1ZXJ5LmxlZnRDaGlsZCk7XG4gICAgICAgICAgICAgICAgdmFyIHFSUmVzdWx0XzEgPSBxdWVyeVN0ZXAocXVlcnkucmlnaHRDaGlsZCk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChxdWVyeS50b2tlbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uQU5EOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZEZuKHFMUmVzdWx0LCBxUlJlc3VsdF8xKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLk9SOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHFMUmVzdWx0LmNvbmNhdChxUlJlc3VsdF8xKS5yZWR1Y2Uob3JSZWR1Y2VyLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5OT1Q6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcUxSZXN1bHQuZmlsdGVyKGZ1bmN0aW9uIChlbnRpdHkpIHsgcmV0dXJuICFxUlJlc3VsdF8xLmZpbmQoZnVuY3Rpb24gKG9lKSB7IHJldHVybiBvZS5pZCA9PSBlbnRpdHkuaWQ7IH0pOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLlNIQVJFRDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZVN0cl8xID0gcXVlcnkudHlwZVN0cjtcbiAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50cyA9IF90aGlzLmNvbXBvbmVudHMuZ2V0KHR5cGVTdHJfMSk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogcmVmYWN0b3Igc28gd2UgZG9uJ3QgbmVlZCB2YXJpYWJsZSBmcm9tIG91dHNpZGUgc2NvcGVcbiAgICAgICAgICAgICAgICAvLyAgICAgICBjbGVhbiBzbyBpdCdzIG1vcmUgcmVhZGFibGVcbiAgICAgICAgICAgICAgICB2YXIgdGhpc1Jlc3VsdCA9IChfYSA9IGNvbXBvbmVudHMgPT09IG51bGwgfHwgY29tcG9uZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIHV0aWxfMS5pc051bWJlcihjLmVudGl0eUlkKSAmJiBjLmVudGl0eUlkID49IDA7IH0pLnJlZHVjZShmdW5jdGlvbiAocHJldmlvdXNWYWx1ZXMsIHZhbHVlLCBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcHJldmlvdXNWYWx1ZXMuZmluZEluZGV4KGZ1bmN0aW9uIChuKSB7IHJldHVybiBuLmlkID09PSB2YWx1ZS5lbnRpdHlJZDsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdDb21wID0geyB0eXBlU3RyOiB0eXBlU3RyXzEsIGluZGV4OiBjdXJyZW50SW5kZXggfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0VudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB2YWx1ZS5lbnRpdHlJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbbmV3Q29tcF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlcy5wdXNoKG5ld0VudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IHByZXZpb3VzVmFsdWVzW2luZGV4XS5jb21wb25lbnRzLmZpbmQoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuaW5kZXggPT09IG5ld0NvbXAuaW5kZXggJiYgYy50eXBlU3RyID09PSBuZXdDb21wLnR5cGVTdHI7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsdWVzW2luZGV4XS5jb21wb25lbnRzLnB1c2gobmV3Q29tcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWVzO1xuICAgICAgICAgICAgICAgIH0sIFtdKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNSZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBmaW5kU2hhcmVkID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgICAgICBpZiAoIXF1ZXJ5IHx8IGVzY19xdWVyeV9tb2RlbF8xLmlzUXVlcnlMZWFmTm9kZShxdWVyeSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHF1ZXJ5LnRva2VuID09PSBlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLlNIQVJFRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsZWZ0TGlzdCA9IGZpbmRTaGFyZWQocXVlcnkubGVmdENoaWxkKTtcbiAgICAgICAgICAgIHZhciByaWdodExpc3QgPSBmaW5kU2hhcmVkKHF1ZXJ5LnJpZ2h0Q2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuIGxlZnRMaXN0ICE9PSBudWxsICYmIGxlZnRMaXN0ICE9PSB2b2lkIDAgPyBsZWZ0TGlzdCA6IHJpZ2h0TGlzdDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGV4dHJhY3RMZWFmTm9kZXMgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgICAgIGlmICghcXVlcnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXNjX3F1ZXJ5X21vZGVsXzEuaXNRdWVyeU5vZGUocXVlcnkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlZnRMZWFmcyA9IGV4dHJhY3RMZWFmTm9kZXMocXVlcnkubGVmdENoaWxkKTtcbiAgICAgICAgICAgICAgICB2YXIgcmlnaHRMZWFmcyA9IGV4dHJhY3RMZWFmTm9kZXMocXVlcnkucmlnaHRDaGlsZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChsZWZ0TGVhZnMgIT09IG51bGwgJiYgbGVmdExlYWZzICE9PSB2b2lkIDAgPyBsZWZ0TGVhZnMgOiBbXSkuY29uY2F0KHJpZ2h0TGVhZnMgIT09IG51bGwgJiYgcmlnaHRMZWFmcyAhPT0gdm9pZCAwID8gcmlnaHRMZWFmcyA6IFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbcXVlcnldO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc2hhcmVkTm9kZSA9IGZpbmRTaGFyZWQocXVlcnkpO1xuICAgICAgICB2YXIgc2hhcmVkRW50aXRpZXMgPSBxdWVyeVN0ZXAoc2hhcmVkTm9kZSA9PT0gbnVsbCB8fCBzaGFyZWROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaGFyZWROb2RlLmxlZnRDaGlsZCk7XG4gICAgICAgIHZhciBzaGFyZWRBcmdzID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc2hhcmVkRW50aXRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGNvbXBFbnRyaWVzID0gc2hhcmVkRW50aXRpZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkuY29tcG9uZW50czsgfSk7XG4gICAgICAgICAgICBzaGFyZWRBcmdzID0gbmV3IEFycmF5KGNvbXBFbnRyaWVzWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgdHlwZU1hcCA9IFtdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjb21wRW50cmllc18xID0gX192YWx1ZXMoY29tcEVudHJpZXMpLCBjb21wRW50cmllc18xXzEgPSBjb21wRW50cmllc18xLm5leHQoKTsgIWNvbXBFbnRyaWVzXzFfMS5kb25lOyBjb21wRW50cmllc18xXzEgPSBjb21wRW50cmllc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBjb21wRW50cmllc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHR5cGVNYXAuZmluZEluZGV4KGZ1bmN0aW9uICh0KSB7IHJldHVybiB0ID09PSBjb21wLnR5cGVTdHI7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdHlwZU1hcC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZU1hcC5wdXNoKGNvbXAudHlwZVN0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNoYXJlZEFyZ3NbaW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVkQXJnc1tpbmRleF0gPSBbdGhpc18xLmNvbXBvbmVudHMuZ2V0KGNvbXAudHlwZVN0cikudW5zYWZlR2V0KGNvbXAuaW5kZXgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlZEFyZ3NbaW5kZXhdID0gc2hhcmVkQXJnc1tpbmRleF0uY29uY2F0KHRoaXNfMS5jb21wb25lbnRzLmdldChjb21wLnR5cGVTdHIpLnVuc2FmZUdldChjb21wLmluZGV4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZW50cnlfMSA9IChlXzIgPSB2b2lkIDAsIF9fdmFsdWVzKGVudHJ5KSksIGVudHJ5XzFfMSA9IGVudHJ5XzEubmV4dCgpOyAhZW50cnlfMV8xLmRvbmU7IGVudHJ5XzFfMSA9IGVudHJ5XzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXAgPSBlbnRyeV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMShjb21wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5XzFfMSAmJiAhZW50cnlfMV8xLmRvbmUgJiYgKF9iID0gZW50cnlfMS5yZXR1cm4pKSBfYi5jYWxsKGVudHJ5XzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wRW50cmllc18xXzEgJiYgIWNvbXBFbnRyaWVzXzFfMS5kb25lICYmIChfYSA9IGNvbXBFbnRyaWVzXzEucmV0dXJuKSkgX2EuY2FsbChjb21wRW50cmllc18xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICBzaGFyZWRBcmdzOiBzaGFyZWRBcmdzLFxuICAgICAgICAgICAgZW50aXRpZXM6IHF1ZXJ5U3RlcChxdWVyeSksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBub24gdHJhbnNmb3JtIHZlcnNpb24gb2YgYWNjZXNzQ29tcG9uZW50RGF0YVxuICAgICAqIFlvdSBzaG91bGQgcHJvYmFibHkgY2FsbCB7QGxpbmsgYWNjZXNzQ29tcG9uZW50RGF0YX0gZnJvbSB0aGUgaW5kZXggaW5zdGVhZFxuICAgICAqXG4gICAgICogQHR5cGVQYXJhbSBUIGNvbXBvbmVudCBkYXRhIHR5cGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb21wVHlwZSBhbnkgaW5zdGFuY2Ugb2Ygc2FtZSB0eXBlIGFzIHRhcmdldCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0gZW50aXR5SWQgaWQgb2YgZW50aXR5IG93bmVyIG9mIGNvbXBvbmVudFxuICAgICAqXG4gICAgICogQHJldHVybiByZXF1ZXN0ZWQgY29tcG9uZW50IG9yIG51bGxcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5hY2Nlc3NDb21wb25lbnREYXRhID0gZnVuY3Rpb24gKGVudGl0eUlkLCB0eXBlU3RyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGNvbXBvbmVudHMgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KHR5cGVTdHIpO1xuICAgICAgICByZXR1cm4gKF9hID0gY29tcG9uZW50cyA9PT0gbnVsbCB8fCBjb21wb25lbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wb25lbnRzLmZpbmQoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuZW50aXR5SWQgPT09IGVudGl0eUlkOyB9KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRhdGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGEgc3lzdGVtIGV2ZW50IGFuZCBzdXBwbGllcyB0aGVtIHdpdGggcmVsZXZhbnQgYmFzZWQgb24gcHJldmlvdXMgcXVlcnkgYXJndW1lbnRzXG4gICAgICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBvZiB0aGUgZXZlbnQgYmVpbmcgZmlyZWRcbiAgICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQgZGF0YVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLm9uRXZlbnQgPSBmdW5jdGlvbiAoaW5kZXgsIGV2ZW50KSB7XG4gICAgICAgIHZhciBlXzUsIF9hO1xuICAgICAgICB0aGlzLmlzUnVubmluZ1N5c3RlbXMgPSB0cnVlO1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IHRoaXMuZXZlbnRzW2luZGV4XTtcbiAgICAgICAgdmFyIGV2ZW50QXJyID0gW2V2ZW50XTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoc3Vic2NyaWJlci5xUmVzdWx0LmVudGl0aWVzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBlbnRpdHkgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGV2ZW50QXJyLmNvbmNhdCh0aGlzLmNyZWF0ZUFyZ3MoZW50aXR5KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHNbaW5kZXhdLnN5c3RlbS5hcHBseShudWxsLCBhcmdzLmNvbmNhdChzdWJzY3JpYmVyLnFSZXN1bHQuc2hhcmVkQXJncykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1J1bm5pbmdTeXN0ZW1zID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWZ0ZXJVcGRhdGVMb29wLnRyaWdnZXIoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludm9rZXMgYWxsIG5vcm1hbCBzeXN0ZW1zIGFuZCBzdXBwbGllcyB0aGVtIHdpdGggZGVsdGEgdGltZSBhbmRcbiAgICAgKiByZWxldmFudCBhcmd1bWVudHMgYmFzZWQgb24gc3lzdGVtIHF1ZXJ5XG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzYsIF9hLCBlXzcsIF9iO1xuICAgICAgICB0aGlzLmlzUnVubmluZ1N5c3RlbXMgPSB0cnVlO1xuICAgICAgICB0aGlzLnByZXZSdW4gPSAodGhpcy5wcmV2UnVuKSA/IHRoaXMucHJldlJ1biA6IERhdGUubm93KCk7XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgZGVsdGFUaW1lID0gWyhub3cgLSB0aGlzLnByZXZSdW4pIC8gMTAwMF07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHRoaXMuc3lzdGVtcyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3lzdGVtID0gX2QudmFsdWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2UgPSAoZV83ID0gdm9pZCAwLCBfX3ZhbHVlcyhzeXN0ZW0ucVJlc3VsdC5lbnRpdGllcykpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gX2YudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGRlbHRhVGltZS5jb25jYXQodGhpcy5jcmVhdGVBcmdzKGVudGl0eSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtLnN5c3RlbS5hcHBseShudWxsLCBhcmdzLmNvbmNhdChzeXN0ZW0ucVJlc3VsdC5zaGFyZWRBcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfN18xKSB7IGVfNyA9IHsgZXJyb3I6IGVfN18xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZiAmJiAhX2YuZG9uZSAmJiAoX2IgPSBfZS5yZXR1cm4pKSBfYi5jYWxsKF9lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNykgdGhyb3cgZV83LmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzZfMSkgeyBlXzYgPSB7IGVycm9yOiBlXzZfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNikgdGhyb3cgZV82LmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1J1bm5pbmdTeXN0ZW1zID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWZ0ZXJVcGRhdGVMb29wLnRyaWdnZXIoKTtcbiAgICAgICAgdGhpcy5wcmV2UnVuID0gbm93O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLmNyZWF0ZUFyZ3MgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgdmFyIGVfOCwgX2E7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKGVudHJ5LmNvbXBvbmVudHMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBhcmdDb21wID0gdGhpcy5jb21wb25lbnRzLmdldChjb21wb25lbnQudHlwZVN0cikudW5zYWZlR2V0KGNvbXBvbmVudC5pbmRleCk7XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ0NvbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzhfMSkgeyBlXzggPSB7IGVycm9yOiBlXzhfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfOCkgdGhyb3cgZV84LmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUuaW52YWxpZGF0ZVF1ZXJ5UmVzdWx0cyA9IGZ1bmN0aW9uIChjaGFuZ2VUeXBlU3RyKSB7XG4gICAgICAgIHZhciBlXzksIF9hLCBlXzEwLCBfYjtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGlzQ29tcG9uZW50SW5RdWVyeSA9IGZ1bmN0aW9uICh0eXBlU3RyLCBub2RlKSB7XG4gICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXNjX3F1ZXJ5X21vZGVsXzEuaXNRdWVyeU5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVmdEZpbmQgPSBpc0NvbXBvbmVudEluUXVlcnkodHlwZVN0ciwgbm9kZS5sZWZ0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0RmluZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJpZ2h0RmluZCA9IGlzQ29tcG9uZW50SW5RdWVyeSh0eXBlU3RyLCBub2RlLnJpZ2h0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIGlmIChyaWdodEZpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnR5cGVTdHIgPT09IHR5cGVTdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB1cGRhdGVkU3lzdGVtID0gZnVuY3Rpb24gKHN5c3RlbSkge1xuICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50SW5RdWVyeShjaGFuZ2VUeXBlU3RyLCBzeXN0ZW0ucXVlcnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnF1ZXJ5RW50aXRpZXMoc3lzdGVtLnF1ZXJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzeXN0ZW0ucVJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5zeXN0ZW1zKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBzeXN0ZW0gPSBfZC52YWx1ZTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0ucVJlc3VsdCA9IHVwZGF0ZWRTeXN0ZW0oc3lzdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV85XzEpIHsgZV85ID0geyBlcnJvcjogZV85XzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzkpIHRocm93IGVfOS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfZSA9IF9fdmFsdWVzKHRoaXMuZXZlbnRzKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBzeXN0ZW0gPSBfZi52YWx1ZTtcbiAgICAgICAgICAgICAgICBzeXN0ZW0ucVJlc3VsdCA9IHVwZGF0ZWRTeXN0ZW0oc3lzdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xMF8xKSB7IGVfMTAgPSB7IGVycm9yOiBlXzEwXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9mICYmICFfZi5kb25lICYmIChfYiA9IF9lLnJldHVybikpIF9iLmNhbGwoX2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEwKSB0aHJvdyBlXzEwLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFQ1NNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuRUNTTWFuYWdlciA9IEVDU01hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYW5hZ2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db21wb25lbnRQb29sID0gdm9pZCAwO1xuLy8gVE9ETzogaXRlcmF0b3Igd2lsbCBicmVhayBpZiB5b3UgYnJlYWsgZWFybHkgb3V0IG9mIGxvb3AgXG52YXIgQ29tcG9uZW50UG9vbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21wb25lbnRQb29sKGRlZmF1bHRWYWx1ZSwgc3RyaWRlKSB7XG4gICAgICAgIGlmIChzdHJpZGUgPT09IHZvaWQgMCkgeyBzdHJpZGUgPSAyMDsgfVxuICAgICAgICB0aGlzLnN0cmlkZSA9IHN0cmlkZTtcbiAgICAgICAgdGhpcy5wb29sID0gW107XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdGhpcy5vbkV4cGFuZFBvb2wodHJ1ZSk7XG4gICAgfVxuICAgIC8vIFRPRE86IGRpc3NhbGxvdyBlbnRpdHlJZCB0aGF0IGFscmVhZHkgZXhpc3QgXG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGVudGl0eUlkLCBvdmVycmlkZSkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggPj0gdGhpcy5wb29sLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5vbkV4cGFuZFBvb2woKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvb2xbdGhpcy5sZW5ndGhdLmVudGl0eUlkID0gZW50aXR5SWQ7XG4gICAgICAgIHZhciB0YXJnZXQgPSBvdmVycmlkZSAhPT0gbnVsbCAmJiBvdmVycmlkZSAhPT0gdm9pZCAwID8gb3ZlcnJpZGUgOiB0aGlzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdGhpcy5kZWVwQXNzaWduKHRoaXMucG9vbFt0aGlzLmxlbmd0aF0uZGF0YSwgdGFyZ2V0KTtcbiAgICAgICAgdGhpcy5sZW5ndGggKz0gMTtcbiAgICB9O1xuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChlbnRpdHlJZCkge1xuICAgICAgICB2YXIgaW5kZXhPZiA9IHRoaXMucG9vbC5maW5kSW5kZXgoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuZW50aXR5SWQgPT09IGVudGl0eUlkOyB9KTtcbiAgICAgICAgaWYgKGluZGV4T2YgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbW92ZWQgPSB0aGlzLnBvb2xbaW5kZXhPZl07XG4gICAgICAgIHZhciBsYXN0SW5kZXggPSB0aGlzLmxlbmd0aCAtIDE7XG4gICAgICAgIHRoaXMucG9vbFtpbmRleE9mXSA9IHRoaXMucG9vbFtsYXN0SW5kZXhdO1xuICAgICAgICByZW1vdmVkLmVudGl0eUlkID0gLTE7XG4gICAgICAgIHRoaXMucG9vbFtsYXN0SW5kZXhdID0gcmVtb3ZlZDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsYXN0SW5kZXg7XG4gICAgfTtcbiAgICAvLyBUT0RPOiB3ZSBzaG91bGQgbm90IGNoYW5nZSBjb21wb25lbnQtcG9vbCBzdGF0ZSwgd2Ugc2hvdWxkIHJldHVybiBhIHdyYXBwZXJcbiAgICAvLyAgICAgICBjbG9zanVyZS9vYmplY3QgdGhhdCBjb250YWlucyBwb3MgYW5kIHNvIG9uIHRvIGF2b2lkIGhlbGxpc2ggYnVnc1xuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zIDwgdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMucG9vbFt0aGlzLnBvcysrXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkb25lOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLnVuc2FmZUdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb29sW2luZGV4XTtcbiAgICB9O1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYW55XG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHZhciBpbmRleCA9IDA7IC8vIFRPRE86IGltcGxlbWVudCBlbnRyaWVzIHRvIGdldCBpbmRleCBpbiBmb3IgbG9vcFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjb21wID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShjb21wLCBpbmRleCwgdGhpcy5wb29sKSkgeyAvLyBUT0RPOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1hbnlcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2tmbiwgdGhpc0FyZykge1xuICAgICAgICB2YXIgZV8yLCBfYTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgaW5kZXggPSAwOyAvLyBUT0RPOiBpbXBsZW1lbnQgZW50cmllcyB0byBnZXQgaW5kZXggaW4gZm9yIGxvb3BcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja2ZuKGNvbXAsIGluZGV4LCB0aGlzLnBvb2wpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNvbXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLm9uRXhwYW5kUG9vbCA9IGZ1bmN0aW9uIChmaXJzdEV4cGFuZCkge1xuICAgICAgICBpZiAoZmlyc3RFeHBhbmQpIHtcbiAgICAgICAgICAgIHRoaXMucG9vbCA9IG5ldyBBcnJheSh0aGlzLnN0cmlkZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBvb2wubGVuZ3RoICs9IHRoaXMuc3RyaWRlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aDsgaSA8IHRoaXMucG9vbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wb29sW2ldID0ge1xuICAgICAgICAgICAgICAgIGVudGl0eUlkOiAtMSxcbiAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmRlZXBDb3B5KHRoaXMuZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gU291cmNlOiBodHRwczovL21lZGl1bS5jb20vamF2YXNjcmlwdC1pbi1wbGFpbi1lbmdsaXNoL2hvdy10by1kZWVwLWNvcHktb2JqZWN0cy1hbmQtYXJyYXlzLWluLWphdmFzY3JpcHQtN2M5MTEzNTliMDg5XG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUuZGVlcENvcHkgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmICghc291cmNlIHx8IHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYW55XG4gICAgICAgIHZhciBjb3B5ID0gQXJyYXkuaXNBcnJheShzb3VyY2UpID8gW10gOiB7fTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgY29weVtrZXldID0gdGhpcy5kZWVwQ29weShzb3VyY2Vba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgfTtcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS5kZWVwQXNzaWduID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVlcEFzc2lnbih0YXJnZXRba2V5XSwgc291cmNlW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcG9uZW50UG9vbDtcbn0oKSk7XG5leHBvcnRzLkNvbXBvbmVudFBvb2wgPSBDb21wb25lbnRQb29sO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50LXBvb2wuanMubWFwIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgfHxcbiAgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgdmFyIGRlc2NyaXB0b3JzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZXNjcmlwdG9yc1trZXlzW2ldXSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXlzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2NyaXB0b3JzO1xuICB9O1xuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnRzLmRlYnVnbG9nID0gZnVuY3Rpb24oc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTtcbiAgLy8gbGVnYWN5Li4uXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTtcbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIGV4cG9ydHMuX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbnZhciBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbCgndXRpbC5wcm9taXNpZnkuY3VzdG9tJykgOiB1bmRlZmluZWQ7XG5cbmV4cG9ydHMucHJvbWlzaWZ5ID0gZnVuY3Rpb24gcHJvbWlzaWZ5KG9yaWdpbmFsKSB7XG4gIGlmICh0eXBlb2Ygb3JpZ2luYWwgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwib3JpZ2luYWxcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcblxuICBpZiAoa0N1c3RvbVByb21pc2lmaWVkU3ltYm9sICYmIG9yaWdpbmFsW2tDdXN0b21Qcm9taXNpZmllZFN5bWJvbF0pIHtcbiAgICB2YXIgZm4gPSBvcmlnaW5hbFtrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xdO1xuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInV0aWwucHJvbWlzaWZ5LmN1c3RvbVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCwge1xuICAgICAgdmFsdWU6IGZuLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICBmdW5jdGlvbiBmbigpIHtcbiAgICB2YXIgcHJvbWlzZVJlc29sdmUsIHByb21pc2VSZWplY3Q7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBwcm9taXNlUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICBwcm9taXNlUmVqZWN0ID0gcmVqZWN0O1xuICAgIH0pO1xuXG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuICAgIGFyZ3MucHVzaChmdW5jdGlvbiAoZXJyLCB2YWx1ZSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcm9taXNlUmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9taXNlUmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0cnkge1xuICAgICAgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBwcm9taXNlUmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZm4sIE9iamVjdC5nZXRQcm90b3R5cGVPZihvcmlnaW5hbCkpO1xuXG4gIGlmIChrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sLCB7XG4gICAgdmFsdWU6IGZuLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhcbiAgICBmbixcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9yaWdpbmFsKVxuICApO1xufVxuXG5leHBvcnRzLnByb21pc2lmeS5jdXN0b20gPSBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xcblxuZnVuY3Rpb24gY2FsbGJhY2tpZnlPblJlamVjdGVkKHJlYXNvbiwgY2IpIHtcbiAgLy8gYCFyZWFzb25gIGd1YXJkIGluc3BpcmVkIGJ5IGJsdWViaXJkIChSZWY6IGh0dHBzOi8vZ29vLmdsL3Q1SVM2TSkuXG4gIC8vIEJlY2F1c2UgYG51bGxgIGlzIGEgc3BlY2lhbCBlcnJvciB2YWx1ZSBpbiBjYWxsYmFja3Mgd2hpY2ggbWVhbnMgXCJubyBlcnJvclxuICAvLyBvY2N1cnJlZFwiLCB3ZSBlcnJvci13cmFwIHNvIHRoZSBjYWxsYmFjayBjb25zdW1lciBjYW4gZGlzdGluZ3Vpc2ggYmV0d2VlblxuICAvLyBcInRoZSBwcm9taXNlIHJlamVjdGVkIHdpdGggbnVsbFwiIG9yIFwidGhlIHByb21pc2UgZnVsZmlsbGVkIHdpdGggdW5kZWZpbmVkXCIuXG4gIGlmICghcmVhc29uKSB7XG4gICAgdmFyIG5ld1JlYXNvbiA9IG5ldyBFcnJvcignUHJvbWlzZSB3YXMgcmVqZWN0ZWQgd2l0aCBhIGZhbHN5IHZhbHVlJyk7XG4gICAgbmV3UmVhc29uLnJlYXNvbiA9IHJlYXNvbjtcbiAgICByZWFzb24gPSBuZXdSZWFzb247XG4gIH1cbiAgcmV0dXJuIGNiKHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5KG9yaWdpbmFsKSB7XG4gIGlmICh0eXBlb2Ygb3JpZ2luYWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJvcmlnaW5hbFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICB9XG5cbiAgLy8gV2UgRE8gTk9UIHJldHVybiB0aGUgcHJvbWlzZSBhcyBpdCBnaXZlcyB0aGUgdXNlciBhIGZhbHNlIHNlbnNlIHRoYXRcbiAgLy8gdGhlIHByb21pc2UgaXMgYWN0dWFsbHkgc29tZWhvdyByZWxhdGVkIHRvIHRoZSBjYWxsYmFjaydzIGV4ZWN1dGlvblxuICAvLyBhbmQgdGhhdCB0aGUgY2FsbGJhY2sgdGhyb3dpbmcgd2lsbCByZWplY3QgdGhlIHByb21pc2UuXG4gIGZ1bmN0aW9uIGNhbGxiYWNraWZpZWQoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuXG4gICAgdmFyIG1heWJlQ2IgPSBhcmdzLnBvcCgpO1xuICAgIGlmICh0eXBlb2YgbWF5YmVDYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxhc3QgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgY2IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBtYXliZUNiLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICAvLyBJbiB0cnVlIG5vZGUgc3R5bGUgd2UgcHJvY2VzcyB0aGUgY2FsbGJhY2sgb24gYG5leHRUaWNrYCB3aXRoIGFsbCB0aGVcbiAgICAvLyBpbXBsaWNhdGlvbnMgKHN0YWNrLCBgdW5jYXVnaHRFeGNlcHRpb25gLCBgYXN5bmNfaG9va3NgKVxuICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAudGhlbihmdW5jdGlvbihyZXQpIHsgcHJvY2Vzcy5uZXh0VGljayhjYiwgbnVsbCwgcmV0KSB9LFxuICAgICAgICAgICAgZnVuY3Rpb24ocmVqKSB7IHByb2Nlc3MubmV4dFRpY2soY2FsbGJhY2tpZnlPblJlamVjdGVkLCByZWosIGNiKSB9KTtcbiAgfVxuXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihjYWxsYmFja2lmaWVkLCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3JpZ2luYWwpKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY2FsbGJhY2tpZmllZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvcmlnaW5hbCkpO1xuICByZXR1cm4gY2FsbGJhY2tpZmllZDtcbn1cbmV4cG9ydHMuY2FsbGJhY2tpZnkgPSBjYWxsYmFja2lmeTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59IiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNGdW5jdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSBmYWxzZTtcbmV4cG9ydCB2YXIgY29uZmlnID0ge1xuICAgIFByb21pc2U6IHVuZGVmaW5lZCxcbiAgICBzZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IC8qQF9fUFVSRV9fKi8gbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovIGNvbnNvbGUud2FybignREVQUkVDQVRFRCEgUnhKUyB3YXMgc2V0IHRvIHVzZSBkZXByZWNhdGVkIHN5bmNocm9ub3VzIGVycm9yIGhhbmRsaW5nIGJlaGF2aW9yIGJ5IGNvZGUgYXQ6IFxcbicgKyBlcnJvci5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzKSB7XG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovIGNvbnNvbGUubG9nKCdSeEpTOiBCYWNrIHRvIGEgYmV0dGVyIGVycm9yIGJlaGF2aW9yLiBUaGFuayB5b3UuIDwzJyk7XG4gICAgICAgIH1cbiAgICAgICAgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gdmFsdWU7XG4gICAgfSxcbiAgICBnZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZygpIHtcbiAgICAgICAgcmV0dXJuIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncztcbiAgICB9LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBob3N0UmVwb3J0RXJyb3IoZXJyKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRocm93IGVycjsgfSwgMCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ob3N0UmVwb3J0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9ob3N0UmVwb3J0RXJyb3InO1xuZXhwb3J0IHZhciBlbXB0eSA9IHtcbiAgICBjbG9zZWQ6IHRydWUsXG4gICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IH0sXG4gICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBpc0FycmF5ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gQXJyYXkuaXNBcnJheSB8fCAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJzsgfSk7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKGVycm9ycykge1xuICAgICAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnMgP1xuICAgICAgICAgICAgZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJykgOiAnJztcbiAgICAgICAgdGhpcy5uYW1lID0gJ1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIHJldHVybiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbn0pKCk7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzQXJyYXksX3V0aWxfaXNPYmplY3QsX3V0aWxfaXNGdW5jdGlvbixfdXRpbF9VbnN1YnNjcmlwdGlvbkVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vdXRpbC9pc09iamVjdCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbnZhciBTdWJzY3JpcHRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICBpZiAodW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVycm9ycztcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgX3BhcmVudE9yUGFyZW50cyA9IF9hLl9wYXJlbnRPclBhcmVudHMsIF91bnN1YnNjcmliZSA9IF9hLl91bnN1YnNjcmliZSwgX3N1YnNjcmlwdGlvbnMgPSBfYS5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucmVtb3ZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBfcGFyZW50T3JQYXJlbnRzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRPclBhcmVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihfdW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF91bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykgOiBbZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXkoX3N1YnNjcmlwdGlvbnMpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBfc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHZhciBzdWIgPSBfc3Vic2NyaXB0aW9uc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHN1YikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRlYXJkb3duO1xuICAgICAgICBpZiAoIXRlYXJkb3duKSB7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHRlYXJkb3duKSB7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbih0ZWFyZG93bik7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24gPT09IHRoaXMgfHwgc3Vic2NyaXB0aW9uLmNsb3NlZCB8fCB0eXBlb2Ygc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghKHN1YnNjcmlwdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24uX3N1YnNjcmlwdGlvbnMgPSBbdG1wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgdGVhcmRvd24gJyArIHRlYXJkb3duICsgJyBhZGRlZCB0byBTdWJzY3JpcHRpb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9wYXJlbnRPclBhcmVudHMgPSBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cyA9IFtfcGFyZW50T3JQYXJlbnRzLCB0aGlzXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzLmluZGV4T2YodGhpcykgPT09IC0xKSB7XG4gICAgICAgICAgICBfcGFyZW50T3JQYXJlbnRzLnB1c2godGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBbc3Vic2NyaXB0aW9uXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbkluZGV4ID0gc3Vic2NyaXB0aW9ucy5pbmRleE9mKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2Uoc3Vic2NyaXB0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKGVtcHR5KSB7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KG5ldyBTdWJzY3JpcHRpb24oKSkpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH07XG5mdW5jdGlvbiBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZXJyb3JzKSB7XG4gICAgcmV0dXJuIGVycm9ycy5yZWR1Y2UoZnVuY3Rpb24gKGVycnMsIGVycikgeyByZXR1cm4gZXJycy5jb25jYXQoKGVyciBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpID8gZXJyLmVycm9ycyA6IGVycik7IH0sIFtdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gICAgcmV0dXJuIHggIT09IG51bGwgJiYgdHlwZW9mIHggPT09ICdvYmplY3QnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNPYmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHJ4U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IC8qQF9fUFVSRV9fKi8gU3ltYm9sKCdyeFN1YnNjcmliZXInKVxuICAgICAgICA6ICdAQHJ4U3Vic2NyaWJlcl8nICsgLypAX19QVVJFX18qLyBNYXRoLnJhbmRvbSgpO1xufSkoKTtcbmV4cG9ydCB2YXIgJCRyeFN1YnNjcmliZXIgPSByeFN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yeFN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzRnVuY3Rpb24sX09ic2VydmVyLF9TdWJzY3JpcHRpb24sX2ludGVybmFsX3N5bWJvbF9yeFN1YnNjcmliZXIsX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbnZhciBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uT3JOZXh0LmFkZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZUFuZFJlY3ljbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gdGhpcy5fcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IF9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIFNhZmVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKF9wYXJlbnRTdWJzY3JpYmVyLCBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB2YXIgY29udGV4dCA9IF90aGlzO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0Lm5leHQ7XG4gICAgICAgICAgICBlcnJvciA9IG9ic2VydmVyT3JOZXh0LmVycm9yO1xuICAgICAgICAgICAgY29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAhPT0gZW1wdHlPYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0LnVuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGQoY29udGV4dC51bnN1YnNjcmliZS5iaW5kKGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9IF90aGlzLnVuc3Vic2NyaWJlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgX3RoaXMuX25leHQgPSBuZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCAmJiB0aGlzLl9uZXh0KSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX25leHQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgdmFyIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgPSBjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZztcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fY29tcGxldGUuY2FsbChfdGhpcy5fY29udGV4dCk7IH07XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclVuc3ViID0gZnVuY3Rpb24gKGZuLCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3IgPSBmdW5jdGlvbiAocGFyZW50LCBmbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICAgIHJldHVybiB4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF90b1N1YnNjcmliZXIsX3N5bWJvbF9vYnNlcnZhYmxlLF91dGlsX3BpcGUsX2NvbmZpZyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyB0b1N1YnNjcmliZXIgfSBmcm9tICcuL3V0aWwvdG9TdWJzY3JpYmVyJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG52YXIgT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLl9pc1NjYWxhciA9IGZhbHNlO1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBvcGVyYXRvciA9IHRoaXMub3BlcmF0b3I7XG4gICAgICAgIHZhciBzaW5rID0gdG9TdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBpZiAob3BlcmF0b3IpIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKG9wZXJhdG9yLmNhbGwoc2luaywgdGhpcy5zb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKHRoaXMuc291cmNlIHx8IChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiAhc2luay5zeW5jRXJyb3JUaHJvd2FibGUpID9cbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUoc2luaykgOlxuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVN1YnNjcmliZShzaW5rKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBzaW5rLnN5bmNFcnJvclZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2luaztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzaW5rKSkge1xuICAgICAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICByZXR1cm4gc291cmNlICYmIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtTeW1ib2xfb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BlcmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gdmFsdWUgPSB4OyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICBwcm9taXNlQ3RvciA9IGNvbmZpZy5Qcm9taXNlIHx8IFByb21pc2U7XG4gICAgfVxuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBQcm9taXNlIGltcGwgZm91bmQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2VDdG9yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIsX3N5bWJvbF9yeFN1YnNjcmliZXIsX09ic2VydmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuLi9PYnNlcnZlcic7XG5leHBvcnQgZnVuY3Rpb24gdG9TdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICBpZiAobmV4dE9yT2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmV4dE9yT2JzZXJ2ZXIgJiYgIWVycm9yICYmICFjb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIoZW1wdHlPYnNlcnZlcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGNhblJlcG9ydEVycm9yKG9ic2VydmVyKSB7XG4gICAgd2hpbGUgKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfYSA9IG9ic2VydmVyLCBjbG9zZWRfMSA9IF9hLmNsb3NlZCwgZGVzdGluYXRpb24gPSBfYS5kZXN0aW5hdGlvbiwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkO1xuICAgICAgICBpZiAoY2xvc2VkXzEgfHwgaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IGRlc3RpbmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuUmVwb3J0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWFwT3BlcmF0aW9uKHNvdXJjZSkge1xuICAgICAgICBpZiAodHlwZW9mIHByb2plY3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpKTtcbiAgICB9O1xufVxudmFyIE1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICB9XG4gICAgTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNYXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJvamVjdCwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTWFwT3BlcmF0b3IgfTtcbnZhciBNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWFwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJvamVjdCwgdGhpc0FyZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmcgfHwgX3RoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdC5jYWxsKHRoaXMudGhpc0FyZywgdmFsdWUsIHRoaXMuY291bnQrKyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNBcnJheSxfdXRpbF9pc0Z1bmN0aW9uLF9vcGVyYXRvcnNfbWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbnZhciB0b1N0cmluZyA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7IH0pKCk7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKGUpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbih0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucyk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXR1cFN1YnNjcmlwdGlvbihzb3VyY2VPYmosIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucykge1xuICAgIHZhciB1bnN1YnNjcmliZTtcbiAgICBpZiAoaXNFdmVudFRhcmdldChzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMSA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzIgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8yLm9mZihldmVudE5hbWUsIGhhbmRsZXIpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc05vZGVTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMyA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLmFkZExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzMucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc291cmNlT2JqICYmIHNvdXJjZU9iai5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNvdXJjZU9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24oc291cmNlT2JqW2ldLCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGV2ZW50IHRhcmdldCcpO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLmFkZCh1bnN1YnNjcmliZSk7XG59XG5mdW5jdGlvbiBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmouYWRkTGlzdGVuZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLm9uID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoub2ZmID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNFdmVudFRhcmdldChzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmouYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG52YXIgQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9BY3Rpb24nO1xudmFyIEFzeW5jQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIF90aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmlkIHx8IHRoaXMucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCB0aGlzLmlkLCBkZWxheSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCAmJiB0aGlzLmRlbGF5ID09PSBkZWxheSAmJiB0aGlzLnBlbmRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nID09PSBmYWxzZSAmJiB0aGlzLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLCB0aGlzLmlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICB2YXIgZXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3JWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMud29yayhzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgZXJyb3JWYWx1ZSA9ICEhZSAmJiBlIHx8IG5ldyBFcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgdmFyIGluZGV4ID0gYWN0aW9ucy5pbmRleE9mKHRoaXMpO1xuICAgICAgICB0aGlzLndvcmsgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gbnVsbDtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgYWN0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY0FjdGlvbjtcbn0oQWN0aW9uKSk7XG5leHBvcnQgeyBBc3luY0FjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNBY3Rpb24uanMubWFwXG4iLCJ2YXIgU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG5vdyA9IFNjaGVkdWxlci5ub3c7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5TY2hlZHVsZXJBY3Rpb24gPSBTY2hlZHVsZXJBY3Rpb247XG4gICAgICAgIHRoaXMubm93ID0gbm93O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHdvcmssIGRlbGF5LCBzdGF0ZSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5TY2hlZHVsZXJBY3Rpb24odGhpcywgd29yaykuc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5ub3cgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBEYXRlLm5vdygpOyB9O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xuZXhwb3J0IHsgU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9Bc3luY0FjdGlvbixfQXN5bmNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG5leHBvcnQgdmFyIGFzeW5jID0gLypAX19QVVJFX18qLyBuZXcgQXN5bmNTY2hlZHVsZXIoQXN5bmNBY3Rpb24pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG52YXIgQXN5bmNTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXN5bmNTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub3cgPSBTY2hlZHVsZXIubm93O1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFNjaGVkdWxlckFjdGlvbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICYmIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICE9PSBfdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgJiYgQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIHJldHVybiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZS5zY2hlZHVsZSh3b3JrLCBkZWxheSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuc2NoZWR1bGUuY2FsbCh0aGlzLCB3b3JrLCBkZWxheSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChhY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyO1xufShTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IEFzeW5jU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY1NjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2lzQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vaXNBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1lcmljKHZhbCkge1xuICAgIHJldHVybiAhaXNBcnJheSh2YWwpICYmICh2YWwgLSBwYXJzZUZsb2F0KHZhbCkgKyAxKSA+PSAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNOdW1lcmljLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2NoZWR1bGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zY2hlZHVsZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfc2NoZWR1bGVyX2FzeW5jLF91dGlsX2lzTnVtZXJpYyxfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc051bWVyaWMgfSBmcm9tICcuLi91dGlsL2lzTnVtZXJpYyc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGR1ZVRpbWUsIHBlcmlvZE9yU2NoZWR1bGVyLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoZHVlVGltZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGR1ZVRpbWUgPSAwO1xuICAgIH1cbiAgICB2YXIgcGVyaW9kID0gLTE7XG4gICAgaWYgKGlzTnVtZXJpYyhwZXJpb2RPclNjaGVkdWxlcikpIHtcbiAgICAgICAgcGVyaW9kID0gTnVtYmVyKHBlcmlvZE9yU2NoZWR1bGVyKSA8IDEgJiYgMSB8fCBOdW1iZXIocGVyaW9kT3JTY2hlZHVsZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1NjaGVkdWxlcihwZXJpb2RPclNjaGVkdWxlcikpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gcGVyaW9kT3JTY2hlZHVsZXI7XG4gICAgfVxuICAgIGlmICghaXNTY2hlZHVsZXIoc2NoZWR1bGVyKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBkdWUgPSBpc051bWVyaWMoZHVlVGltZSlcbiAgICAgICAgICAgID8gZHVlVGltZVxuICAgICAgICAgICAgOiAoK2R1ZVRpbWUgLSBzY2hlZHVsZXIubm93KCkpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCBkdWUsIHtcbiAgICAgICAgICAgIGluZGV4OiAwLCBwZXJpb2Q6IHBlcmlvZCwgc3Vic2NyaWJlcjogc3Vic2NyaWJlclxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIGluZGV4ID0gc3RhdGUuaW5kZXgsIHBlcmlvZCA9IHN0YXRlLnBlcmlvZCwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXI7XG4gICAgc3Vic2NyaWJlci5uZXh0KGluZGV4KTtcbiAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIGlmIChwZXJpb2QgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIHN0YXRlLmluZGV4ID0gaW5kZXggKyAxO1xuICAgIHRoaXMuc2NoZWR1bGUoc3RhdGUsIHBlcmlvZCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlck9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBGaWx0ZXJPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIEZpbHRlck9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRmlsdGVyU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyT3BlcmF0b3I7XG59KCkpO1xudmFyIEZpbHRlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRmlsdGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBGaWx0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIEVNUFRZID0gLypAX19QVVJFX18qLyBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KTtcbmV4cG9ydCBmdW5jdGlvbiBlbXB0eShzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSA6IEVNUFRZO1xufVxuZnVuY3Rpb24gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbXB0eS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9BcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9vYnNlcnZhYmxlX2VtcHR5LF9vYnNlcnZhYmxlX29mLF9vYnNlcnZhYmxlX3Rocm93RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgZW1wdHkgfSBmcm9tICcuL29ic2VydmFibGUvZW1wdHknO1xuaW1wb3J0IHsgb2YgfSBmcm9tICcuL29ic2VydmFibGUvb2YnO1xuaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4vb2JzZXJ2YWJsZS90aHJvd0Vycm9yJztcbmV4cG9ydCB2YXIgTm90aWZpY2F0aW9uS2luZDtcbi8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChOb3RpZmljYXRpb25LaW5kKSB7XG4gICAgTm90aWZpY2F0aW9uS2luZFtcIk5FWFRcIl0gPSBcIk5cIjtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiRVJST1JcIl0gPSBcIkVcIjtcbiAgICBOb3RpZmljYXRpb25LaW5kW1wiQ09NUExFVEVcIl0gPSBcIkNcIjtcbn0pKE5vdGlmaWNhdGlvbktpbmQgfHwgKE5vdGlmaWNhdGlvbktpbmQgPSB7fSkpO1xudmFyIE5vdGlmaWNhdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3RpZmljYXRpb24oa2luZCwgdmFsdWUsIGVycm9yKSB7XG4gICAgICAgIHRoaXMua2luZCA9IGtpbmQ7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLmhhc1ZhbHVlID0ga2luZCA9PT0gJ04nO1xuICAgIH1cbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5uZXh0ICYmIG9ic2VydmVyLm5leHQodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuZXJyb3IgJiYgb2JzZXJ2ZXIuZXJyb3IodGhpcy5lcnJvcik7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuY29tcGxldGUgJiYgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5kbyA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIGtpbmQgPSB0aGlzLmtpbmQ7XG4gICAgICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQgJiYgbmV4dCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvciAmJiBlcnJvcih0aGlzLmVycm9yKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZSAmJiBjb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24ucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uIChuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciAmJiB0eXBlb2YgbmV4dE9yT2JzZXJ2ZXIubmV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2ZShuZXh0T3JPYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kbyhuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS50b09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBraW5kID0gdGhpcy5raW5kO1xuICAgICAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgIHJldHVybiBvZih0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aHJvd0Vycm9yKHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIG5vdGlmaWNhdGlvbiBraW5kIHZhbHVlJyk7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb24oJ04nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbjtcbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5jcmVhdGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycik7XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBOb3RpZmljYXRpb24uY29tcGxldGVOb3RpZmljYXRpb247XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY29tcGxldGVOb3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKCdDJyk7XG4gICAgTm90aWZpY2F0aW9uLnVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbignTicsIHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIE5vdGlmaWNhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBOb3RpZmljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWNhdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlucHV0W2krK10pO1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQodGhpcy5zY2hlZHVsZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG9BcnJheSxfc2NoZWR1bGVkX3NjaGVkdWxlQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BcnJheSB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9BcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21BcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZVRvQXJyYXkoaW5wdXQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21BcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3IsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnJvcik7IH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHsgZXJyb3I6IGVycm9yLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyIH0pOyB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBkaXNwYXRjaChfYSkge1xuICAgIHZhciBlcnJvciA9IF9hLmVycm9yLCBzdWJzY3JpYmVyID0gX2Euc3Vic2NyaWJlcjtcbiAgICBzdWJzY3JpYmVyLmVycm9yKGVycm9yKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRocm93RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzU2NoZWR1bGVyLF9mcm9tQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIG9mKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcihzY2hlZHVsZXIpKSB7XG4gICAgICAgIGFyZ3MucG9wKCk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGFyZ3MsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5KGFyZ3MpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9mLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfc2NoZWR1bGVyX2FzeW5jLF91dGlsX2lzRGF0ZSxfU3Vic2NyaWJlcixfTm90aWZpY2F0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc0RhdGUgfSBmcm9tICcuLi91dGlsL2lzRGF0ZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuLi9Ob3RpZmljYXRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGF5KGRlbGF5LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHZhciBhYnNvbHV0ZURlbGF5ID0gaXNEYXRlKGRlbGF5KTtcbiAgICB2YXIgZGVsYXlGb3IgPSBhYnNvbHV0ZURlbGF5ID8gKCtkZWxheSAtIHNjaGVkdWxlci5ub3coKSkgOiBNYXRoLmFicyhkZWxheSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBEZWxheU9wZXJhdG9yKGRlbGF5Rm9yLCBzY2hlZHVsZXIpKTsgfTtcbn1cbnZhciBEZWxheU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlbGF5T3BlcmF0b3IoZGVsYXksIHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgIH1cbiAgICBEZWxheU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRGVsYXlTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZGVsYXksIHRoaXMuc2NoZWR1bGVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVsYXlPcGVyYXRvcjtcbn0oKSk7XG52YXIgRGVsYXlTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKERlbGF5U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWxheVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGRlbGF5LCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMucXVldWUgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmVycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWxheVN1YnNjcmliZXIuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHN0YXRlLnNvdXJjZTtcbiAgICAgICAgdmFyIHF1ZXVlID0gc291cmNlLnF1ZXVlO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gc3RhdGUuc2NoZWR1bGVyO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSBzdGF0ZS5kZXN0aW5hdGlvbjtcbiAgICAgICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDAgJiYgKHF1ZXVlWzBdLnRpbWUgLSBzY2hlZHVsZXIubm93KCkpIDw9IDApIHtcbiAgICAgICAgICAgIHF1ZXVlLnNoaWZ0KCkubm90aWZpY2F0aW9uLm9ic2VydmUoZGVzdGluYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZGVsYXlfMSA9IE1hdGgubWF4KDAsIHF1ZXVlWzBdLnRpbWUgLSBzY2hlZHVsZXIubm93KCkpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZShzdGF0ZSwgZGVsYXlfMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBzb3VyY2UuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlbGF5U3Vic2NyaWJlci5wcm90b3R5cGUuX3NjaGVkdWxlID0gZnVuY3Rpb24gKHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoRGVsYXlTdWJzY3JpYmVyLmRpc3BhdGNoLCB0aGlzLmRlbGF5LCB7XG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMsIGRlc3RpbmF0aW9uOiB0aGlzLmRlc3RpbmF0aW9uLCBzY2hlZHVsZXI6IHNjaGVkdWxlclxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBEZWxheVN1YnNjcmliZXIucHJvdG90eXBlLnNjaGVkdWxlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5lcnJvcmVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyBEZWxheU1lc3NhZ2Uoc2NoZWR1bGVyLm5vdygpICsgdGhpcy5kZWxheSwgbm90aWZpY2F0aW9uKTtcbiAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZShzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWxheVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVOb3RpZmljYXRpb24oTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQodmFsdWUpKTtcbiAgICB9O1xuICAgIERlbGF5U3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmVycm9yZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgRGVsYXlTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVOb3RpZmljYXRpb24oTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlKCkpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVsYXlTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG52YXIgRGVsYXlNZXNzYWdlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlbGF5TWVzc2FnZSh0aW1lLCBub3RpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy50aW1lID0gdGltZTtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb24gPSBub3RpZmljYXRpb247XG4gICAgfVxuICAgIHJldHVybiBEZWxheU1lc3NhZ2U7XG59KCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4oK3ZhbHVlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRGF0ZS5qcy5tYXBcbiIsImV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yMkQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hZ25pdHVkZSh2ZWN0b3I6IFZlY3RvcjJEKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh2ZWN0b3IueCwgMikgKyBNYXRoLnBvdyh2ZWN0b3IueSwgMikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKHZlY3RvcjogVmVjdG9yMkQpOiBWZWN0b3IyRCB7XG4gIGNvbnN0IG15TWFnbml0dWRlID0gbWFnbml0dWRlKHZlY3Rvcik7XG4gIGlmIChteU1hZ25pdHVkZSA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHg6IHZlY3Rvci54IC8gbXlNYWduaXR1ZGUsXG4gICAgeTogdmVjdG9yLnkgLyBteU1hZ25pdHVkZVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUodmVjdG9yOiBWZWN0b3IyRCwgdmFsdWU6IG51bWJlcik6IFZlY3RvcjJEIHtcbiAgcmV0dXJuIHtcbiAgICB4OiB2ZWN0b3IueCAqIHZhbHVlLFxuICAgIHk6IHZlY3Rvci55ICogdmFsdWUsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKCk6IFZlY3RvcjJEIHtcbiAgcmV0dXJuIHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcbn0iLCJpbXBvcnQge2lzQ29sbGluZywgUmVjdGFuZ2xlfSBmcm9tICcuL21vZGVsL3JlY3RhbmdsZSc7XG5pbXBvcnQge01vdmFibGV9IGZyb20gJy4vbW9kZWwvbW92YWJsZSc7XG5pbXBvcnQge1BsYXllcn0gZnJvbSAnLi9tb2RlbC9wbGF5ZXIubW9kZWwnO1xuaW1wb3J0IHtmcm9tRXZlbnQsIHRpbWVyfSBmcm9tICdyeGpzJztcbmltcG9ydCB7ZGVsYXksIGZpbHRlciwgbWFwfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge21hZ25pdHVkZSwgbm9ybWFsaXplLCBzY2FsZSwgVmVjdG9yMkQsIHplcm99IGZyb20gJy4vbW9kZWwvdmVjdG9yMkQubW9kZWwnO1xuaW1wb3J0IHtCdWxsZXR9IGZyb20gJy4vbW9kZWwvYnVsbGV0JztcbmltcG9ydCB7RW5lbXlUYWd9IGZyb20gJy4vbW9kZWwvZW5lbXknO1xuaW1wb3J0IHtVbmlxdWVUYWd9IGZyb20gJy4vbW9kZWwvdW5pcXVlJztcbmltcG9ydCB7IFNjb3JlVGV4dFRhZywgU2NvcmVUZXh0IH0gZnJvbSAnLi9tb2RlbC9zY29yZS10ZXh0JztcbmltcG9ydCB7IFxuICBFQ1NNYW5hZ2VyLCBcbiAgUXVlcnlOb2RlLCBcbiAgUXVlcnlUb2tlbiwgXG4gIENvbXBvbmVudCwgXG4gIHJlZ2lzdGVyQ29tcG9uZW50VHlwZSwgXG4gIGFkZENvbXBvbmVudCwgXG4gIHJlZ2lzdGVyU3lzdGVtLFxuICByZW1vdmVDb21wb25lbnQsXG59IGZyb20gJ25haXZlLXRzLWVjcyc7XG5pbXBvcnQgeyBJbmFjdGl2ZVRhZyB9IGZyb20gJy4vbW9kZWwvaW5hY3RpdmUtdGFnJztcblxuLy8gVE9ETzogVXNpbmcgdW5pcXVlIHRhZ3MgZm9yIGVhY2ggdHlwZSAoYnVsbGVyIGFuZCBlbmVteSkgd291bGQgc2F2ZSBzb21lIGludmFsaWRhdGVkIHF1ZXJpZXNcblxuZXhwb3J0IGNsYXNzIFdhdmVTaG9vdGVyR2FtZSB7XG4gIHB1YmxpYyByZWFkb25seSBFTkVNSUVTX1NQRUVEID0gMjEwO1xuICBwdWJsaWMgcmVhZG9ubHkgQlVMTEVUX1NQRUVEID0gNTAwO1xuICBwdWJsaWMgcmVhZG9ubHkgUExBWUVSX1NQRUVEID0gMjUwO1xuICBwdWJsaWMgcmVhZG9ubHkgU0NPUkVfVEVYVF9TUEVFRCA9IDIwMDtcblxuICBwdWJsaWMgcmVhZG9ubHkgUExBWUVSX1JFQ1Q6IFJlY3RhbmdsZSA9IHtcbiAgICBjb2xvcjogJyMzZjUxYjUnLCBcbiAgICBzaXplOiB7IHg6IDIwLCB5OiAzMCB9XG4gIH07XG5cbiAgcmVhZG9ubHkgRU5FTUlFU19DT1VOVCA9IDQwO1xuICByZWFkb25seSBCVUxMRVRfQ09VTlQgPSAyMDtcblxuICBwdWJsaWMga2V5c0Rvd246IHN0cmluZ1tdID0gW107XG4gIHB1YmxpYyBtYW5hZ2VyOiBFQ1NNYW5hZ2VyO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgdGhpcy5tYW5hZ2VyID0gbmV3IEVDU01hbmFnZXIoKTtcblxuICAgIGNvbnN0IHplcm9WZWN0b3I6IFZlY3RvcjJEID0gemVybygpOyBcblxuICAgIC8vIEFzIG9mIDEuNCBhbGwgY29tcG9uZW50cyBoYXMgdG8gYmUgcmVnaXN0ZXJlZCBiZWZvcmUgdGhleSBjYW4gYmUgYWRkZWRcbiAgICByZWdpc3RlckNvbXBvbmVudFR5cGU8VW5pcXVlVGFnPih0aGlzLm1hbmFnZXIsIHt9KTtcbiAgICByZWdpc3RlckNvbXBvbmVudFR5cGU8RW5lbXlUYWc+KHRoaXMubWFuYWdlciwge30pO1xuICAgIHJlZ2lzdGVyQ29tcG9uZW50VHlwZTxCdWxsZXQ+KHRoaXMubWFuYWdlciwgeyBtYXhSYW5nZTogODAwIH0pO1xuICAgIHJlZ2lzdGVyQ29tcG9uZW50VHlwZTxTY29yZVRleHQ+KHRoaXMubWFuYWdlciwge1xuICAgICAgY29udGVudDogJycsIFxuICAgICAgZm9udFNpemU6IDMwLCBcbiAgICAgIGFscGhhOiAxIFxuICAgIH0pO1xuICAgIHJlZ2lzdGVyQ29tcG9uZW50VHlwZTxTY29yZVRleHRUYWc+KHRoaXMubWFuYWdlciwge30pO1xuICAgIHJlZ2lzdGVyQ29tcG9uZW50VHlwZTxQbGF5ZXI+KHRoaXMubWFuYWdlciwgeyBzY29yZTogMCB9KTtcbiAgICByZWdpc3RlckNvbXBvbmVudFR5cGU8TW92YWJsZT4odGhpcy5tYW5hZ2VyLCB7XG4gICAgICBwb3NpdGlvbjogemVyb1ZlY3RvcixcbiAgICAgIHZlbG9jaXR5OiB6ZXJvVmVjdG9yLFxuICAgICAgc3BlZWQ6IDBcbiAgICB9KTtcbiAgICByZWdpc3RlckNvbXBvbmVudFR5cGU8UmVjdGFuZ2xlPih0aGlzLm1hbmFnZXIsIHtcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICBzaXplOiB7IHg6IDUwMCwgeTogNTAwIH1cbiAgICB9KTtcbiAgICByZWdpc3RlckNvbXBvbmVudFR5cGU8SW5hY3RpdmVUYWc+KHRoaXMubWFuYWdlciwgeyB9KTtcblxuICAgIGFkZENvbXBvbmVudDxVbmlxdWVUYWc+KHRoaXMubWFuYWdlciwgdGhpcy5tYW5hZ2VyLmNyZWF0ZUVudGl0eSgpLmVudGl0eUlkKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRU5FTUlFU19DT1VOVDsgaSsrKSB7XG4gICAgICBjb25zdCB7IGVudGl0eUlkIH0gPSB0aGlzLm1hbmFnZXIuY3JlYXRlRW50aXR5KCk7XG4gICAgICBhZGRDb21wb25lbnQ8RW5lbXlUYWc+KHRoaXMubWFuYWdlciwgZW50aXR5SWQpO1xuICAgICAgYWRkQ29tcG9uZW50PFJlY3RhbmdsZT4odGhpcy5tYW5hZ2VyLCBlbnRpdHlJZCwge1xuICAgICAgICBjb2xvcjogJyNmZjQwODEnLCBcbiAgICAgICAgc2l6ZTogeyB4OiAyMCwgeTogMzAgfVxuICAgICAgfSk7XG4gICAgICBhZGRDb21wb25lbnQ8TW92YWJsZT4odGhpcy5tYW5hZ2VyLCBlbnRpdHlJZCwge1xuICAgICAgICBwb3NpdGlvbjogemVyb1ZlY3RvcixcbiAgICAgICAgdmVsb2NpdHk6IHplcm9WZWN0b3IsXG4gICAgICAgIHNwZWVkOiB0aGlzLkVORU1JRVNfU1BFRURcbiAgICAgIH0pO1xuICAgICAgYWRkQ29tcG9uZW50PEluYWN0aXZlVGFnPih0aGlzLm1hbmFnZXIsIGVudGl0eUlkKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuQlVMTEVUX0NPVU5UOyBpKyspIHtcbiAgICAgIGNvbnN0IHsgZW50aXR5SWQgfSA9IHRoaXMubWFuYWdlci5jcmVhdGVFbnRpdHkoKTtcbiAgICAgIGFkZENvbXBvbmVudDxCdWxsZXQ+KHRoaXMubWFuYWdlciwgZW50aXR5SWQpO1xuICAgICAgYWRkQ29tcG9uZW50PFJlY3RhbmdsZT4odGhpcy5tYW5hZ2VyLCBlbnRpdHlJZCwge1xuICAgICAgICBjb2xvcjogJyNmZmZmZmYnLCBcbiAgICAgICAgc2l6ZTogeyB4OiA0LCB5OiA0IH1cbiAgICAgIH0pO1xuICAgICAgYWRkQ29tcG9uZW50PE1vdmFibGU+KHRoaXMubWFuYWdlciwgZW50aXR5SWQsIHtcbiAgICAgICAgcG9zaXRpb246IHplcm9WZWN0b3IsXG4gICAgICAgIHZlbG9jaXR5OiB6ZXJvVmVjdG9yLFxuICAgICAgICBzcGVlZDogdGhpcy5CVUxMRVRfU1BFRURcbiAgICAgIH0pO1xuICAgICAgYWRkQ29tcG9uZW50PEluYWN0aXZlVGFnPih0aGlzLm1hbmFnZXIsIGVudGl0eUlkKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGNvbnN0IHsgZW50aXR5SWQgfSA9IHRoaXMubWFuYWdlci5jcmVhdGVFbnRpdHkoKTtcbiAgICAgIGFkZENvbXBvbmVudDxTY29yZVRleHRUYWc+KHRoaXMubWFuYWdlciwgZW50aXR5SWQpO1xuICAgIH1cbiAgICBcbiAgICB7XG4gICAgICBjb25zdCB7IGVudGl0eUlkIH0gPSB0aGlzLm1hbmFnZXIuY3JlYXRlRW50aXR5KCk7XG4gICAgICBhZGRDb21wb25lbnQ8UGxheWVyPih0aGlzLm1hbmFnZXIsIGVudGl0eUlkKTtcbiAgICAgIGFkZENvbXBvbmVudDxNb3ZhYmxlPih0aGlzLm1hbmFnZXIsIGVudGl0eUlkLCB7XG4gICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgeDogY2FudmFzLndpZHRoICogMC41IC0gdGhpcy5QTEFZRVJfUkVDVC5zaXplLnggKiAwLjUsXG4gICAgICAgICAgeTogY2FudmFzLmhlaWdodCAqIDAuNSAtIHRoaXMuUExBWUVSX1JFQ1Quc2l6ZS55ICogMC41XG4gICAgICAgIH0sXG4gICAgICAgIHZlbG9jaXR5OiB6ZXJvVmVjdG9yLFxuICAgICAgICBzcGVlZDogdGhpcy5QTEFZRVJfU1BFRURcbiAgICAgIH0pO1xuICAgICAgYWRkQ29tcG9uZW50PFJlY3RhbmdsZT4odGhpcy5tYW5hZ2VyLCBlbnRpdHlJZCwge1xuICAgICAgICBjb2xvcjogJyMzZjUxYjUnLCBcbiAgICAgICAgc2l6ZTogeyB4OiAyMCwgeTogMzAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnJvbUV2ZW50KHdpbmRvdywgJ2tleWRvd24nKS5waXBlKFxuICAgICAgbWFwKGUgPT4gZSBhcyBLZXlib2FyZEV2ZW50KSxcbiAgICAgIGZpbHRlcigoZSkgPT5cbiAgICAgICAgZS5rZXkgPT09ICd3J1xuICAgICAgICB8fCBlLmtleSA9PT0gJ2EnXG4gICAgICAgIHx8IGUua2V5ID09PSAncydcbiAgICAgICAgfHwgZS5rZXkgPT09ICdkJ1xuICAgICAgKVxuICAgICkuc3Vic2NyaWJlKGUgPT4gdGhpcy5rZXlzRG93bi5wdXNoKGUua2V5KSk7XG5cbiAgICBmcm9tRXZlbnQod2luZG93LCAna2V5dXAnKS5waXBlKFxuICAgICAgbWFwKGUgPT4gZSBhcyBLZXlib2FyZEV2ZW50KSxcbiAgICAgIGZpbHRlcigoZSkgPT5cbiAgICAgICAgZS5rZXkgPT09ICd3J1xuICAgICAgICB8fCBlLmtleSA9PT0gJ2EnXG4gICAgICAgIHx8IGUua2V5ID09PSAncydcbiAgICAgICAgfHwgZS5rZXkgPT09ICdkJ1xuICAgICAgKVxuICAgICkuc3Vic2NyaWJlKGUgPT4gdGhpcy5rZXlzRG93biA9IHRoaXMua2V5c0Rvd24uZmlsdGVyKGsgPT4gayAhPT0gZS5rZXkpKTtcbiAgfVxuXG4gIGluaXRpYWxpemUoKTogdm9pZCB7XG4gICAgVXRpbGl0eU1vZHVsZS5pbml0aWFsaXplKHRoaXMubWFuYWdlciwgdGhpcy5jYW52YXMpO1xuXG4gICAgQnVsbGV0TW9kdWxlLmluaXRpYWxpemUodGhpcy5tYW5hZ2VyKTtcblxuICAgIGNvbnN0IGRpZmZpY3VsdHlTY2FsaW5nID0gKCkgPT4ge1xuICAgICAgY29uc3QgY2VpbGluZyA9IDIwMDA7XG4gICAgICBjb25zdCBwbGF5ZXJTY29yZSA9IDEwMDA7IC8vIFRPRE86XG4gICAgICByZXR1cm4gTWF0aC5taW4ocGxheWVyU2NvcmUgLyBjZWlsaW5nLCAxKTtcbiAgICB9O1xuICAgIEVuZW15TW9kdWxlLmluaXRpYWxpemUodGhpcywgZGlmZmljdWx0eVNjYWxpbmcpO1xuXG4gICAgY29uc3Qgdmlld0tleXNEb3duID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMua2V5c0Rvd25cbiAgICB9O1xuICAgIFBsYXllck1vZHVsZS5pbml0aWFsaXplKHRoaXMsIHZpZXdLZXlzRG93bik7XG4gIH1cblxuICBkaXNwYXRjaCgpOiB2b2lkIHtcbiAgICB0aGlzLm1hbmFnZXIuZGlzcGF0Y2goKTtcbiAgfVxufVxuXG5tb2R1bGUgVXRpbGl0eU1vZHVsZSB7XG4gIGV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKG1hbmFnZXI6IEVDU01hbmFnZXIsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHJEcmF3RW50aXR5U3lzdGVtKG1hbmFnZXIsIGN0eCk7XG4gICAgcmRyYXdTY29yZVRleHRTeXN0ZW0obWFuYWdlciwgY3R4KTtcblxuICAgIHJNb3ZlTW92YWJsZXNTeXN0ZW0obWFuYWdlcik7XG4gICAgck1vdmVTY29yZVRleHRTeXN0ZW0obWFuYWdlcik7XG4gIH1cblxuICBmdW5jdGlvbiByRHJhd0VudGl0eVN5c3RlbShtYW5hZ2VyOiBFQ1NNYW5hZ2VyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgIGNvbnN0IHF1ZXJ5ID0ge1xuICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uQU5ELFxuICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgIHR5cGVTdHI6ICdSZWN0YW5nbGUnLFxuICAgICAgfSxcbiAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uTk9ULFxuICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICB0eXBlU3RyOiAnTW92YWJsZSdcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgIHR5cGVTdHI6ICdJbmFjdGl2ZVRhZydcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBkcmF3UmVjdGFuZ2xlU3lzdGVtID0gKF86IG51bWJlciwgcmVjdDogQ29tcG9uZW50PFJlY3RhbmdsZT4sIG1vdmFibGU6IENvbXBvbmVudDxNb3ZhYmxlPikgPT4ge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHJlY3QuZGF0YS5jb2xvcjtcbiAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgbW92YWJsZS5kYXRhLnBvc2l0aW9uLngsIFxuICAgICAgICBtb3ZhYmxlLmRhdGEucG9zaXRpb24ueSwgXG4gICAgICAgIHJlY3QuZGF0YS5zaXplLngsIFxuICAgICAgICByZWN0LmRhdGEuc2l6ZS55XG4gICAgICApO1xuICAgIH07XG5cbiAgICBtYW5hZ2VyLnJlZ2lzdGVyU3lzdGVtV2l0aEVzY1F1ZXJ5KGRyYXdSZWN0YW5nbGVTeXN0ZW0sIHF1ZXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJkcmF3U2NvcmVUZXh0U3lzdGVtKG1hbmFnZXI6IEVDU01hbmFnZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XG4gICAgY29uc3QgZHJhd1Njb3JlVGV4dFN5c3RlbSA9IChfOiBudW1iZXIsIHN0OiBDb21wb25lbnQ8U2NvcmVUZXh0PiwgbW92OiBDb21wb25lbnQ8TW92YWJsZT4pID0+IHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBgcmdiYSgyNTUsIDI1NSwgMjU1LCAke3N0LmRhdGEuYWxwaGF9KWA7IFxuICAgICAgY3R4LmZvbnQgPSBgJHtzdC5kYXRhLmZvbnRTaXplfXB4IHNlcmlmYDtcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcblxuICAgICAgY3R4LmZpbGxUZXh0KHN0LmRhdGEuY29udGVudCwgbW92LmRhdGEucG9zaXRpb24ueCwgbW92LmRhdGEucG9zaXRpb24ueSk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJTeXN0ZW0obWFuYWdlciwgZHJhd1Njb3JlVGV4dFN5c3RlbSk7XG4gIH1cblxuICBmdW5jdGlvbiByTW92ZU1vdmFibGVzU3lzdGVtKG1hbmFnZXI6IEVDU01hbmFnZXIpIHtcbiAgICBjb25zdCBtb3ZhYmxlU3lzdGVtID0gKGRlbHRhVGltZTogbnVtYmVyLCBtb3ZhYmxlOiBDb21wb25lbnQ8TW92YWJsZT4pID0+IHtcbiAgICAgIG1vdmFibGUuZGF0YS52ZWxvY2l0eSA9IHNjYWxlKG5vcm1hbGl6ZShtb3ZhYmxlLmRhdGEudmVsb2NpdHkpLCBtb3ZhYmxlLmRhdGEuc3BlZWQpO1xuICAgICAgbW92YWJsZS5kYXRhLnBvc2l0aW9uLnggKz0gbW92YWJsZS5kYXRhLnZlbG9jaXR5LnggKiBkZWx0YVRpbWU7XG4gICAgICBtb3ZhYmxlLmRhdGEucG9zaXRpb24ueSArPSBtb3ZhYmxlLmRhdGEudmVsb2NpdHkueSAqIGRlbHRhVGltZTtcbiAgICB9O1xuXG4gICAgcmVnaXN0ZXJTeXN0ZW0obWFuYWdlciwgbW92YWJsZVN5c3RlbSk7XG4gIH1cblxuICBmdW5jdGlvbiByTW92ZVNjb3JlVGV4dFN5c3RlbShtYW5hZ2VyOiBFQ1NNYW5hZ2VyKSB7XG4gICAgY29uc3Qgc3BlZWREZWNheSA9IDgwO1xuICAgIGNvbnN0IHNpemVEZWNheSA9IDIwO1xuICAgIGNvbnN0IGFscGhhRGVjYXkgPSAwLjQ7XG5cbiAgICBjb25zdCBtb3ZlU2NvcmVUZXh0U3lzdGVtID0gKGRlbHRhVGltZTogbnVtYmVyLCBzY29yZVRleHQ6IENvbXBvbmVudDxTY29yZVRleHQ+LCBtb3ZhYmxlOiBDb21wb25lbnQ8TW92YWJsZT4pID0+IHtcbiAgICAgIG1vdmFibGUuZGF0YS5zcGVlZCAtPSBzcGVlZERlY2F5ICogZGVsdGFUaW1lO1xuICAgICAgc2NvcmVUZXh0LmRhdGEuZm9udFNpemUgKz0gc2l6ZURlY2F5ICogZGVsdGFUaW1lO1xuICAgICAgc2NvcmVUZXh0LmRhdGEuYWxwaGEgLT0gYWxwaGFEZWNheSAqIGRlbHRhVGltZTtcbiAgICAgXG4gICAgICBpZiAobW92YWJsZS5kYXRhLnNwZWVkIDwgMzApIHtcbiAgICAgICAgcmVtb3ZlQ29tcG9uZW50PFNjb3JlVGV4dD4obWFuYWdlciwgc2NvcmVUZXh0LmVudGl0eUlkKTtcbiAgICAgICAgcmVtb3ZlQ29tcG9uZW50PE1vdmFibGU+KG1hbmFnZXIsIG1vdmFibGUuZW50aXR5SWQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZWdpc3RlclN5c3RlbShtYW5hZ2VyLCBtb3ZlU2NvcmVUZXh0U3lzdGVtKTtcbiAgfVxufVxuXG5tb2R1bGUgUGxheWVyTW9kdWxlIHtcbiAgZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUoZ2FtZTogV2F2ZVNob290ZXJHYW1lLCB2aWV3S2V5c0Rvd246ICgpID0+IHN0cmluZyBbXSkge1xuICAgIHJQbGF5ZXJNb3ZlU3lzdGVtKGdhbWUubWFuYWdlciwgdmlld0tleXNEb3duKTtcbiAgICByU2hvb3RCdWxsZXRFdmVudChnYW1lLm1hbmFnZXIsIGdhbWUuY2FudmFzLCBnYW1lLkJVTExFVF9TUEVFRCk7XG4gIH1cblxuICBmdW5jdGlvbiByUGxheWVyTW92ZVN5c3RlbShtYW5hZ2VyOiBFQ1NNYW5hZ2VyLCB2aWV3S2V5c0Rvd246ICgpID0+IHN0cmluZ1tdKSB7XG4gICAgY29uc3QgcGxheWVyTW92ZVN5c3RlbSA9IChkZWx0YVRpbWU6IG51bWJlciwgXzogQ29tcG9uZW50PFBsYXllcj4sIG1vdmFibGU6IENvbXBvbmVudDxNb3ZhYmxlPikgPT4ge1xuICAgICAgY29uc3Qga2V5cyA9IHZpZXdLZXlzRG93bigpO1xuXG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgY2FzZSAndyc6XG4gICAgICAgICAgICBtb3ZhYmxlLmRhdGEudmVsb2NpdHkueSA9IC0xO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYSc6XG4gICAgICAgICAgICBtb3ZhYmxlLmRhdGEudmVsb2NpdHkueCA9IC0xO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncyc6XG4gICAgICAgICAgICBtb3ZhYmxlLmRhdGEudmVsb2NpdHkueSA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgIG1vdmFibGUuZGF0YS52ZWxvY2l0eS54ID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtb3ZhYmxlLmRhdGEudmVsb2NpdHkgPSBzY2FsZShub3JtYWxpemUobW92YWJsZS5kYXRhLnZlbG9jaXR5KSwgbW92YWJsZS5kYXRhLnNwZWVkKTtcbiAgICAgIG1vdmFibGUuZGF0YS5wb3NpdGlvbi54ICs9IG1vdmFibGUuZGF0YS52ZWxvY2l0eS54ICogZGVsdGFUaW1lO1xuICAgICAgbW92YWJsZS5kYXRhLnBvc2l0aW9uLnkgKz0gbW92YWJsZS5kYXRhLnZlbG9jaXR5LnkgKiBkZWx0YVRpbWU7XG5cbiAgICAgIG1vdmFibGUuZGF0YS52ZWxvY2l0eS54ID0gMDtcbiAgICAgIG1vdmFibGUuZGF0YS52ZWxvY2l0eS55ID0gMDtcbiAgICB9O1xuXG4gICAgcmVnaXN0ZXJTeXN0ZW0obWFuYWdlciwgcGxheWVyTW92ZVN5c3RlbSk7XG4gIH1cblxuICBmdW5jdGlvbiByU2hvb3RCdWxsZXRFdmVudChtYW5hZ2VyOiBFQ1NNYW5hZ2VyLCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBidWxsZXRTcGVlZDogbnVtYmVyKSB7XG5cbiAgICBjb25zdCBxdWVyeTogUXVlcnlOb2RlID0ge1xuICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uQU5ELFxuICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgIHR5cGVTdHI6ICdQbGF5ZXInXG4gICAgICB9LFxuICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgIHR5cGVTdHI6ICdNb3ZhYmxlJ1xuICAgICAgICB9LFxuICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uT1IsXG4gICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICB0eXBlU3RyOiAnUmVjdGFuZ2xlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uU0hBUkVELFxuICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCxcbiAgICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgdHlwZVN0cjogJ0J1bGxldCdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCxcbiAgICAgICAgICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGVTdHI6ICdNb3ZhYmxlJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgICAgICAgdHlwZVN0cjogJ0luYWN0aXZlVGFnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGNvbnN0IHNob290QnVsbGV0RXZlbnQgPSAoXG4gICAgICBldmVudDogRXZlbnQsIFxuICAgICAgX3BsYXllcjogQ29tcG9uZW50PFBsYXllcj4sXG4gICAgICBwTW92YWJsZTogQ29tcG9uZW50PE1vdmFibGU+LFxuICAgICAgcFJlY3RhbmdsZTogQ29tcG9uZW50PFJlY3RhbmdsZT4sXG4gICAgICBidWxsZXQ6IENvbXBvbmVudDxCdWxsZXQ+W10sIFxuICAgICAgYk1vdmFibGU6IENvbXBvbmVudDxNb3ZhYmxlPltdLFxuICAgICAgX2JJbmFjdGl2ZTogQ29tcG9uZW50PEluYWN0aXZlVGFnPltdXG4gICAgKSA9PiB7XG4gICAgIFxuICAgICAgaWYgKGJ1bGxldD8ubGVuZ3RoIDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGUgPSBldmVudCBhcyBNb3VzZUV2ZW50O1xuXG4gICAgICBjb25zdCBjZW50ZXJYID0gcE1vdmFibGUuZGF0YS5wb3NpdGlvbi54ICsgcFJlY3RhbmdsZS5kYXRhLnNpemUueCAqIDAuNTtcbiAgICAgIGNvbnN0IGNlbnRlclkgPSBwTW92YWJsZS5kYXRhLnBvc2l0aW9uLnkgKyBwUmVjdGFuZ2xlLmRhdGEuc2l6ZS55ICogMC41O1xuXG4gICAgICBjb25zdCBjbGlja0RlbHRhID0ge1xuICAgICAgICB4OiBlLmNsaWVudFggLSAoY2VudGVyWCkgLSBjYW52YXMub2Zmc2V0TGVmdCxcbiAgICAgICAgeTogZS5jbGllbnRZIC0gKGNlbnRlclkpIC0gY2FudmFzLm9mZnNldFRvcFxuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2hvb3REaXJlY3Rpb24gPSBub3JtYWxpemUoY2xpY2tEZWx0YSk7XG4gICAgICBjb25zdCBidWxsZXRTcGF3biA9IHNjYWxlKHNob290RGlyZWN0aW9uLCAyMCk7XG5cbiAgICAgIHJlbW92ZUNvbXBvbmVudDxJbmFjdGl2ZVRhZz4obWFuYWdlciwgYnVsbGV0WzBdLmVudGl0eUlkKTtcbiAgICAgIGJNb3ZhYmxlWzBdLmRhdGEucG9zaXRpb24gPSB7XG4gICAgICAgIHg6IGNlbnRlclggKyBidWxsZXRTcGF3bi54LFxuICAgICAgICB5OiBjZW50ZXJZICsgYnVsbGV0U3Bhd24ueSxcbiAgICAgIH07XG4gICAgICBiTW92YWJsZVswXS5kYXRhLnZlbG9jaXR5ID0gc2hvb3REaXJlY3Rpb247XG4gICAgICBiTW92YWJsZVswXS5kYXRhLnNwZWVkID0gYnVsbGV0U3BlZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uVXNlckNsaWNrID0gbWFuYWdlci5yZWdpc3RlckV2ZW50V2l0aEVzY1F1ZXJ5KHNob290QnVsbGV0RXZlbnQsIHF1ZXJ5KTtcbiAgICBmcm9tRXZlbnQoY2FudmFzLCAnY2xpY2snKS5zdWJzY3JpYmUoZSA9PiBtYW5hZ2VyLm9uRXZlbnQob25Vc2VyQ2xpY2ssIGUpKTtcbiAgfVxufVxuXG5tb2R1bGUgRW5lbXlNb2R1bGUge1xuICBleHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZShnYW1lOiBXYXZlU2hvb3RlckdhbWUsIGRpZmZpY3VsdHlTY2FsaW5nOiAoKSA9PiBudW1iZXIpIHtcbiAgICByVGFyZ2V0UGxheWVyU3lzdGVtKGdhbWUubWFuYWdlcik7XG4gICAgclNwYXduRW5lbXlTeXN0ZW0oZ2FtZS5tYW5hZ2VyLCBnYW1lLmNhbnZhcywgZ2FtZS5FTkVNSUVTX1NQRUVELCBkaWZmaWN1bHR5U2NhbGluZyk7XG4gIH1cblxuICBmdW5jdGlvbiByVGFyZ2V0UGxheWVyU3lzdGVtKG1hbmFnZXI6IEVDU01hbmFnZXIpIHtcbiAgICBjb25zdCBxdWVyeTogUXVlcnlOb2RlID0ge1xuICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgdHlwZVN0cjogJ0VuZW15VGFnJ1xuICAgICAgICB9LFxuICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5OT1QsXG4gICAgICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlU3RyOiAnTW92YWJsZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLk9SLFxuICAgICAgICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlU3RyOiAnSW5hY3RpdmVUYWcnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5TSEFSRUQsXG4gICAgICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlU3RyOiAnUGxheWVyJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlU3RyOiAnTW92YWJsZSdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCB0YXJnZXRQbGF5ZXJTeXN0ZW0gPSAoXG4gICAgICBfOiBudW1iZXIsXG4gICAgICBfZW5lbXk6IENvbXBvbmVudDxFbmVteVRhZz4sXG4gICAgICBlTW92YWJsZTogQ29tcG9uZW50PE1vdmFibGU+LFxuICAgICAgX3BsYXllcjogQ29tcG9uZW50PFBsYXllcj5bXSxcbiAgICAgIHBNb3ZhYmxlOiBDb21wb25lbnQ8TW92YWJsZT5bXSBcbiAgICAgICkgPT4ge1xuICAgICAgICBlTW92YWJsZS5kYXRhLnZlbG9jaXR5ID0ge1xuICAgICAgICAgICAgICB4OiBwTW92YWJsZVswXS5kYXRhLnBvc2l0aW9uLnggLSBlTW92YWJsZS5kYXRhLnBvc2l0aW9uLngsXG4gICAgICAgICAgICAgIHk6IHBNb3ZhYmxlWzBdLmRhdGEucG9zaXRpb24ueSAtIGVNb3ZhYmxlLmRhdGEucG9zaXRpb24ueVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBtYW5hZ2VyLnJlZ2lzdGVyU3lzdGVtV2l0aEVzY1F1ZXJ5KHRhcmdldFBsYXllclN5c3RlbSwgcXVlcnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gclNwYXduRW5lbXlTeXN0ZW0obWFuYWdlcjogRUNTTWFuYWdlciwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgZW5lbXlTcGVlZDogbnVtYmVyLCBkaWZmaWN1bHR5U2NhbGluZzogKCkgPT4gbnVtYmVyKSB7XG4gICAgY29uc3QgcXVlcnk6IFF1ZXJ5Tm9kZSA9IHtcbiAgICAgIHRva2VuOiBRdWVyeVRva2VuLk9SLFxuICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgIHR5cGVTdHI6ICdVbmlxdWVUYWcnXG4gICAgICB9LFxuICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5TSEFSRUQsXG4gICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCxcbiAgICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgIHR5cGVTdHI6ICdFbmVteVRhZydcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCwgXG4gICAgICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgdHlwZVN0cjogJ01vdmFibGUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgICB0eXBlU3RyOiAnSW5hY3RpdmVUYWcnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNwYXduRW5lbXlTeXN0ZW0gPSAoXG4gICAgICBfZSA6IEV2ZW50LCBcbiAgICAgIF91OiBDb21wb25lbnQ8VW5pcXVlVGFnPiwgXG4gICAgICBlbmVteVRhZ3M6IENvbXBvbmVudDxFbmVteVRhZz5bXSxcbiAgICAgIG1vdmFibGVzOiBDb21wb25lbnQ8TW92YWJsZT5bXSxcbiAgICAgIF9pbmFjdGl2ZXM6IENvbXBvbmVudDxJbmFjdGl2ZVRhZz5bXVxuICAgICkgPT4ge1xuICAgICAgaWYgKCFlbmVteVRhZ3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB4SXNTbW9vdGggPSAoTWF0aC5yYW5kb20oKSA+IDAuNSk7XG4gICAgICBsZXQgeFNwYXduOiBudW1iZXI7XG4gICAgICBsZXQgeVNwYXduOiBudW1iZXI7XG4gICAgICBpZiAoeElzU21vb3RoKSB7XG4gICAgICAgIHhTcGF3biA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXMud2lkdGg7XG4gICAgICAgIGNvbnN0IHlPZmZzZXQgPSBNYXRoLnJhbmRvbSgpICogMjAwO1xuICAgICAgICB5U3Bhd24gPSAoTWF0aC5yYW5kb20oKSA+IDAuNSkgPyBjYW52YXMuaGVpZ2h0ICsgeU9mZnNldCA6IC15T2Zmc2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeVNwYXduID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHlPZmZzZXQgPSBNYXRoLnJhbmRvbSgpICogMjAwO1xuICAgICAgICB4U3Bhd24gPSAoTWF0aC5yYW5kb20oKSA+IDAuNSkgPyBjYW52YXMud2lkdGggKyB5T2Zmc2V0IDogLXlPZmZzZXQ7XG4gICAgICB9XG5cbiAgICAgIHJlbW92ZUNvbXBvbmVudDxJbmFjdGl2ZVRhZz4obWFuYWdlciwgZW5lbXlUYWdzWzBdLmVudGl0eUlkKTtcbiAgICAgIG1vdmFibGVzWzBdLmRhdGEucG9zaXRpb24gPSB7XG4gICAgICAgIHg6IHhTcGF3bixcbiAgICAgICAgeTogeVNwYXduLFxuICAgICAgfTtcbiAgICAgIG1vdmFibGVzWzBdLmRhdGEudmVsb2NpdHkgPSB6ZXJvKCk7XG4gICAgICBtb3ZhYmxlc1swXS5kYXRhLnNwZWVkID0gZW5lbXlTcGVlZDtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3Bhd25FbmVteUV2ZW50ID0gdGltZXIoMjAwMCwgMTAwMCkucGlwZShcbiAgICAgIGRlbGF5KE1hdGgucmFuZG9tKCkgKiAoMyAtICgzLjUgKiBkaWZmaWN1bHR5U2NhbGluZygpKSkpXG4gICAgKTtcblxuICAgIFxuICAgIGNvbnN0IG9uU3Bhd25FbmVteSA9IG1hbmFnZXIucmVnaXN0ZXJFdmVudFdpdGhFc2NRdWVyeShzcGF3bkVuZW15U3lzdGVtLCBxdWVyeSk7XG4gICAgc3Bhd25FbmVteUV2ZW50LnN1YnNjcmliZSgoKSA9PiBtYW5hZ2VyLm9uRXZlbnQob25TcGF3bkVuZW15LCBudWxsKSk7XG4gIH1cbn1cblxubW9kdWxlIEJ1bGxldE1vZHVsZSB7XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUobWFuYWdlcjogRUNTTWFuYWdlcikge1xuICAgIHJEZXNwYXduQnVsbGV0U3lzdGVtKG1hbmFnZXIpO1xuICAgIHJCdWxsZXRIaXRTeXN0ZW0obWFuYWdlcik7XG4gIH1cblxuICBmdW5jdGlvbiByRGVzcGF3bkJ1bGxldFN5c3RlbShtYW5hZ2VyOiBFQ1NNYW5hZ2VyKSB7XG4gICAgLy8gY3VycmVudGx5IG5vIHR5cGVzYWZlIG9wdGlvbiBmb3IgcXVlcnlidWlsZGVyXG4gICAgY29uc3QgcXVlcnk6IFF1ZXJ5Tm9kZSA9IHtcbiAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCxcbiAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICB0eXBlU3RyOiAnQnVsbGV0J1xuICAgICAgfSxcbiAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uTk9ULFxuICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICB0eXBlU3RyOiAnTW92YWJsZSdcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLk9SLFxuICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgdHlwZVN0cjogJ0luYWN0aXZlVGFnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uU0hBUkVELFxuICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCxcbiAgICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgdHlwZVN0cjogJ1BsYXllcidcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgICAgIHR5cGVTdHI6ICdNb3ZhYmxlJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRlc3Bhd25CdWxsZXRzU3lzdGVtID0gKF86IG51bWJlciwgXG4gICAgICBidWxsZXQ6IENvbXBvbmVudDxCdWxsZXQ+LCBcbiAgICAgIGJNb3ZhYmxlOiBDb21wb25lbnQ8TW92YWJsZT4sIFxuICAgICAgX3BsYXllcjogQ29tcG9uZW50PFBsYXllcj5bXSwgXG4gICAgICBwTW92YWJsZTogQ29tcG9uZW50PE1vdmFibGU+W10pID0+IHtcblxuICAgICAgaWYgKE1hdGguYWJzKG1hZ25pdHVkZShiTW92YWJsZS5kYXRhLnBvc2l0aW9uKSAtIG1hZ25pdHVkZShwTW92YWJsZVswXS5kYXRhLnBvc2l0aW9uKSkgPiBidWxsZXQuZGF0YS5tYXhSYW5nZSkge1xuICAgICAgICBhZGRDb21wb25lbnQ8SW5hY3RpdmVUYWc+KG1hbmFnZXIsIGJNb3ZhYmxlLmVudGl0eUlkKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbWFuYWdlci5yZWdpc3RlclN5c3RlbVdpdGhFc2NRdWVyeShkZXNwYXduQnVsbGV0c1N5c3RlbSwgcXVlcnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gckJ1bGxldEhpdFN5c3RlbShtYW5hZ2VyOiBFQ1NNYW5hZ2VyKSB7XG4gIFxuICAgIGNvbnN0IHF1ZXJ5OiBRdWVyeU5vZGUgPSB7XG4gICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgdHlwZVN0cjogJ1JlY3RhbmdsZSdcbiAgICAgIH0sXG4gICAgICByaWdodENoaWxkOiB7XG4gICAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCxcbiAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgdHlwZVN0cjogJ01vdmFibGUnXG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5OT1QsXG4gICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICB0eXBlU3RyOiAnQnVsbGV0J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uT1IsXG4gICAgICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgdHlwZVN0cjogJ0luYWN0aXZlVGFnJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uU0hBUkVELFxuICAgICAgICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgICB0eXBlU3RyOiAnUmVjdGFuZ2xlJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uQU5ELFxuICAgICAgICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVTdHI6ICdNb3ZhYmxlJ1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uT1IsXG4gICAgICAgICAgICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLk5PVCxcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVTdHI6ICdFbmVteVRhZydcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVTdHI6ICdJbmFjdGl2ZVRhZydcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlU3RyOiAnUGxheWVyJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB0ZXh0UXVlcnk6IFF1ZXJ5Tm9kZSA9IHtcbiAgICAgIHRva2VuOiBRdWVyeVRva2VuLk5PVCxcbiAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICB0eXBlU3RyOiAnU2NvcmVUZXh0VGFnJ1xuICAgICAgfSxcbiAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgdHlwZVN0cjogJ1Njb3JlVGV4dCdcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBidWxsZXRIaXRTeXN0ZW0gPSAoXG4gICAgICAgIF86IG51bWJlcixcbiAgICAgICAgYlJlY3RhbmdsZTogQ29tcG9uZW50PFJlY3RhbmdsZT4sXG4gICAgICAgIGJNb3ZhYmxlOiBDb21wb25lbnQ8TW92YWJsZT4sXG4gICAgICAgIGJ1bGxldDogQ29tcG9uZW50PEJ1bGxldD4sXG4gICAgICAgIHJlY3RhbmdsZXM6IENvbXBvbmVudDxSZWN0YW5nbGU+W10sXG4gICAgICAgIG1vdmFibGVzOiBDb21wb25lbnQ8TW92YWJsZT5bXSxcbiAgICAgICAgZW5lbXlUYWdzOiBDb21wb25lbnQ8RW5lbXlUYWc+W10sXG4gICAgICAgIHBsYXllcjogQ29tcG9uZW50PFBsYXllcj5bXSxcbiAgICAgICApID0+IHtcblxuICAgICAgICBpZiAoIWVuZW15VGFncyB8fCAhcGxheWVyKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgW2luZGV4LCBfZW5lbXlUYWddIG9mIGVuZW15VGFncy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICBjb25zdCBlUmVjdGFuZ2xlID0gcmVjdGFuZ2xlc1tpbmRleF07IC8vIHRoaXMganVzdCBoYXBwZW5zIHRvIGFsaWduLCBvdGhlcndpc2UgYSBmaW5kIGlkIHdvdWxkIGJlIGEgc2FmZXIgYXBwcm9hY2hcbiAgICAgICAgICBjb25zdCBlTW92YWJsZSA9IG1vdmFibGVzW2luZGV4XTsgLy8gc2FtZSBmb3IgdGhpc1xuICAgICAgICAgIGlmIChpc0NvbGxpbmcoYlJlY3RhbmdsZS5kYXRhLCBiTW92YWJsZS5kYXRhLCBlUmVjdGFuZ2xlLmRhdGEsIGVNb3ZhYmxlLmRhdGEpKSB7XG4gICAgICAgICAgICBwbGF5ZXJbMF0uZGF0YS5zY29yZSArPSAxMDtcbiAgICAgICAgICAgIGFkZENvbXBvbmVudDxJbmFjdGl2ZVRhZz4obWFuYWdlciwgYnVsbGV0LmVudGl0eUlkKTtcbiAgICAgICAgICAgIGFkZENvbXBvbmVudDxJbmFjdGl2ZVRhZz4obWFuYWdlciwgZU1vdmFibGUuZW50aXR5SWQpO1xuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFRPRE86IHF1ZXJ5IGluIGdhbWUgbG9vcCA6KCAoZmluZCBhbHRlcm5hdGl2ZSlcbiAgICAgICAgICAgIGNvbnN0IHRleHRJZCA9IG1hbmFnZXIucXVlcnlFbnRpdGllcyh0ZXh0UXVlcnkpPy5lbnRpdGllc1swXT8uaWQ7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHRleHRJZCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgcE1vdmFibGUgPSBtb3ZhYmxlc1ttb3ZhYmxlcy5sZW5ndGgtMV0uZGF0YSBhcyBNb3ZhYmxlO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgYWRkQ29tcG9uZW50PFNjb3JlVGV4dD4obWFuYWdlciwgdGV4dElkLCB7IGNvbnRlbnQ6IGAke3BsYXllclswXS5kYXRhLnNjb3JlfWAsIGZvbnRTaXplOiAzMCwgYWxwaGE6IDEgfSlcbiAgICAgICAgICAgICAgYWRkQ29tcG9uZW50PE1vdmFibGU+KFxuICAgICAgICAgICAgICAgIG1hbmFnZXIsIFxuICAgICAgICAgICAgICAgIHRleHRJZCwgXG4gICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHBNb3ZhYmxlLnBvc2l0aW9uLngsIHk6IHBNb3ZhYmxlLnBvc2l0aW9uLnkgXG4gICAgICAgICAgICAgICAgICB9LCBcbiAgICAgICAgICAgICAgICAgIHZlbG9jaXR5OiB7eDogMCwgeTogLTF9LCBcbiAgICAgICAgICAgICAgICAgIHNwZWVkOiAyMDBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIG1hbmFnZXIucmVnaXN0ZXJTeXN0ZW1XaXRoRXNjUXVlcnkoYnVsbGV0SGl0U3lzdGVtLCBxdWVyeSk7XG4gIH1cbiAgXG59IiwiaW1wb3J0IHtWZWN0b3IyRH0gZnJvbSAnLi92ZWN0b3IyRC5tb2RlbCc7XG5pbXBvcnQge01vdmFibGV9IGZyb20gJy4vbW92YWJsZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVjdGFuZ2xlIHtcbiAgY29sb3I6IHN0cmluZztcbiAgc2l6ZTogVmVjdG9yMkQ7XG59XG5cbi8vIFRPRE86IHRoaXMgbWlnaHQgYmUgbWlzc2luZyB0YWtpbmcgY2FudmFzIGludG8gY29uc2lkZXJhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29sbGluZyhyZWN0MTogUmVjdGFuZ2xlLCBtb3YxOiBNb3ZhYmxlLCByZWN0MjogUmVjdGFuZ2xlLCBtb3YyOiBNb3ZhYmxlKTogYm9vbGVhbiB7XG4gIGNvbnN0IGRpc3RhbmNlWCA9IE1hdGguYWJzKG1vdjEucG9zaXRpb24ueCAtIG1vdjIucG9zaXRpb24ueCk7XG4gIGNvbnN0IGRpc3RhbmNlWSA9IE1hdGguYWJzKG1vdjEucG9zaXRpb24ueSAtIG1vdjIucG9zaXRpb24ueSk7XG5cbiAgcmV0dXJuIChkaXN0YW5jZVggPCByZWN0MS5zaXplLnggJiYgZGlzdGFuY2VZIDwgcmVjdDEuc2l6ZS55ICkgfHxcbiAgICAoZGlzdGFuY2VYIDwgcmVjdDIuc2l6ZS54ICYmIGRpc3RhbmNlWSA8IHJlY3QyLnNpemUueSk7XG59XG4iLCJpbXBvcnQgeyBmcm9tRXZlbnQgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgV2F2ZVNob290ZXJHYW1lIH0gZnJvbSAnLi93YXZlLXNob290ZXInO1xuXG5mcm9tRXZlbnQod2luZG93LCAnRE9NQ29udGVudExvYWRlZCcpLnN1YnNjcmliZSgoKSA9PiB7XG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXZlU2hvb3RDYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgaWYgKCFjYW52YXMpIHtcbiAgICBjb25zb2xlLmVycm9yKCdmYWlsZWQgdG8gbG9hZCBjYW52YXMhJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgb25SZXNpemUgPSAoKSA9PiB7XG4gICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuICBmcm9tRXZlbnQod2luZG93LCAncmVzaXplJykuc3Vic2NyaWJlKG9uUmVzaXplKTtcbiAgb25SZXNpemUoKTtcblxuICBjb25zdCB3YXZlU2hvb3QgPSBuZXcgV2F2ZVNob290ZXJHYW1lKGNhbnZhcyk7XG4gIHdhdmVTaG9vdC5pbml0aWFsaXplKCk7XG4gIFxuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICBsZXQgcHJldkZyYW1lID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgdGljayA9ICgpID0+IHtcbiAgICBjb25zdCB0aGlzRnJhbWUgPSBEYXRlLm5vdygpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgd2F2ZVNob290LmRpc3BhdGNoKCk7XG5cbiAgICBwcmV2RnJhbWUgPSB0aGlzRnJhbWU7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbiAgfTtcbiAgXG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG59KTsiXSwic291cmNlUm9vdCI6IiJ9