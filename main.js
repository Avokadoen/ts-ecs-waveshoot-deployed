!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=14)}([function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(5),e),i(n(6),e),i(n(1),e),i(n(7),e),i(n(2),e),i(n(8),e),i(n(3),e)},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.isQueryLeafNode=e.isQueryNode=e.queryTokenFromString=e.QueryToken=void 0,function(t){t[t.AND=0]="AND",t[t.OR=1]="OR",t[t.NOT=2]="NOT",t[t.SHARED=3]="SHARED"}(r=e.QueryToken||(e.QueryToken={})),e.queryTokenFromString=function(t){switch(null==t?void 0:t.toLowerCase()){case"and":return r.AND;case"or":return r.OR;case"not":return r.NOT;case"shared":return r.SHARED;default:return null}},e.isQueryNode=function(t){return void 0!==t.token},e.isQueryLeafNode=function(t){return void 0!==t.typeStr}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryBuilder=e.createQueryFromIdentifierList=void 0;var r,i=n(1);!function(t){t[t.Node=0]="Node",t[t.LeafNode=1]="LeafNode"}(r||(r={})),e.createQueryFromIdentifierList=function(t){var e=!1,n=function(t){for(var r=new o,s=0;s<t.length;s++){var u=t[s].split("[");r.identifier(u[0]);var a=s===t.length-1,c=!e&&!a&&t[s+1].split("[").length>1;if(a||c){if(c){e=!0,r.token(i.QueryToken.OR),r.token(i.QueryToken.SHARED),r.append(n(t.slice(s+1,t.length)));break}}else r.token(i.QueryToken.AND)}return r.build()};return n(t)};var o=function(){function t(t){return this.root=t||{token:null},this.currentNode=this.root,this}return Object.defineProperty(t.prototype,"workingNode",{get:function(){return this.currentNode},enumerable:!1,configurable:!0}),t.prototype.identifier=function(t){return this.lastChange===r.LeafNode||(this.lastChange=r.LeafNode,this.currentNode.leftChild?this.currentNode.rightChild||(this.currentNode.rightChild={typeStr:t}):this.currentNode.leftChild={typeStr:t}),this},t.prototype.token=function(t){if(this.lastChange=r.Node,null===this.currentNode.token)this.currentNode.token=t;else if(this.currentNode.leftChild){if(this.currentNode.rightChild){var e=this.currentNode.rightChild;this.currentNode.rightChild={token:t,leftChild:e}}else this.currentNode.rightChild={token:t};this.currentNode=this.currentNode.rightChild}else this.currentNode.leftChild={token:t},this.currentNode=this.currentNode.leftChild;return this},t.prototype.append=function(t){if(this.lastChange!==r.LeafNode)if(this.currentNode.leftChild)if(this.currentNode.rightChild){this.currentNode.rightChild;this.currentNode.rightChild={token:i.QueryToken.AND,leftChild:t}}else this.currentNode.rightChild=t;else this.currentNode.leftChild=t},t.prototype.build=function(){var t=this.root;return this.root={token:null},this.currentNode=this.root,null===t.token&&(t.token=i.QueryToken.OR),t},t}();e.QueryBuilder=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DispatchSubject=void 0;var r=function(){function t(){this.observers=[]}return t.prototype.subscribe=function(t){this.observers.indexOf(t)>=0||this.observers.push(t)},t.prototype.unsubscribe=function(t){var e=this.observers.indexOf(t);e<0||this.observers.splice(e,1)},t.prototype.trigger=function(t){this.observers.forEach((function(e){return e(t)})),this.observers.length>0&&(this.observers=[])},t}();e.DispatchSubject=r},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ECSManager=e.EntityBuilder=void 0;var i=n(1),o=n(3),s=n(2),u=n(9),a=n(10),c=function(){function t(t,e){this.id=t,this.ecsManager=e}return Object.defineProperty(t.prototype,"entityId",{get:function(){return this.id},enumerable:!1,configurable:!0}),t.prototype.addComponent=function(t,e){return this.ecsManager.addComponent(this.id,t,e,this)},t.prototype.removeComponent=function(t){return this.ecsManager.removeComponent(this.id,t,this)},t}();e.EntityBuilder=c;var l=function(){function t(){this.events=[],this.systems=[],this.entities=[],this.components=new Map,this.entityId=0,this.afterUpdateLoop=new o.DispatchSubject,this.isRunningSystems=!1}return t.prototype.registerEventWithEscQuery=function(t,e){return this.events.push({query:e,qResult:this.queryEntities(e),system:t}),this.events.length-1},t.prototype.registerEvent=function(t,e){var n=s.createQueryFromIdentifierList(e);return this.registerEventWithEscQuery(t,n)},t.prototype.registerSystemWithEscQuery=function(t,e){this.systems.push({query:e,qResult:this.queryEntities(e),system:t})},t.prototype.registerSystem=function(t,e){var n=s.createQueryFromIdentifierList(e);this.registerSystemWithEscQuery(t,n)},t.prototype.createEntity=function(){return this.entities.push({id:this.entityId++}),new c(this.entityId-1,this)},t.prototype.registerComponentType=function(t,e){this.components.has(t)||this.components.set(t,new u.ComponentPool(e))},t.prototype.addComponent=function(t,e,n,r){var i=this,o=function(e){return null!=e?e:new c(t,i)};if(this.components.has(e)){var s=this.components.get(e);if(!(null==s?void 0:s.find((function(e){return e.entityId===t}))))return this.isRunningSystems?(this.afterUpdateLoop.subscribe((function(){i.addComponent(t,e,n)})),o(r)):(s.add(t,n),this.invalidateQueryResults(e),o(r))}},t.prototype.removeComponent=function(t,e,n){var r=this;if(!this.isRunningSystems)return this.components.get(e).remove(t),this.invalidateQueryResults(e),null!=n?n:new c(t,this);this.afterUpdateLoop.subscribe((function(){r.removeComponent(t,e)}))},t.prototype.queryEntities=function(t){var e,n,o,s,u=this,c=function(t,e){var n,i,o=t.findIndex((function(t){return t.id===e.id}));if(o<0)t.push(e);else{var s=function(e){t[o].components.find((function(t){return t===e}))||t[o].components.push(e)};try{for(var u=r(e.components),a=u.next();!a.done;a=u.next()){s(a.value)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}return t},l=function(t){var e;if(!t)return[];if(!i.isQueryNode(t)){var n=t.typeStr,o=u.components.get(n);return null!==(e=null==o?void 0:o.filter((function(t){return a.isNumber(t.entityId)&&t.entityId>=0})).reduce((function(t,e,r){var i=t.findIndex((function(t){return t.id===e.entityId})),o={typeStr:n,index:r};if(i<0){var s={id:e.entityId,components:[o]};t.push(s)}else{t[i].components.find((function(t){return t.index===o.index&&t.typeStr===o.typeStr}))||t[i].components.push(o)}return t}),[]))&&void 0!==e?e:[]}var s=l(t.leftChild),h=l(t.rightChild);switch(t.token){case i.QueryToken.AND:return function(t,e){var n,i,o=[],s=function(t){var n=e.findIndex((function(e){return e.id===t.id}));if(n<0)return"continue";var r=e.splice(n,1);r.length>=1&&o.push({id:t.id,components:t.components.concat(r[0].components)})};try{for(var u=r(t),a=u.next();!a.done;a=u.next()){s(a.value)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return o}(s,h);case i.QueryToken.OR:return s.concat(h).reduce(c,[]);case i.QueryToken.NOT:return s.filter((function(t){return!h.find((function(e){return e.id==t.id}))}));case i.QueryToken.SHARED:return[]}},h=function(t){if(t&&!i.isQueryLeafNode(t)){if(t.token===i.QueryToken.SHARED)return t;var e=h(t.leftChild),n=h(t.rightChild);return null!=e?e:n}},f=h(t),d=l(null==f?void 0:f.leftChild),p=void 0;if(d.length>0){var y=d.map((function(t){return t.components}));p=new Array(y[0].length);var v=[];try{for(var g=r(y),b=g.next();!b.done;b=g.next()){var m=b.value,w=function(t){var e=v.findIndex((function(e){return e===t.typeStr}));e<0&&(e=v.length,v.push(t.typeStr)),p[e]?p[e]=p[e].concat(S.components.get(t.typeStr).unsafeGet(t.index)):p[e]=[S.components.get(t.typeStr).unsafeGet(t.index)]},S=this;try{for(var E=(o=void 0,r(m)),x=E.next();!x.done;x=E.next()){w(x.value)}}catch(t){o={error:t}}finally{try{x&&!x.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{b&&!b.done&&(n=g.return)&&n.call(g)}finally{if(e)throw e.error}}}return{sharedArgs:p,entities:l(t)}},t.prototype.accessComponentData=function(t,e){var n,r=this.components.get(e);return null===(n=null==r?void 0:r.find((function(e){return e.entityId===t})))||void 0===n?void 0:n.data},t.prototype.onEvent=function(t,e){var n,i;this.isRunningSystems=!0;var o=this.events[t],s=[e];try{for(var u=r(o.qResult.entities),a=u.next();!a.done;a=u.next()){var c=a.value,l=s.concat(this.createArgs(c));this.events[t].system.apply(null,l.concat(o.qResult.sharedArgs))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}this.isRunningSystems=!1,this.afterUpdateLoop.trigger()},t.prototype.dispatch=function(){var t,e,n,i;this.isRunningSystems=!0,this.prevRun=this.prevRun?this.prevRun:Date.now();var o=Date.now(),s=[(o-this.prevRun)/1e3];try{for(var u=r(this.systems),a=u.next();!a.done;a=u.next()){var c=a.value;try{for(var l=(n=void 0,r(c.qResult.entities)),h=l.next();!h.done;h=l.next()){var f=h.value,d=s.concat(this.createArgs(f));c.system.apply(null,d.concat(c.qResult.sharedArgs))}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}this.isRunningSystems=!1,this.afterUpdateLoop.trigger(),this.prevRun=o},t.prototype.createArgs=function(t){var e,n,i=[];try{for(var o=r(t.components),s=o.next();!s.done;s=o.next()){var u=s.value,a=this.components.get(u.typeStr).unsafeGet(u.index);i.push(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},t.prototype.invalidateQueryResults=function(t){var e,n,o,s,u=this,a=function(t,e){return!!e&&(i.isQueryNode(e)?!!a(t,e.leftChild)||!!a(t,e.rightChild):e.typeStr===t)},c=function(e){return a(t,e.query)?u.queryEntities(e.query):e.qResult};try{for(var l=r(this.systems),h=l.next();!h.done;h=l.next()){(p=h.value).qResult=c(p)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}try{for(var f=r(this.events),d=f.next();!d.done;d=f.next()){var p;(p=d.value).qResult=c(p)}}catch(t){o={error:t}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}},t}();e.ECSManager=l},function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentPool=void 0;var i=function(){function t(t,e){void 0===e&&(e=20),this.stride=e,this.pool=[],this.length=0,this.pos=0,this.defaultValue=t,this.onExpandPool(!0)}return t.prototype.add=function(t,e){this.length>=this.pool.length&&this.onExpandPool(),this.pool[this.length].entityId=t;var n=null!=e?e:this.defaultValue;this.deepAssign(this.pool[this.length].data,n),this.length+=1},t.prototype.remove=function(t){var e=this.pool.findIndex((function(e){return e.entityId===t}));if(!(e<0)){var n=this.pool[e],r=this.length-1;this.pool[e]=this.pool[r],n.entityId=-1,this.pool[r]=n,this.length=r}},t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(){return this.pos<this.length?{done:!1,value:this.pool[this.pos++]}:(this.pos=0,{done:!0,value:null})},t.prototype.unsafeGet=function(t){return this.pool[t]},t.prototype.find=function(t,e){var n,i;try{for(var o=r(this),s=o.next();!s.done;s=o.next()){var u=s.value;if(t(u,0,this.pool))return this.pos=0,u}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return null},t.prototype.filter=function(t,e){var n,i,o=[],s=0;try{for(var u=r(this),a=u.next();!a.done;a=u.next()){var c=a.value;t(c,s,this.pool)&&o.push(c),s+=1}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return o},t.prototype.onExpandPool=function(t){t?this.pool=new Array(this.stride):this.pool.length+=this.stride;for(var e=this.length;e<this.pool.length;e++)this.pool[e]={entityId:-1,data:this.deepCopy(this.defaultValue)}},t.prototype.deepCopy=function(t){if(!t||"object"!=typeof t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=this.deepCopy(t[n]);return e},t.prototype.deepAssign=function(t,e){for(var n in Object.assign(t,e),e)"object"==typeof t[n]&&this.deepAssign(t[n],e[n])},t}();e.ComponentPool=i},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),a=r[n];n<o;a=r[++n])y(a)||!w(a)?s+=" "+a:s+=" "+u(a);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function u(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),l(r,t,r.depth)}function a(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return g(i)||(i=l(t,i,r)),i}var o=function(t,e){if(b(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(v(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),u=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),E(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(x(n)){var a=n.name?": "+n.name:"";return t.stylize("[Function"+a+"]","special")}if(m(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return h(n)}var c,w="",T=!1,C=["{","}"];(d(n)&&(T=!0,C=["[","]"]),x(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return m(n)&&(w=" "+RegExp.prototype.toString.call(n)),S(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+h(n)),0!==s.length||T&&0!=n.length?r<0?m(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=T?function(t,e,n,r,i){for(var o=[],s=0,u=e.length;s<u;++s)O(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))})),o}(t,n,r,u,s):s.map((function(e){return f(t,n,r,u,e,T)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,w,C)):C[0]+w+C[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var s,u,a;if((a=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(u=t.stylize("[Setter]","special")),O(r,i)||(s="["+i+"]"),u||(t.seen.indexOf(a.value)<0?(u=y(n)?l(t,a.value,null):l(t,a.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return u;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+u}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function y(t){return null===t}function v(t){return"number"==typeof t}function g(t){return"string"==typeof t}function b(t){return void 0===t}function m(t){return w(t)&&"[object RegExp]"===T(t)}function w(t){return"object"==typeof t&&null!==t}function S(t){return w(t)&&"[object Date]"===T(t)}function E(t){return w(t)&&("[object Error]"===T(t)||t instanceof Error)}function x(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(b(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=b,e.isRegExp=m,e.isObject=w,e.isDate=S,e.isError=E,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(12);var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),_[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n(13),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(N&&t[N]){var e;if("function"!=typeof(e=t[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),N&&Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=N,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(A,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(11))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,c=[],l=!1,h=-1;function f(){l&&a&&(l=!1,a.length?c=a.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=u(f);l=!0;for(var e=c.length;e;){for(a=c,c=[];++h<e;)a&&a[h].run();h=-1,e=c.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";n.r(e);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t){return"function"==typeof t}var s=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function a(t){setTimeout((function(){throw t}),0)}var c={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},l=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();var h=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),f=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n,r=this._parentOrParents,i=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var u=0;u<r.length;++u){r[u].remove(this)}if(o(i))try{i.call(this)}catch(t){e=t instanceof h?d(t.errors):[t]}if(l(s)){u=-1;for(var a=s.length;++u<a;){var c=s[u];if(null!==(n=c)&&"object"==typeof n)try{c.unsubscribe()}catch(t){e=e||[],t instanceof h?e=e.concat(d(t.errors)):e.push(t)}}}if(e)throw new h(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function d(t){return t.reduce((function(t,e){return t.concat(e instanceof h?e.errors:e)}),[])}var p=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),y=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=c;break;case 1:if(!n){o.destination=c;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new v(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new v(o,n,r,i)}return o}return i(e,t),e.prototype[p]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(f),v=function(t){function e(e,n,r,i){var s,u=t.call(this)||this;u._parentSubscriber=e;var a=u;return o(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==c&&(o((a=Object.create(n)).unsubscribe)&&u.add(a.unsubscribe.bind(a)),a.unsubscribe=u.unsubscribe.bind(u))),u._context=a,u._next=s,u._error=r,u._complete=i,u}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw t;a(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(a(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(y);var g=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function b(t){return t}function m(t){return 0===t.length?b:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var w=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof y)return t;if(t[p])return t[p]()}return t||e||n?new y(t,e,n):new y(c)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||u.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),u.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof y?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=S(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[g]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:m(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=S(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function S(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function E(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new x(t,e))}}var x=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new T(t,this.project,this.thisArg))},t}(),T=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(y);function C(t,e,n,r){return o(n)&&(r=n,n=void 0),r?C(t,e,n).pipe(E((function(t){return l(t)?r.apply(void 0,t):r(t)}))):new w((function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var u=e;e.addEventListener(n,r,o),s=function(){return u.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var a=e;e.on(n,r),s=function(){return a.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(s)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}var _=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(f)),k=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),O=new(function(t){function e(n,r){void 0===r&&(r=k.now);var i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(k))(_);function N(t){return!l(t)&&t-parseFloat(t)+1>=0}function A(t){return t&&"function"==typeof t.schedule}function D(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function P(t,e){return function(n){return n.lift(new j(t,e))}}var j=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new R(t,this.predicate,this.thisArg))},t}(),R=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(y);var Q=new w((function(t){return t.complete()}));function M(t){return t?function(t){return new w((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Q}var I;function z(t,e){return new w((function(n){var r=new f,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function L(t,e){return e?z(t,e):new w((n=t,function(t){for(var e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()}));var n}function q(t){var e=t.error;t.subscriber.error(e)}I||(I={});var H=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t,e;switch(this.kind){case"N":return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return A(n)?(t.pop(),z(t,n)):L(t)}(this.value);case"E":return t=this.error,new w(e?function(n){return e.schedule(q,0,{error:t,subscriber:n})}:function(e){return e.error(t)});case"C":return M()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function U(t,e){void 0===e&&(e=O);var n,r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return function(t){return t.lift(new B(r,e))}}var B=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new F(t,this.delay,this.scheduler))},t}(),F=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return i(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new V(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(H.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(H.createComplete()),this.unsubscribe()},e}(y),V=function(){return function(t,e){this.time=t,this.notification=e}}();function W(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function Y(t){var e=W(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}}function G(t,e){return{x:t.x*e,y:t.y*e}}var J,$,X,Z,K=n(0),tt=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},et=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},nt=function(){function t(t){var e=this;this.canvas=t,this.ENEMIES_SPEED=210,this.BULLET_SPEED=500,this.PLAYER_SPEED=250,this.SCORE_TEXT_SPEED=200,this.PLAYER_RECT={color:"#3f51b5",size:{x:20,y:30}},this.ENEMIES_COUNT=40,this.BULLET_COUNT=20,this.keysDown=[],this.manager=new K.ECSManager;var n={x:0,y:0};this.manager.registerComponentType("UniqueTag",{}),this.manager.registerComponentType("EnemyTag",{}),this.manager.registerComponentType("Bullet",{maxRange:800}),this.manager.registerComponentType("ScoreText",{content:"",fontSize:30,alpha:1}),this.manager.registerComponentType("ScoreTextTag",{}),this.manager.registerComponentType("Player",{score:0}),this.manager.registerComponentType("Movable",{position:n,velocity:n,speed:0}),this.manager.registerComponentType("Rectangle",{color:"#ffffff",size:{x:500,y:500}}),this.manager.registerComponentType("InactiveTag",{}),this.manager.addComponent(this.manager.createEntity().entityId,"UniqueTag");for(var r=0;r<this.ENEMIES_COUNT;r++){var i=this.manager.createEntity().entityId;this.manager.addComponent(i,"EnemyTag"),this.manager.addComponent(i,"Rectangle",{color:"#ff4081",size:{x:20,y:30}}),this.manager.addComponent(i,"Movable",{position:n,velocity:n,speed:this.ENEMIES_SPEED}),this.manager.addComponent(i,"InactiveTag")}for(r=0;r<this.BULLET_COUNT;r++){i=this.manager.createEntity().entityId;this.manager.addComponent(i,"Bullet"),this.manager.addComponent(i,"Rectangle",{color:"#ffffff",size:{x:4,y:4}}),this.manager.addComponent(i,"Movable",{position:n,velocity:n,speed:this.BULLET_SPEED}),this.manager.addComponent(i,"InactiveTag")}for(r=0;r<10;r++){i=this.manager.createEntity().entityId;this.manager.addComponent(i,"ScoreTextTag")}i=this.manager.createEntity().entityId;this.manager.addComponent(i,"Player"),this.manager.addComponent(i,"Movable",{position:{x:.5*t.width-.5*this.PLAYER_RECT.size.x,y:.5*t.height-.5*this.PLAYER_RECT.size.y},velocity:n,speed:this.PLAYER_SPEED}),this.manager.addComponent(i,"Rectangle",{color:"#3f51b5",size:{x:20,y:30}}),C(window,"keydown").pipe(E((function(t){return t})),P((function(t){return"w"===t.key||"a"===t.key||"s"===t.key||"d"===t.key}))).subscribe((function(t){return e.keysDown.push(t.key)})),C(window,"keyup").pipe(E((function(t){return t})),P((function(t){return"w"===t.key||"a"===t.key||"s"===t.key||"d"===t.key}))).subscribe((function(t){return e.keysDown=e.keysDown.filter((function(e){return e!==t.key}))}))}return t.prototype.initialize=function(){var t=this;J.initialize(this.manager,this.canvas),Z.initialize(this.manager);X.initialize(this,(function(){return Math.min(.5,1)}));$.initialize(this,(function(){return t.keysDown}))},t.prototype.dispatch=function(){this.manager.dispatch()},t}();(J||(J={})).initialize=function(t,e){var n=e.getContext("2d");!function(t,e){var n={token:K.QueryToken.AND,leftChild:{typeStr:"Rectangle"},rightChild:{token:K.QueryToken.NOT,leftChild:{typeStr:"Movable"},rightChild:{typeStr:"InactiveTag"}}};t.registerSystemWithEscQuery((function(t,n,r){e.fillStyle=n.data.color,e.fillRect(r.data.position.x,r.data.position.y,n.data.size.x,n.data.size.y)}),n)}(t,n),function(t,e){t.registerSystem((function(t,n,r){e.fillStyle="rgba(255, 255, 255, "+n.data.alpha+")",e.font=n.data.fontSize+"px serif",e.textAlign="center",e.fillText(n.data.content,r.data.position.x,r.data.position.y)}),["ScoreText","Movable"])}(t,n),function(t){t.registerSystem((function(t,e){e.data.velocity=G(Y(e.data.velocity),e.data.speed),e.data.position.x+=e.data.velocity.x*t,e.data.position.y+=e.data.velocity.y*t}),["Movable"])}(t),function(t){t.registerSystem((function(e,n,r){r.data.speed-=80*e,n.data.fontSize+=20*e,n.data.alpha-=.4*e,r.data.speed<30&&(t.removeComponent(n.entityId,"ScoreText"),t.removeComponent(r.entityId,"Movable"))}),["ScoreText","Movable"])}(t)},($||($={})).initialize=function(t,e){var n,r,i,o,s;!function(t,e){t.registerSystem((function(t,n,r){var i,o,s=e();try{for(var u=tt(s),a=u.next();!a.done;a=u.next())switch(a.value){case"w":r.data.velocity.y=-1;break;case"a":r.data.velocity.x=-1;break;case"s":r.data.velocity.y=1;break;case"d":r.data.velocity.x=1}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}r.data.velocity=G(Y(r.data.velocity),r.data.speed),r.data.position.x+=r.data.velocity.x*t,r.data.position.y+=r.data.velocity.y*t,r.data.velocity.x=0,r.data.velocity.y=0}),["Player","Movable"])}(t.manager,e),n=t.manager,r=t.canvas,i=t.BULLET_SPEED,o={token:K.QueryToken.AND,leftChild:{typeStr:"Player"},rightChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Movable"},rightChild:{token:K.QueryToken.OR,leftChild:{typeStr:"Rectangle"},rightChild:{token:K.QueryToken.SHARED,leftChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Bullet"},rightChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Movable"},rightChild:{typeStr:"InactiveTag"}}}}}}},s=n.registerEventWithEscQuery((function(t,e,o,s,u,a,c){if(!((null==u?void 0:u.length)<0)){var l=t,h=o.data.position.x+.5*s.data.size.x,f=o.data.position.y+.5*s.data.size.y,d=Y({x:l.clientX-h-r.offsetLeft,y:l.clientY-f-r.offsetTop}),p=G(d,20);n.removeComponent(u[0].entityId,"InactiveTag"),a[0].data.position={x:h+p.x,y:f+p.y},a[0].data.velocity=d,a[0].data.speed=i}}),o),C(r,"click").subscribe((function(t){return n.onEvent(s,t)}))},(X||(X={})).initialize=function(t,e){var n,r;n=t.manager,r={token:K.QueryToken.AND,leftChild:{typeStr:"EnemyTag"},rightChild:{token:K.QueryToken.NOT,leftChild:{typeStr:"Movable"},rightChild:{token:K.QueryToken.OR,leftChild:{typeStr:"InactiveTag"},rightChild:{token:K.QueryToken.SHARED,leftChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Player"},rightChild:{typeStr:"Movable"}}}}}},n.registerSystemWithEscQuery((function(t,e,n,r,i){n.data.velocity={x:i[0].data.position.x-n.data.position.x,y:i[0].data.position.y-n.data.position.y}}),r),function(t,e,n,r){var i={token:K.QueryToken.OR,leftChild:{typeStr:"UniqueTag"},rightChild:{token:K.QueryToken.SHARED,leftChild:{token:K.QueryToken.AND,leftChild:{typeStr:"EnemyTag"},rightChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Movable"},rightChild:{typeStr:"InactiveTag"}}}}},o=function(t,e,n){void 0===t&&(t=0);var r=-1;return N(e)?r=Number(e)<1?1:Number(e):A(e)&&(n=e),A(n)||(n=O),new w((function(e){var i=N(t)?t:+t-n.now();return n.schedule(D,i,{index:0,period:r,subscriber:e})}))}(2e3,1e3).pipe(U(Math.random()*(3-3.5*r()))),s=t.registerEventWithEscQuery((function(r,i,o,s,u){if(o){var a,c;if(Math.random()>.5){a=Math.random()*e.width;var l=200*Math.random();c=Math.random()>.5?e.height+l:-l}else c=Math.random()*e.height,l=200*Math.random(),a=Math.random()>.5?e.width+l:-l;t.removeComponent(o[0].entityId,"InactiveTag"),s[0].data.position={x:a,y:c},s[0].data.velocity={x:0,y:0},s[0].data.speed=n}}),i);o.subscribe((function(){return t.onEvent(s,null)}))}(t.manager,t.canvas,t.ENEMIES_SPEED,e)},(Z||(Z={})).initialize=function(t){!function(t){var e={token:K.QueryToken.AND,leftChild:{typeStr:"Bullet"},rightChild:{token:K.QueryToken.NOT,leftChild:{typeStr:"Movable"},rightChild:{token:K.QueryToken.OR,leftChild:{typeStr:"InactiveTag"},rightChild:{token:K.QueryToken.SHARED,leftChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Player"},rightChild:{typeStr:"Movable"}}}}}};t.registerSystemWithEscQuery((function(e,n,r,i,o){Math.abs(W(r.data.position)-W(o[0].data.position))>n.data.maxRange&&t.addComponent(r.entityId,"InactiveTag")}),e)}(t),function(t){var e={token:K.QueryToken.AND,leftChild:{typeStr:"Rectangle"},rightChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Movable"},rightChild:{token:K.QueryToken.NOT,leftChild:{typeStr:"Bullet"},rightChild:{token:K.QueryToken.OR,leftChild:{typeStr:"InactiveTag"},rightChild:{token:K.QueryToken.SHARED,leftChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Rectangle"},rightChild:{token:K.QueryToken.AND,leftChild:{typeStr:"Movable"},rightChild:{token:K.QueryToken.OR,leftChild:{token:K.QueryToken.NOT,leftChild:{typeStr:"EnemyTag"},rightChild:{typeStr:"InactiveTag"}},rightChild:{typeStr:"Player"}}}}}}}}},n={token:K.QueryToken.NOT,leftChild:{typeStr:"ScoreTextTag"},rightChild:{typeStr:"ScoreText"}};t.registerSystemWithEscQuery((function(e,r,i,o,s,u,a,c){var l,h,f,d,p,y,v,g,b,m;if(a&&c)try{for(var w=tt(a.entries()),S=w.next();!S.done;S=w.next()){var E=et(S.value,2),x=E[0],T=(E[1],s[x]),C=u[x];if(p=r.data,y=i.data,v=T.data,g=C.data,b=void 0,m=void 0,b=Math.abs(y.position.x-g.position.x),m=Math.abs(y.position.y-g.position.y),b<p.size.x&&m<p.size.y||b<v.size.x&&m<v.size.y){c[0].data.score+=10,t.addComponent(o.entityId,"InactiveTag"),t.addComponent(C.entityId,"InactiveTag");var _=null===(d=null===(f=t.queryEntities(n))||void 0===f?void 0:f.entities[0])||void 0===d?void 0:d.id;if(!isNaN(_)){var k=u[u.length-1].data;t.addComponent(_,"ScoreText",{content:""+c[0].data.score,fontSize:30,alpha:1}),t.addComponent(_,"Movable",{position:{x:k.position.x,y:k.position.y},velocity:{x:0,y:-1},speed:200})}}}}catch(t){l={error:t}}finally{try{S&&!S.done&&(h=w.return)&&h.call(w)}finally{if(l)throw l.error}}}),e)}(t)},C(window,"DOMContentLoaded").subscribe((function(){var t=document.getElementById("waveShootCanvas");if(t){var e=new nt(t);e.initialize();var n=t.getContext("2d"),r=(Date.now(),function(){var i=Date.now();n.fillStyle="#000000",n.fillRect(0,0,t.width,t.height),e.dispatch(),i,window.requestAnimationFrame(r)});window.requestAnimationFrame(r)}else console.error("failed to load canvas!")}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25haXZlLXRzLWVjcy9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvZWNzL2VzYy1xdWVyeS5tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFpdmUtdHMtZWNzL2Rpc3Qvc3JjL2Vjcy9xdWVyeS1idWlsZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvb2JzZXJ2ZXIvZGlzcGF0Y2gtc3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFpdmUtdHMtZWNzL2Rpc3Qvc3JjL2Vjcy9jb21wb25lbnQubW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25haXZlLXRzLWVjcy9kaXN0L3NyYy9lY3MvZW50aXR5Lm1vZGVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvZWNzL3N5c3RlbS5tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFpdmUtdHMtZWNzL2Rpc3Qvc3JjL2Vjcy9tYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvcG9vbC9jb21wb25lbnQtcG9vbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNOdW1lcmljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aW1lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZW1wdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3Rocm93RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGVsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL3ZlY3RvcjJELm1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy93YXZlLXNob290ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVsL3JlY3RhbmdsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX2NyZWF0ZUJpbmRpbmciLCJ0aGlzIiwiayIsImsyIiwidW5kZWZpbmVkIiwiX19leHBvcnRTdGFyIiwiUXVlcnlUb2tlbiIsImlzUXVlcnlMZWFmTm9kZSIsImlzUXVlcnlOb2RlIiwicXVlcnlUb2tlbkZyb21TdHJpbmciLCJ0b0xvd2VyQ2FzZSIsIkFORCIsIk9SIiwiTk9UIiwiU0hBUkVEIiwibm9kZSIsInRva2VuIiwidHlwZVN0ciIsIlF1ZXJ5QnVpbGRlciIsImNyZWF0ZVF1ZXJ5RnJvbUlkZW50aWZpZXJMaXN0IiwiU3RhdGVDaGFuZ2UiLCJlc2NfcXVlcnlfbW9kZWxfMSIsImlkZW50aWZpZXJzIiwic2hhcmVkU2V0IiwiY3JlYXRlVHJlZSIsInFCdWlsZGVyIiwibGVuZ3RoIiwiaWRlbnRpZmllclNwbGl0Iiwic3BsaXQiLCJpZGVudGlmaWVyIiwib25MYXN0IiwibmV4dElzU2hhcmVkIiwiYXBwZW5kIiwic2xpY2UiLCJidWlsZCIsInN0YXRlIiwicm9vdCIsImN1cnJlbnROb2RlIiwiY29uZmlndXJhYmxlIiwibGFzdENoYW5nZSIsIkxlYWZOb2RlIiwibGVmdENoaWxkIiwicmlnaHRDaGlsZCIsIk5vZGUiLCJ0cmVlIiwicXVlcnkiLCJEaXNwYXRjaFN1YmplY3QiLCJvYnNlcnZlcnMiLCJzdWJzY3JpYmUiLCJvYnNlcnZlciIsImluZGV4T2YiLCJwdXNoIiwidW5zdWJzY3JpYmUiLCJpbmRleCIsInNwbGljZSIsInRyaWdnZXIiLCJvYnNlcnZlZCIsImZvckVhY2giLCJfX3ZhbHVlcyIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJUeXBlRXJyb3IiLCJFQ1NNYW5hZ2VyIiwiRW50aXR5QnVpbGRlciIsImRpc3BhdGNoX3N1YmplY3RfMSIsInF1ZXJ5X2J1aWxkZXJfMSIsImNvbXBvbmVudF9wb29sXzEiLCJ1dGlsXzEiLCJpZCIsImVjc01hbmFnZXIiLCJhZGRDb21wb25lbnQiLCJjb21wb25lbnQiLCJyZW1vdmVDb21wb25lbnQiLCJ0eXBlU3RycyIsImV2ZW50cyIsInN5c3RlbXMiLCJlbnRpdGllcyIsImNvbXBvbmVudHMiLCJNYXAiLCJlbnRpdHlJZCIsImFmdGVyVXBkYXRlTG9vcCIsImlzUnVubmluZ1N5c3RlbXMiLCJyZWdpc3RlckV2ZW50V2l0aEVzY1F1ZXJ5Iiwic3lzdGVtIiwicVJlc3VsdCIsInF1ZXJ5RW50aXRpZXMiLCJyZWdpc3RlckV2ZW50IiwicmVnaXN0ZXJTeXN0ZW1XaXRoRXNjUXVlcnkiLCJyZWdpc3RlclN5c3RlbSIsImNyZWF0ZUVudGl0eSIsInJlZ2lzdGVyQ29tcG9uZW50VHlwZSIsImRlZmF1bHRWYWx1ZSIsImhhcyIsInNldCIsIkNvbXBvbmVudFBvb2wiLCJidWlsZGVyIiwiX3RoaXMiLCJidWlsZGVyUnRyIiwiZmluZCIsImFkZCIsImludmFsaWRhdGVRdWVyeVJlc3VsdHMiLCJyZW1vdmUiLCJlXzEiLCJfYSIsImVfMiIsIl9iIiwib3JSZWR1Y2VyIiwicHJldmlvdXNWYWx1ZXMiLCJlXzQiLCJmaW5kSW5kZXgiLCJfbG9vcF8zIiwiY29tcCIsIl9jIiwiZV80XzEiLCJlcnJvciIsInJldHVybiIsInF1ZXJ5U3RlcCIsInR5cGVTdHJfMSIsImZpbHRlciIsImlzTnVtYmVyIiwicmVkdWNlIiwiY3VycmVudEluZGV4IiwibmV3Q29tcCIsIm5ld0VudHJ5IiwicUxSZXN1bHQiLCJxUlJlc3VsdF8xIiwibGVmdCIsInJpZ3RoIiwiZV8zIiwidmFsdWVzIiwiX2xvb3BfMiIsImVudHJ5IiwickluZGV4IiwickUiLCJmb3VuZCIsImNvbmNhdCIsImxlZnRfMSIsImxlZnRfMV8xIiwiZV8zXzEiLCJhbmRGbiIsImVudGl0eSIsIm9lIiwiZmluZFNoYXJlZCIsImxlZnRMaXN0IiwicmlnaHRMaXN0Iiwic2hhcmVkTm9kZSIsInNoYXJlZEVudGl0aWVzIiwic2hhcmVkQXJncyIsImNvbXBFbnRyaWVzIiwibWFwIiwiQXJyYXkiLCJ0eXBlTWFwIiwiY29tcEVudHJpZXNfMSIsImNvbXBFbnRyaWVzXzFfMSIsIl9sb29wXzEiLCJ0aGlzXzEiLCJ1bnNhZmVHZXQiLCJlbnRyeV8xIiwiZW50cnlfMV8xIiwiZV8yXzEiLCJlXzFfMSIsImFjY2Vzc0NvbXBvbmVudERhdGEiLCJkYXRhIiwib25FdmVudCIsImV2ZW50IiwiZV81Iiwic3Vic2NyaWJlciIsImV2ZW50QXJyIiwiYXJncyIsImNyZWF0ZUFyZ3MiLCJhcHBseSIsImVfNV8xIiwiZGlzcGF0Y2giLCJlXzYiLCJlXzciLCJwcmV2UnVuIiwiRGF0ZSIsIm5vdyIsImRlbHRhVGltZSIsIl9kIiwiX2UiLCJfZiIsImVfN18xIiwiZV82XzEiLCJlXzgiLCJhcmdDb21wIiwiZV84XzEiLCJjaGFuZ2VUeXBlU3RyIiwiZV85IiwiZV8xMCIsImlzQ29tcG9uZW50SW5RdWVyeSIsInVwZGF0ZWRTeXN0ZW0iLCJlXzlfMSIsImVfMTBfMSIsInN0cmlkZSIsInBvb2wiLCJwb3MiLCJvbkV4cGFuZFBvb2wiLCJvdmVycmlkZSIsInRhcmdldCIsImRlZXBBc3NpZ24iLCJyZW1vdmVkIiwibGFzdEluZGV4IiwicHJlZGljYXRlIiwidGhpc0FyZyIsImNhbGxiYWNrZm4iLCJyZXN1bHQiLCJmaXJzdEV4cGFuZCIsImRlZXBDb3B5Iiwic291cmNlIiwiY29weSIsImlzQXJyYXkiLCJhc3NpZ24iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwib2JqIiwia2V5cyIsImRlc2NyaXB0b3JzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZm9ybWF0UmVnRXhwIiwiZm9ybWF0IiwiZiIsImlzU3RyaW5nIiwib2JqZWN0cyIsImFyZ3VtZW50cyIsImluc3BlY3QiLCJqb2luIiwibGVuIiwic3RyIiwiU3RyaW5nIiwicmVwbGFjZSIsIngiLCJOdW1iZXIiLCJKU09OIiwic3RyaW5naWZ5IiwiXyIsImlzTnVsbCIsImlzT2JqZWN0IiwiZGVwcmVjYXRlIiwiZm4iLCJtc2ciLCJwcm9jZXNzIiwibm9EZXByZWNhdGlvbiIsIndhcm5lZCIsInRocm93RGVwcmVjYXRpb24iLCJFcnJvciIsInRyYWNlRGVwcmVjYXRpb24iLCJjb25zb2xlIiwidHJhY2UiLCJkZWJ1Z0Vudmlyb24iLCJkZWJ1Z3MiLCJvcHRzIiwiY3R4Iiwic2VlbiIsInN0eWxpemUiLCJzdHlsaXplTm9Db2xvciIsImRlcHRoIiwiY29sb3JzIiwiaXNCb29sZWFuIiwic2hvd0hpZGRlbiIsIl9leHRlbmQiLCJpc1VuZGVmaW5lZCIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJzdHlsZSIsInN0eWxlcyIsInJlY3Vyc2VUaW1lcyIsImlzRnVuY3Rpb24iLCJjb25zdHJ1Y3RvciIsInJldCIsInByaW1pdGl2ZSIsInNpbXBsZSIsImZvcm1hdFByaW1pdGl2ZSIsInZpc2libGVLZXlzIiwiYXJyYXkiLCJoYXNoIiwidmFsIiwiaWR4IiwiYXJyYXlUb0hhc2giLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiaXNFcnJvciIsImZvcm1hdEVycm9yIiwiaXNSZWdFeHAiLCJSZWdFeHAiLCJ0b1N0cmluZyIsImlzRGF0ZSIsIm91dHB1dCIsImJhc2UiLCJicmFjZXMiLCJ0b1VUQ1N0cmluZyIsImZvcm1hdFByb3BlcnR5IiwibWF0Y2giLCJmb3JtYXRBcnJheSIsInBvcCIsInByZXYiLCJjdXIiLCJudW1MaW5lc0VzdCIsInJlZHVjZVRvU2luZ2xlU3RyaW5nIiwiZGVzYyIsImxpbmUiLCJzdWJzdHIiLCJhciIsImFyZyIsInJlIiwib2JqZWN0VG9TdHJpbmciLCJlIiwicGFkIiwiZGVidWdsb2ciLCJlbnYiLCJOT0RFX0RFQlVHIiwidG9VcHBlckNhc2UiLCJ0ZXN0IiwicGlkIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJpc1N5bWJvbCIsImlzUHJpbWl0aXZlIiwiaXNCdWZmZXIiLCJtb250aHMiLCJ0aW1lc3RhbXAiLCJ0aW1lIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldERhdGUiLCJnZXRNb250aCIsInByb3AiLCJsb2ciLCJpbmhlcml0cyIsIm9yaWdpbiIsImtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCIsImNhbGxiYWNraWZ5T25SZWplY3RlZCIsInJlYXNvbiIsImNiIiwibmV3UmVhc29uIiwicHJvbWlzaWZ5Iiwib3JpZ2luYWwiLCJ3cml0YWJsZSIsInByb21pc2VSZXNvbHZlIiwicHJvbWlzZVJlamVjdCIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImVyciIsInNldFByb3RvdHlwZU9mIiwiZ2V0UHJvdG90eXBlT2YiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiY3VzdG9tIiwiY2FsbGJhY2tpZnkiLCJjYWxsYmFja2lmaWVkIiwibWF5YmVDYiIsInNlbGYiLCJ0aGVuIiwibmV4dFRpY2siLCJyZWoiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImZpbGwiLCJyZWFkVUludDgiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiVGVtcEN0b3IiLCJleHRlbmRTdGF0aWNzIiwiYiIsIl9fcHJvdG9fXyIsIl9fZXh0ZW5kcyIsIl9fIiwiX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzIiwiY29uZmlnIiwic3RhY2siLCJob3N0UmVwb3J0RXJyb3IiLCJlbXB0eSIsImNsb3NlZCIsInVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmciLCJjb21wbGV0ZSIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCIsImVycm9ycyIsIm1lc3NhZ2UiLCJTdWJzY3JpcHRpb24iLCJfcGFyZW50T3JQYXJlbnRzIiwiX3N1YnNjcmlwdGlvbnMiLCJfdW5zdWJzY3JpYmUiLCJmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMiLCJzdWIiLCJ0ZWFyZG93biIsInN1YnNjcmlwdGlvbiIsIkVNUFRZIiwidG1wIiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmlwdGlvbkluZGV4IiwiZXJycyIsInJ4U3Vic2NyaWJlciIsIk1hdGgiLCJyYW5kb20iLCJfc3VwZXIiLCJTdWJzY3JpYmVyIiwiZGVzdGluYXRpb25Pck5leHQiLCJzeW5jRXJyb3JWYWx1ZSIsInN5bmNFcnJvclRocm93biIsInN5bmNFcnJvclRocm93YWJsZSIsImlzU3RvcHBlZCIsImRlc3RpbmF0aW9uIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJfdW5zdWJzY3JpYmVBbmRSZWN5Y2xlIiwiU2FmZVN1YnNjcmliZXIiLCJfcGFyZW50U3Vic2NyaWJlciIsIm9ic2VydmVyT3JOZXh0IiwiY29udGV4dCIsIl9jb250ZXh0IiwiX190cnlPclNldEVycm9yIiwiX190cnlPclVuc3ViIiwid3JhcHBlZENvbXBsZXRlIiwicGFyZW50Iiwib2JzZXJ2YWJsZSIsImlkZW50aXR5IiwicGlwZUZyb21BcnJheSIsImZucyIsImlucHV0IiwiT2JzZXJ2YWJsZSIsIl9pc1NjYWxhciIsIl9zdWJzY3JpYmUiLCJsaWZ0Iiwib3BlcmF0b3IiLCJzaW5rIiwibmV4dE9yT2JzZXJ2ZXIiLCJ0b1N1YnNjcmliZXIiLCJfdHJ5U3Vic2NyaWJlIiwiY2xvc2VkXzEiLCJjYW5SZXBvcnRFcnJvciIsIndhcm4iLCJwcm9taXNlQ3RvciIsImdldFByb21pc2VDdG9yIiwicGlwZSIsIm9wZXJhdGlvbnMiLCJfaSIsInRvUHJvbWlzZSIsInByb2plY3QiLCJNYXBPcGVyYXRvciIsIk1hcFN1YnNjcmliZXIiLCJjb3VudCIsImZyb21FdmVudCIsImV2ZW50TmFtZSIsIm9wdGlvbnMiLCJyZXN1bHRTZWxlY3RvciIsInNldHVwU3Vic2NyaXB0aW9uIiwic291cmNlT2JqIiwiaGFuZGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNFdmVudFRhcmdldCIsInNvdXJjZV8xIiwiaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8yIiwiaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIiLCJzb3VyY2VfMyIsIkFzeW5jQWN0aW9uIiwic2NoZWR1bGVyIiwid29yayIsInBlbmRpbmciLCJzY2hlZHVsZSIsImRlbGF5IiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsInNldEludGVydmFsIiwiZmx1c2giLCJjbGVhckludGVydmFsIiwiZXhlY3V0ZSIsIl9leGVjdXRlIiwiZXJyb3JlZCIsImVycm9yVmFsdWUiLCJhY3Rpb25zIiwiQWN0aW9uIiwiU2NoZWR1bGVyIiwiU2NoZWR1bGVyQWN0aW9uIiwiQXN5bmNTY2hlZHVsZXIiLCJkZWxlZ2F0ZSIsImFjdGl2ZSIsInNjaGVkdWxlZCIsImFjdGlvbiIsInNoaWZ0IiwiaXNOdW1lcmljIiwicGFyc2VGbG9hdCIsImlzU2NoZWR1bGVyIiwicGVyaW9kIiwiRmlsdGVyT3BlcmF0b3IiLCJGaWx0ZXJTdWJzY3JpYmVyIiwiZW1wdHlTY2hlZHVsZWQiLCJOb3RpZmljYXRpb25LaW5kIiwic2NoZWR1bGVBcnJheSIsImZyb21BcnJheSIsIk5vdGlmaWNhdGlvbiIsImtpbmQiLCJoYXNWYWx1ZSIsIm9ic2VydmUiLCJkbyIsImFjY2VwdCIsInRvT2JzZXJ2YWJsZSIsIm9mIiwiY3JlYXRlTmV4dCIsInVuZGVmaW5lZFZhbHVlTm90aWZpY2F0aW9uIiwiY3JlYXRlRXJyb3IiLCJjcmVhdGVDb21wbGV0ZSIsImNvbXBsZXRlTm90aWZpY2F0aW9uIiwiZGVsYXlGb3IiLCJpc05hTiIsImFicyIsIkRlbGF5T3BlcmF0b3IiLCJEZWxheVN1YnNjcmliZXIiLCJub3RpZmljYXRpb24iLCJkZWxheV8xIiwibWF4IiwiX3NjaGVkdWxlIiwic2NoZWR1bGVOb3RpZmljYXRpb24iLCJEZWxheU1lc3NhZ2UiLCJtYWduaXR1ZGUiLCJ2ZWN0b3IiLCJzcXJ0IiwicG93IiwieSIsIm5vcm1hbGl6ZSIsIm15TWFnbml0dWRlIiwic2NhbGUiLCJjYW52YXMiLCJFTkVNSUVTX1NQRUVEIiwiQlVMTEVUX1NQRUVEIiwiUExBWUVSX1NQRUVEIiwiU0NPUkVfVEVYVF9TUEVFRCIsIlBMQVlFUl9SRUNUIiwiY29sb3IiLCJzaXplIiwiRU5FTUlFU19DT1VOVCIsIkJVTExFVF9DT1VOVCIsImtleXNEb3duIiwibWFuYWdlciIsInplcm9WZWN0b3IiLCJtYXhSYW5nZSIsImNvbnRlbnQiLCJmb250U2l6ZSIsImFscGhhIiwic2NvcmUiLCJwb3NpdGlvbiIsInZlbG9jaXR5Iiwic3BlZWQiLCJ3aWR0aCIsImhlaWdodCIsIndpbmRvdyIsImluaXRpYWxpemUiLCJtaW4iLCJwbGF5ZXJTY29yZSIsImdldENvbnRleHQiLCJyZWN0IiwibW92YWJsZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwickRyYXdFbnRpdHlTeXN0ZW0iLCJzdCIsIm1vdiIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJmaWxsVGV4dCIsInJkcmF3U2NvcmVUZXh0U3lzdGVtIiwick1vdmVNb3ZhYmxlc1N5c3RlbSIsInNjb3JlVGV4dCIsInJNb3ZlU2NvcmVUZXh0U3lzdGVtIiwiZ2FtZSIsInZpZXdLZXlzRG93biIsImJ1bGxldFNwZWVkIiwib25Vc2VyQ2xpY2siLCJyUGxheWVyTW92ZVN5c3RlbSIsIl9wbGF5ZXIiLCJwTW92YWJsZSIsInBSZWN0YW5nbGUiLCJidWxsZXQiLCJiTW92YWJsZSIsIl9iSW5hY3RpdmUiLCJjZW50ZXJYIiwiY2VudGVyWSIsInNob290RGlyZWN0aW9uIiwiY2xpZW50WCIsIm9mZnNldExlZnQiLCJjbGllbnRZIiwib2Zmc2V0VG9wIiwiYnVsbGV0U3Bhd24iLCJkaWZmaWN1bHR5U2NhbGluZyIsIl9lbmVteSIsImVNb3ZhYmxlIiwiZW5lbXlTcGVlZCIsInNwYXduRW5lbXlFdmVudCIsImR1ZVRpbWUiLCJwZXJpb2RPclNjaGVkdWxlciIsImR1ZSIsInRpbWVyIiwib25TcGF3bkVuZW15IiwiX3UiLCJlbmVteVRhZ3MiLCJtb3ZhYmxlcyIsIl9pbmFjdGl2ZXMiLCJ4U3Bhd24iLCJ5U3Bhd24iLCJ5T2Zmc2V0IiwiclNwYXduRW5lbXlTeXN0ZW0iLCJyRGVzcGF3bkJ1bGxldFN5c3RlbSIsInRleHRRdWVyeSIsImJSZWN0YW5nbGUiLCJyZWN0YW5nbGVzIiwicGxheWVyIiwicmVjdDEiLCJtb3YxIiwicmVjdDIiLCJtb3YyIiwiZGlzdGFuY2VYIiwiZGlzdGFuY2VZIiwiZW50cmllcyIsImVSZWN0YW5nbGUiLCJ0ZXh0SWQiLCJyQnVsbGV0SGl0U3lzdGVtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIndhdmVTaG9vdCIsInRpY2siLCJ0aGlzRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSwi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S0FBS29hLE1BQVNGLFNBQVUsR0FBSUMsTUFBTyxJQUVsR0wsRUFwaEJSLGFBcWhCUWlGLEVBQVEsVUFDUixDQUNFMUUsU0FBVSxDQUNSalcsRUFBRytYLEVBQVM5QixTQUFTalcsRUFBRzJVLEVBQUdvRCxFQUFTOUIsU0FBU3RCLEdBRS9DdUIsU0FBVSxDQUFDbFcsRUFBRyxFQUFHMlUsR0FBSSxHQUNyQndCLE1BQU8sUyxvR0FPK0I3aEIsR0FsS3BEc21CLENBQWlCbEYsSUV6ZXJCN0YsRUFBVXlHLE9BQVEsb0JBQW9CN2hCLFdBQVUsV0FDOUMsSUFBTXNnQixFQUFTOEYsU0FBU0MsZUFBZSxtQkFDdkMsR0FBSy9GLEVBQUwsQ0FLQSxJQUFNZ0csRUFBWSxJQUFJLEdBQWdCaEcsR0FDdENnRyxFQUFVeEUsYUFFVixJQUFNbFYsRUFBTTBULEVBQU8yQixXQUFXLE1BR3hCc0UsR0FEVXRlLEtBQUtDLE1BQ1IsV0FDWCxJQUFNc2UsRUFBWXZlLEtBQUtDLE1BQ3ZCMEUsRUFBSXdWLFVBQVksVUFDaEJ4VixFQUFJeVYsU0FBUyxFQUFHLEVBQUcvQixFQUFPcUIsTUFBT3JCLEVBQU9zQixRQUN4QzBFLEVBQVV6ZSxXQUVFMmUsRUFDWjNFLE9BQU80RSxzQkFBc0JGLEtBRy9CMUUsT0FBTzRFLHNCQUFzQkYsUUFwQjNCaGEsUUFBUXBJLE1BQU0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxNCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zcmMvZWNzL2NvbXBvbmVudC5tb2RlbFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3JjL2Vjcy9lbnRpdHkubW9kZWxcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3NyYy9lY3MvZXNjLXF1ZXJ5Lm1vZGVsXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zcmMvZWNzL3N5c3RlbS5tb2RlbFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3JjL2Vjcy9xdWVyeS1idWlsZGVyXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zcmMvZWNzL21hbmFnZXJcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3NyYy9vYnNlcnZlci9kaXNwYXRjaC1zdWJqZWN0XCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1F1ZXJ5TGVhZk5vZGUgPSBleHBvcnRzLmlzUXVlcnlOb2RlID0gZXhwb3J0cy5xdWVyeVRva2VuRnJvbVN0cmluZyA9IGV4cG9ydHMuUXVlcnlUb2tlbiA9IHZvaWQgMDtcbi8qKlxuICogRGVmaW5lcyB0aGUgZW5kIHVzZXIgaW50ZW50IHdpdGggYSBnaXZlbiB7QGxpbmsgUXVlcnlOb2RlfVxuICovXG52YXIgUXVlcnlUb2tlbjtcbihmdW5jdGlvbiAoUXVlcnlUb2tlbikge1xuICAgIFF1ZXJ5VG9rZW5bUXVlcnlUb2tlbltcIkFORFwiXSA9IDBdID0gXCJBTkRcIjtcbiAgICBRdWVyeVRva2VuW1F1ZXJ5VG9rZW5bXCJPUlwiXSA9IDFdID0gXCJPUlwiO1xuICAgIFF1ZXJ5VG9rZW5bUXVlcnlUb2tlbltcIk5PVFwiXSA9IDJdID0gXCJOT1RcIjtcbiAgICBRdWVyeVRva2VuW1F1ZXJ5VG9rZW5bXCJTSEFSRURcIl0gPSAzXSA9IFwiU0hBUkVEXCI7XG59KShRdWVyeVRva2VuID0gZXhwb3J0cy5RdWVyeVRva2VuIHx8IChleHBvcnRzLlF1ZXJ5VG9rZW4gPSB7fSkpO1xuZnVuY3Rpb24gcXVlcnlUb2tlbkZyb21TdHJpbmcodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgJ2FuZCc6XG4gICAgICAgICAgICByZXR1cm4gUXVlcnlUb2tlbi5BTkQ7XG4gICAgICAgIGNhc2UgJ29yJzpcbiAgICAgICAgICAgIHJldHVybiBRdWVyeVRva2VuLk9SO1xuICAgICAgICBjYXNlICdub3QnOlxuICAgICAgICAgICAgcmV0dXJuIFF1ZXJ5VG9rZW4uTk9UO1xuICAgICAgICBjYXNlICdzaGFyZWQnOlxuICAgICAgICAgICAgcmV0dXJuIFF1ZXJ5VG9rZW4uU0hBUkVEO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZXhwb3J0cy5xdWVyeVRva2VuRnJvbVN0cmluZyA9IHF1ZXJ5VG9rZW5Gcm9tU3RyaW5nO1xuZnVuY3Rpb24gaXNRdWVyeU5vZGUobm9kZSkge1xuICAgIHJldHVybiBub2RlLnRva2VuICE9PSB1bmRlZmluZWQ7XG59XG5leHBvcnRzLmlzUXVlcnlOb2RlID0gaXNRdWVyeU5vZGU7XG5mdW5jdGlvbiBpc1F1ZXJ5TGVhZk5vZGUobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGVTdHIgIT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMuaXNRdWVyeUxlYWZOb2RlID0gaXNRdWVyeUxlYWZOb2RlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXNjLXF1ZXJ5Lm1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5RdWVyeUJ1aWxkZXIgPSBleHBvcnRzLmNyZWF0ZVF1ZXJ5RnJvbUlkZW50aWZpZXJMaXN0ID0gdm9pZCAwO1xudmFyIGVzY19xdWVyeV9tb2RlbF8xID0gcmVxdWlyZShcIi4vZXNjLXF1ZXJ5Lm1vZGVsXCIpO1xudmFyIFN0YXRlQ2hhbmdlO1xuKGZ1bmN0aW9uIChTdGF0ZUNoYW5nZSkge1xuICAgIFN0YXRlQ2hhbmdlW1N0YXRlQ2hhbmdlW1wiTm9kZVwiXSA9IDBdID0gXCJOb2RlXCI7XG4gICAgU3RhdGVDaGFuZ2VbU3RhdGVDaGFuZ2VbXCJMZWFmTm9kZVwiXSA9IDFdID0gXCJMZWFmTm9kZVwiO1xufSkoU3RhdGVDaGFuZ2UgfHwgKFN0YXRlQ2hhbmdlID0ge30pKTtcbi8vIFRPRE86IHRoaXMgc2VlbXMgbGlrZSBpdCBzaG91bGQgYmUgYSBzdGF0ZSBtYWNoaW5lXG4vLyBUT0RPOiB3ZSBzaG91bGQganVzdCB3cml0ZSBhIHRleHQgcGFyc2VyIGluc3RlYWQgb2YgdXNpbmcgdGhlIGJ1aWxkZXJcbi8vIFRPRE86IHN1cHBvcnQgTk9UXG4vLyBDdXJyZW50bHkgYSB0ZXJyaWJsZSBtZXNzIG9mIGlmJ3MuIFNob3VsZCByZWZhY3RvciBhc2FwXG5mdW5jdGlvbiBjcmVhdGVRdWVyeUZyb21JZGVudGlmaWVyTGlzdChpZGVudGlmaWVycykge1xuICAgIHZhciBzaGFyZWRTZXQgPSBmYWxzZTtcbiAgICB2YXIgY3JlYXRlVHJlZSA9IGZ1bmN0aW9uIChpZGVudGlmaWVycykge1xuICAgICAgICB2YXIgcUJ1aWxkZXIgPSBuZXcgUXVlcnlCdWlsZGVyKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpZGVudGlmaWVyU3BsaXQgPSBpZGVudGlmaWVyc1tpXS5zcGxpdCgnWycpO1xuICAgICAgICAgICAgcUJ1aWxkZXIuaWRlbnRpZmllcihpZGVudGlmaWVyU3BsaXRbMF0pO1xuICAgICAgICAgICAgdmFyIG9uTGFzdCA9IChpID09PSBpZGVudGlmaWVycy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHZhciBuZXh0SXNTaGFyZWQgPSAhc2hhcmVkU2V0ICYmICFvbkxhc3QgJiYgaWRlbnRpZmllcnNbaSArIDFdLnNwbGl0KCdbJykubGVuZ3RoID4gMTtcbiAgICAgICAgICAgIGlmICghb25MYXN0ICYmICFuZXh0SXNTaGFyZWQpIHtcbiAgICAgICAgICAgICAgICBxQnVpbGRlci50b2tlbihlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLkFORCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuZXh0SXNTaGFyZWQpIHtcbiAgICAgICAgICAgICAgICBzaGFyZWRTZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHFCdWlsZGVyLnRva2VuKGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uT1IpO1xuICAgICAgICAgICAgICAgIHFCdWlsZGVyLnRva2VuKGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uU0hBUkVEKTtcbiAgICAgICAgICAgICAgICBxQnVpbGRlci5hcHBlbmQoY3JlYXRlVHJlZShpZGVudGlmaWVycy5zbGljZShpICsgMSwgaWRlbnRpZmllcnMubGVuZ3RoKSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxQnVpbGRlci5idWlsZCgpO1xuICAgIH07XG4gICAgcmV0dXJuIGNyZWF0ZVRyZWUoaWRlbnRpZmllcnMpO1xufVxuZXhwb3J0cy5jcmVhdGVRdWVyeUZyb21JZGVudGlmaWVyTGlzdCA9IGNyZWF0ZVF1ZXJ5RnJvbUlkZW50aWZpZXJMaXN0O1xudmFyIFF1ZXJ5QnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBRdWVyeUJ1aWxkZXIoc3RhdGUpIHtcbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBzdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHtcbiAgICAgICAgICAgICAgICB0b2tlbjogbnVsbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdGhpcy5yb290O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUsIFwid29ya2luZ05vZGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnROb2RlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gVE9ETzogRXJyb3IgaGFuZGxpbmdcbiAgICBRdWVyeUJ1aWxkZXIucHJvdG90eXBlLmlkZW50aWZpZXIgPSBmdW5jdGlvbiAoaWRlbnRpZmllcikge1xuICAgICAgICBpZiAodGhpcy5sYXN0Q2hhbmdlID09PSBTdGF0ZUNoYW5nZS5MZWFmTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0Q2hhbmdlID0gU3RhdGVDaGFuZ2UuTGVhZk5vZGU7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50Tm9kZS5sZWZ0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUubGVmdENoaWxkID0ge1xuICAgICAgICAgICAgICAgIHR5cGVTdHI6IGlkZW50aWZpZXJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkID0ge1xuICAgICAgICAgICAgICAgIHR5cGVTdHI6IGlkZW50aWZpZXJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBRdWVyeUJ1aWxkZXIucHJvdG90eXBlLnRva2VuID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHRoaXMubGFzdENoYW5nZSA9IFN0YXRlQ2hhbmdlLk5vZGU7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlLnRva2VuID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLnRva2VuID0gdG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuY3VycmVudE5vZGUubGVmdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLmxlZnRDaGlsZCA9IHtcbiAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdGhpcy5jdXJyZW50Tm9kZS5sZWZ0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0Q2hpbGQgPSB0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkID0ge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGxlZnRDaGlsZDogbGVmdENoaWxkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBRdWVyeUJ1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uICh0cmVlKSB7XG4gICAgICAgIGlmICh0aGlzLmxhc3RDaGFuZ2UgPT09IFN0YXRlQ2hhbmdlLkxlYWZOb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnROb2RlLmxlZnRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5sZWZ0Q2hpbGQgPSB0cmVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZCA9IHRyZWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmMgPSB0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQgPSB7XG4gICAgICAgICAgICAgICAgdG9rZW46IGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uQU5ELFxuICAgICAgICAgICAgICAgIGxlZnRDaGlsZDogdHJlZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5yb290O1xuICAgICAgICB0aGlzLnJvb3QgPSB7XG4gICAgICAgICAgICB0b2tlbjogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdGhpcy5yb290O1xuICAgICAgICBpZiAocXVlcnkudG9rZW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5LnRva2VuID0gZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5PUjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgfTtcbiAgICByZXR1cm4gUXVlcnlCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuUXVlcnlCdWlsZGVyID0gUXVlcnlCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnktYnVpbGRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRGlzcGF0Y2hTdWJqZWN0ID0gdm9pZCAwO1xudmFyIERpc3BhdGNoU3ViamVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEaXNwYXRjaFN1YmplY3QoKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgfVxuICAgIERpc3BhdGNoU3ViamVjdC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKSA+PSAwKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBlcnJvciBoYW5kbGluZ1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICAgIH07XG4gICAgRGlzcGF0Y2hTdWJqZWN0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm9ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKTtcbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgLy8gVE9ETzogZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gICAgRGlzcGF0Y2hTdWJqZWN0LnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gKG9ic2VydmVkKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ob2JzZXJ2ZWQpOyB9KTtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEaXNwYXRjaFN1YmplY3Q7XG59KCkpO1xuZXhwb3J0cy5EaXNwYXRjaFN1YmplY3QgPSBEaXNwYXRjaFN1YmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwYXRjaC1zdWJqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50Lm1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW50aXR5Lm1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3lzdGVtLm1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FQ1NNYW5hZ2VyID0gZXhwb3J0cy5FbnRpdHlCdWlsZGVyID0gdm9pZCAwO1xudmFyIGVzY19xdWVyeV9tb2RlbF8xID0gcmVxdWlyZShcIi4vZXNjLXF1ZXJ5Lm1vZGVsXCIpO1xudmFyIGRpc3BhdGNoX3N1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZlci9kaXNwYXRjaC1zdWJqZWN0XCIpO1xudmFyIHF1ZXJ5X2J1aWxkZXJfMSA9IHJlcXVpcmUoXCIuL3F1ZXJ5LWJ1aWxkZXJcIik7XG52YXIgY29tcG9uZW50X3Bvb2xfMSA9IHJlcXVpcmUoXCIuLi9wb29sL2NvbXBvbmVudC1wb29sXCIpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuLyoqXG4gKiBCdWlsZGVyIGZvciBlbnRpdGllcy4gRW5hYmxlcyBlbmQgdXNlciB0byBjaGFpbiBvcGVyYXRpb25zLlxuICogRXhhbXBsZTpcbiAqIGBgYHRzXG4gKiBuZXcgRUNTTWFuYWdlcigpLmNyZWF0ZUVudGl0eSgpLmFkZENvbXBvbmVudChuZXcgVGVzdENvbXAoKSk7XG4gKiBgYGBcbiAqL1xudmFyIEVudGl0eUJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogVGhpcyBzaG91bGQgbm90IGJlIHVzZWQgbWFudWFsbHlcbiAgICAgKiBAcGFyYW0gaWQgIGlkIG9mIGVudGl0eSB0aGF0IGlzIHN1cHBvc2VkIHRvIGJlIHVwZGF0ZWRcbiAgICAgKiBAcGFyYW0gZWNzTWFuYWdlciBtYW5hZ2VyIHRoYXQgaXMgY3JlYXRpbmcgdGhlIGJ1aWxkZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbnRpdHlCdWlsZGVyKGlkLCBlY3NNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5lY3NNYW5hZ2VyID0gZWNzTWFuYWdlcjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudGl0eUJ1aWxkZXIucHJvdG90eXBlLCBcImVudGl0eUlkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlIHRoZSBpZCBvZiB0aGUgZW50aXR5IHRoYXQgaXMgYmVpbmcgYnVpbHRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIGZhY2FkZSB0byB7QGxpbmsgRUNTTWFuYWdlci5hZGRDb21wb25lbnR9XG4gICAgICogQHR5cGVQYXJhbSBUIGFueSBvYmplY3QgeW91IHdvdWxkIGxpa2UgdG8gYmUgYSBjb21wb25lbnQuIFNob3VsZCBvbmx5IGJlIGRhdGEsIGFuZCBub3QgYW55IGZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSBjb21wb25lbnQgICBhIG5ldyBjb21wb25lbnQgdG8gYmUgY29ubmVjdGVkIHdpdGggZ2l2ZW4gZW50aXR5LlxuICAgICAqL1xuICAgIEVudGl0eUJ1aWxkZXIucHJvdG90eXBlLmFkZENvbXBvbmVudCA9IGZ1bmN0aW9uICh0eXBlU3RyLCBjb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWNzTWFuYWdlci5hZGRDb21wb25lbnQodGhpcy5pZCwgdHlwZVN0ciwgY29tcG9uZW50LCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgZmFjYWRlIHRvIHtAbGluayBFQ1NNYW5hZ2VyLnJlbW92ZUNvbXBvbmVudH1cbiAgICAgKiBAdHlwZVBhcmFtIFQgYW55IG9iamVjdCB5b3Ugd291bGQgbGlrZSB0byBiZSBhIGNvbXBvbmVudC4gU2hvdWxkIG9ubHkgYmUgZGF0YSwgYW5kIG5vdCBhbnkgZnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHR5cGVTdHIgICB0aGUgdHlwZSB0eXBlU3RycyBmb3IgdGhlIGNvbXBvbmVudCB5b3Ugd2FudCB0byByZW1vdmVcbiAgICAgKi9cbiAgICBFbnRpdHlCdWlsZGVyLnByb3RvdHlwZS5yZW1vdmVDb21wb25lbnQgPSBmdW5jdGlvbiAodHlwZVN0cnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWNzTWFuYWdlci5yZW1vdmVDb21wb25lbnQodGhpcy5pZCwgdHlwZVN0cnMsIHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIEVudGl0eUJ1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5FbnRpdHlCdWlsZGVyID0gRW50aXR5QnVpbGRlcjtcbi8qKlxuICogVGhlIG1haW4gY2xhc3MsIGFuZCB1c3VhbGx5IGEgc2luZ2xldG9uIGZvciB5b3VyIHByb2dyYW0gdGhhdCB3aWxsIG1hbmFnZSB5b3VyIGdhbWUgc3RhdGVcbiAqL1xudmFyIEVDU01hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRUNTTWFuYWdlcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaWdub3JlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN5c3RlbXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW50aXR5SWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZnRlclVwZGF0ZUxvb3AgPSBuZXcgZGlzcGF0Y2hfc3ViamVjdF8xLkRpc3BhdGNoU3ViamVjdCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1J1bm5pbmdTeXN0ZW1zID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgc3lzdGVtIG1lYW50IHRvIGJlIGNhbGxlZCBtYW51YWxseSBieSB0aGUgY2FsbGVlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3lzdGVtICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCByZWFkL3dyaXRlIHRvIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gcXVlcnkgIFRoZSBxdWVyeSB1c2VkIHRvIGZldGNoIHN5c3RlbSBwYXJhbWV0ZXJzXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJFdmVudFdpdGhFc2NRdWVyeSA9IGZ1bmN0aW9uIChzeXN0ZW0sIHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgcVJlc3VsdDogdGhpcy5xdWVyeUVudGl0aWVzKHF1ZXJ5KSxcbiAgICAgICAgICAgIHN5c3RlbTogc3lzdGVtXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMubGVuZ3RoIC0gMTtcbiAgICB9O1xuICAgIC8qKlxuICAgKiBSZWdpc3RlciBhIHN5c3RlbSBtZWFudCB0byBiZSBjYWxsZWQgbWFudWFsbHkgYnkgdGhlIGNhbGxlZVxuICAgKlxuICAgKiBAcGFyYW0gc3lzdGVtICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCByZWFkL3dyaXRlIHRvIGNvbXBvbmVudHNcbiAgICogQHBhcmFtIHR5cGVTdHJzICBBIGxpc3Qgb2YgdHlwZXMgYXMgc3RyaW5nXG4gICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyRXZlbnQgPSBmdW5jdGlvbiAoc3lzdGVtLCB0eXBlU3Rycykge1xuICAgICAgICB2YXIgcXVlcnkgPSBxdWVyeV9idWlsZGVyXzEuY3JlYXRlUXVlcnlGcm9tSWRlbnRpZmllckxpc3QodHlwZVN0cnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlckV2ZW50V2l0aEVzY1F1ZXJ5KHN5c3RlbSwgcXVlcnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBzeXN0ZW0gbWVhbnQgdG8gYmUgY2FsbGVkIGVhY2ggZnJhbWUgYnkgdGhlIG1hbmFnZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzeXN0ZW0gIEEgZnVuY3Rpb24gdGhhdCB3aWxsIHJlYWQvd3JpdGUgdG8gY29tcG9uZW50c1xuICAgICAqIEBwYXJhbSBxdWVyeSAgVGhlIHF1ZXJ5IHVzZWQgdG8gZmV0Y2ggc3lzdGVtIHBhcmFtZXRlcnNcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlclN5c3RlbVdpdGhFc2NRdWVyeSA9IGZ1bmN0aW9uIChzeXN0ZW0sIHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHtcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgIHFSZXN1bHQ6IHRoaXMucXVlcnlFbnRpdGllcyhxdWVyeSksXG4gICAgICAgICAgICBzeXN0ZW06IHN5c3RlbVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgc3lzdGVtIG1lYW50IHRvIGJlIGNhbGxlZCBlYWNoIGZyYW1lIGJ5IHRoZSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3lzdGVtICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCByZWFkL3dyaXRlIHRvIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gdHlwZVN0ciAgQSBsaXN0IG9mIHR5cGVzIGFzIHN0cmluZ1xuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyU3lzdGVtID0gZnVuY3Rpb24gKHN5c3RlbSwgdHlwZVN0cikge1xuICAgICAgICB2YXIgcXVlcnkgPSBxdWVyeV9idWlsZGVyXzEuY3JlYXRlUXVlcnlGcm9tSWRlbnRpZmllckxpc3QodHlwZVN0cik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJTeXN0ZW1XaXRoRXNjUXVlcnkoc3lzdGVtLCBxdWVyeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGVudGl0eVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLmNyZWF0ZUVudGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbnRpdGllcy5wdXNoKHsgaWQ6IHRoaXMuZW50aXR5SWQrKyB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBFbnRpdHlCdWlsZGVyKHRoaXMuZW50aXR5SWQgLSAxLCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIG5vbiB0cmFuc2Zvcm0gdmVyc2lvbiBvZiByZWdpc3RlckNvbXBvbmVudFR5cGVcbiAgICAgKiBZb3Ugc2hvdWxkIHByb2JhYmx5IGNhbGwge0BsaW5rIHJlZ2lzdGVyQ29tcG9uZW50VHlwZX0gZnJvbSB0aGUgaW5kZXggaW5zdGVhZFxuICAgICAqXG4gICAgICogVXNlZCB0byBwcmVhbGxvY2F0ZSBzdG9yYWdlIGZvciBhIGdpdmVuIGNvbXBvbmVudCB0eXBlXG4gICAgICogYXZvaWQgY2FsbGluZyB0aGlzIGluIGEgZ2FtZSBsb29wXG4gICAgICogQHBhcmFtIHR5cGVTdHIgdGhlIHR5cGUgb2YgdGhlIGNvbXBvbmVudCBhcyBhIHN0cmluZ1xuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWVcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlckNvbXBvbmVudFR5cGUgPSBmdW5jdGlvbiAodHlwZVN0ciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudHMuaGFzKHR5cGVTdHIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldCh0eXBlU3RyLCBuZXcgY29tcG9uZW50X3Bvb2xfMS5Db21wb25lbnRQb29sKGRlZmF1bHRWYWx1ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgbm9uIHRyYW5zZm9ybSB2ZXJzaW9uIG9mIGFkZENvbXBvbmVudFxuICAgICAqIFlvdSBzaG91bGQgcHJvYmFibHkgY2FsbCB7QGxpbmsgYWRkQ29tcG9uZW50fSBmcm9tIHRoZSBpbmRleCBpbnN0ZWFkXG4gICAgICpcbiAgICAqIEB0eXBlUGFyYW0gVCBhbnkgb2JqZWN0IHlvdSB3b3VsZCBsaWtlIHRvIGJlIGEgY29tcG9uZW50LiBTaG91bGQgb25seSBiZSBkYXRhLCBhbmQgbm90IGFueSBmdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0gZW50aXR5SWQgIGlkIG9mIGVudGl0eSB0aGF0IGlzIHN1cHBvc2VkIHRvIGJlIHVwZGF0ZWRcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50ICBhIG5ldyBjb21wb25lbnQgdG8gYmUgY29ubmVjdGVkIHdpdGggZ2l2ZW4gZW50aXR5LlxuICAgICAqIEBwYXJhbSBidWlsZGVyICBVc2VkIGJ5IHRoZSBFbnRpdHlCdWlsZGVyIHRvIGNhY2hlIGl0c2VsZiwgY2FuIGJlIGlnbm9yZWQgdXN1YWxseVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLmFkZENvbXBvbmVudCA9IGZ1bmN0aW9uIChlbnRpdHlJZCwgdHlwZVN0ciwgY29tcG9uZW50LCBidWlsZGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBidWlsZGVyUnRyID0gZnVuY3Rpb24gKGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBidWlsZGVyICE9PSBudWxsICYmIGJ1aWxkZXIgIT09IHZvaWQgMCA/IGJ1aWxkZXIgOiBuZXcgRW50aXR5QnVpbGRlcihlbnRpdHlJZCwgX3RoaXMpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXMuY29tcG9uZW50cy5oYXModHlwZVN0cikpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gVE9ETzogZXJyb3JoYW5kbGluZ1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21wb25lbnRzID0gdGhpcy5jb21wb25lbnRzLmdldCh0eXBlU3RyKTtcbiAgICAgICAgaWYgKGNvbXBvbmVudHMgPT09IG51bGwgfHwgY29tcG9uZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcG9uZW50cy5maW5kKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmVudGl0eUlkID09PSBlbnRpdHlJZDsgfSkpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gVE9ETzogZXJyb3JoYW5kbGluZ1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZ1N5c3RlbXMpIHtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJVcGRhdGVMb29wLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KGVudGl0eUlkLCB0eXBlU3RyLCBjb21wb25lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRlclJ0cihidWlsZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRzLmFkZChlbnRpdHlJZCwgY29tcG9uZW50KTtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlUXVlcnlSZXN1bHRzKHR5cGVTdHIpO1xuICAgICAgICByZXR1cm4gYnVpbGRlclJ0cihidWlsZGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIG5vbiB0cmFuc2Zvcm0gdmVyc2lvbiBvZiByZW1vdmVDb21wb25lbnRcbiAgICAgKiBZb3Ugc2hvdWxkIHByb2JhYmx5IGNhbGwge0BsaW5rIHJlbW92ZUNvbXBvbmVudH0gZnJvbSB0aGUgaW5kZXggaW5zdGVhZFxuICAgICAqXG4gICAgICogQHBhcmFtIGVudGl0eUlkICBpZCBvZiBlbnRpdHkgdGhhdCBpcyBzdXBwb3NlZCB0byBiZSB1cGRhdGVkXG4gICAgICogQHBhcmFtIHR5cGVTdHIgICB0aGUgdHlwZSBhcyBzdHJpbmcgZm9yIHRoZSBjb21wb25lbnQgeW91IHdhbnQgdG8gcmVtb3ZlXG4gICAgICogQHBhcmFtIGJ1aWxkZXIgIFVzZWQgYnkgdGhlIEVudGl0eUJ1aWxkZXIgdG8gY2FjaGUgaXRzZWxmLCBjYW4gYmUgaWdub3JlZCB1c3VhbGx5XG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50ID0gZnVuY3Rpb24gKGVudGl0eUlkLCB0eXBlU3RyLCBidWlsZGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZ1N5c3RlbXMpIHtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJVcGRhdGVMb29wLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KGVudGl0eUlkLCB0eXBlU3RyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5nZXQodHlwZVN0cikucmVtb3ZlKGVudGl0eUlkKTtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlUXVlcnlSZXN1bHRzKHR5cGVTdHIpO1xuICAgICAgICByZXR1cm4gYnVpbGRlciAhPT0gbnVsbCAmJiBidWlsZGVyICE9PSB2b2lkIDAgPyBidWlsZGVyIDogbmV3IEVudGl0eUJ1aWxkZXIoZW50aXR5SWQsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHF1ZXJ5ICBmaWx0ZXIgZm9yIHdoaWNoIGVudGl0aWVzIHRvIHJldHJpZXZlXG4gICAgICogQHJldHVybiByZXR1cm5zIGEgb2JqZWN0IGNvbnRhaW5pbmcgZW50aXRpZXMgdGhhdCBhcmUgbWVhbnQgdG9cbiAgICAgKiBiZSBpdGVyYXRlZCBieSB0aGUgbWFuYWdlciB1bmRlciBkaXNwYXRjaC9ldmVudCBhbmQgc2hhcmVkIGVudGl0aWVzIHRoYXRcbiAgICAgKiB3aWxsIGJlIHNoYXJlZCBlYWNoIGl0ZXJhdGlvblxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLnF1ZXJ5RW50aXRpZXMgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhbmRGbiA9IGZ1bmN0aW9uIChsZWZ0LCByaWd0aCkge1xuICAgICAgICAgICAgdmFyIGVfMywgX2E7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIHZhciBySW5kZXggPSByaWd0aC5maW5kSW5kZXgoZnVuY3Rpb24gKHJFKSB7IHJldHVybiByRS5pZCA9PT0gZW50cnkuaWQ7IH0pO1xuICAgICAgICAgICAgICAgIGlmIChySW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IHJpZ3RoLnNwbGljZShySW5kZXgsIDEpOyAvLyB0aGlzIG1pZ2h0IGJlIHN0dXBpZCBcbiAgICAgICAgICAgICAgICBpZiAoZm91bmQubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVudHJ5LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogZW50cnkuY29tcG9uZW50cy5jb25jYXQoZm91bmRbMF0uY29tcG9uZW50cylcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbGVmdF8xID0gX192YWx1ZXMobGVmdCksIGxlZnRfMV8xID0gbGVmdF8xLm5leHQoKTsgIWxlZnRfMV8xLmRvbmU7IGxlZnRfMV8xID0gbGVmdF8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBsZWZ0XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2xvb3BfMihlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfM18xKSB7IGVfMyA9IHsgZXJyb3I6IGVfM18xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0XzFfMSAmJiAhbGVmdF8xXzEuZG9uZSAmJiAoX2EgPSBsZWZ0XzEucmV0dXJuKSkgX2EuY2FsbChsZWZ0XzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb3JSZWR1Y2VyID0gZnVuY3Rpb24gKHByZXZpb3VzVmFsdWVzLCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVfNCwgX2E7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwcmV2aW91c1ZhbHVlcy5maW5kSW5kZXgoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4uaWQgPT09IHZhbHVlLmlkOyB9KTtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfbG9vcF8zID0gZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2aW91c1ZhbHVlc1tpbmRleF0uY29tcG9uZW50cy5maW5kKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjID09PSBjb21wOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZXNbaW5kZXhdLmNvbXBvbmVudHMucHVzaChjb21wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh2YWx1ZS5jb21wb25lbnRzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXAgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wXzMoY29tcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNCkgdGhyb3cgZV80LmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWVzO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcXVlcnlTdGVwID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVzY19xdWVyeV9tb2RlbF8xLmlzUXVlcnlOb2RlKHF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIHZhciBxTFJlc3VsdCA9IHF1ZXJ5U3RlcChxdWVyeS5sZWZ0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIHZhciBxUlJlc3VsdF8xID0gcXVlcnlTdGVwKHF1ZXJ5LnJpZ2h0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocXVlcnkudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLkFORDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmRGbihxTFJlc3VsdCwgcVJSZXN1bHRfMSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5PUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBxTFJlc3VsdC5jb25jYXQocVJSZXN1bHRfMSkucmVkdWNlKG9yUmVkdWNlciwgW10pO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uTk9UOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHFMUmVzdWx0LmZpbHRlcihmdW5jdGlvbiAoZW50aXR5KSB7IHJldHVybiAhcVJSZXN1bHRfMS5maW5kKGZ1bmN0aW9uIChvZSkgeyByZXR1cm4gb2UuaWQgPT0gZW50aXR5LmlkOyB9KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5TSEFSRUQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGVTdHJfMSA9IHF1ZXJ5LnR5cGVTdHI7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudHMgPSBfdGhpcy5jb21wb25lbnRzLmdldCh0eXBlU3RyXzEpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlZmFjdG9yIHNvIHdlIGRvbid0IG5lZWQgdmFyaWFibGUgZnJvbSBvdXRzaWRlIHNjb3BlXG4gICAgICAgICAgICAgICAgLy8gICAgICAgY2xlYW4gc28gaXQncyBtb3JlIHJlYWRhYmxlXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNSZXN1bHQgPSAoX2EgPSBjb21wb25lbnRzID09PSBudWxsIHx8IGNvbXBvbmVudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXBvbmVudHMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiB1dGlsXzEuaXNOdW1iZXIoYy5lbnRpdHlJZCkgJiYgYy5lbnRpdHlJZCA+PSAwOyB9KS5yZWR1Y2UoZnVuY3Rpb24gKHByZXZpb3VzVmFsdWVzLCB2YWx1ZSwgY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHByZXZpb3VzVmFsdWVzLmZpbmRJbmRleChmdW5jdGlvbiAobikgeyByZXR1cm4gbi5pZCA9PT0gdmFsdWUuZW50aXR5SWQ7IH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Q29tcCA9IHsgdHlwZVN0cjogdHlwZVN0cl8xLCBpbmRleDogY3VycmVudEluZGV4IH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdmFsdWUuZW50aXR5SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW25ld0NvbXBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZXMucHVzaChuZXdFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBwcmV2aW91c1ZhbHVlc1tpbmRleF0uY29tcG9uZW50cy5maW5kKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmluZGV4ID09PSBuZXdDb21wLmluZGV4ICYmIGMudHlwZVN0ciA9PT0gbmV3Q29tcC50eXBlU3RyOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlc1tpbmRleF0uY29tcG9uZW50cy5wdXNoKG5ld0NvbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlcztcbiAgICAgICAgICAgICAgICB9LCBbXSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgZmluZFNoYXJlZCA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICAgICAgaWYgKCFxdWVyeSB8fCBlc2NfcXVlcnlfbW9kZWxfMS5pc1F1ZXJ5TGVhZk5vZGUocXVlcnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWVyeS50b2tlbiA9PT0gZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5TSEFSRUQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGVmdExpc3QgPSBmaW5kU2hhcmVkKHF1ZXJ5LmxlZnRDaGlsZCk7XG4gICAgICAgICAgICB2YXIgcmlnaHRMaXN0ID0gZmluZFNoYXJlZChxdWVyeS5yaWdodENoaWxkKTtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0TGlzdCAhPT0gbnVsbCAmJiBsZWZ0TGlzdCAhPT0gdm9pZCAwID8gbGVmdExpc3QgOiByaWdodExpc3Q7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBleHRyYWN0TGVhZk5vZGVzID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVzY19xdWVyeV9tb2RlbF8xLmlzUXVlcnlOb2RlKHF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0TGVhZnMgPSBleHRyYWN0TGVhZk5vZGVzKHF1ZXJ5LmxlZnRDaGlsZCk7XG4gICAgICAgICAgICAgICAgdmFyIHJpZ2h0TGVhZnMgPSBleHRyYWN0TGVhZk5vZGVzKHF1ZXJ5LnJpZ2h0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIHJldHVybiAobGVmdExlYWZzICE9PSBudWxsICYmIGxlZnRMZWFmcyAhPT0gdm9pZCAwID8gbGVmdExlYWZzIDogW10pLmNvbmNhdChyaWdodExlYWZzICE9PSBudWxsICYmIHJpZ2h0TGVhZnMgIT09IHZvaWQgMCA/IHJpZ2h0TGVhZnMgOiBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3F1ZXJ5XTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNoYXJlZE5vZGUgPSBmaW5kU2hhcmVkKHF1ZXJ5KTtcbiAgICAgICAgdmFyIHNoYXJlZEVudGl0aWVzID0gcXVlcnlTdGVwKHNoYXJlZE5vZGUgPT09IG51bGwgfHwgc2hhcmVkTm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hhcmVkTm9kZS5sZWZ0Q2hpbGQpO1xuICAgICAgICB2YXIgc2hhcmVkQXJncyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHNoYXJlZEVudGl0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjb21wRW50cmllcyA9IHNoYXJlZEVudGl0aWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LmNvbXBvbmVudHM7IH0pO1xuICAgICAgICAgICAgc2hhcmVkQXJncyA9IG5ldyBBcnJheShjb21wRW50cmllc1swXS5sZW5ndGgpO1xuICAgICAgICAgICAgdmFyIHR5cGVNYXAgPSBbXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY29tcEVudHJpZXNfMSA9IF9fdmFsdWVzKGNvbXBFbnRyaWVzKSwgY29tcEVudHJpZXNfMV8xID0gY29tcEVudHJpZXNfMS5uZXh0KCk7ICFjb21wRW50cmllc18xXzEuZG9uZTsgY29tcEVudHJpZXNfMV8xID0gY29tcEVudHJpZXNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gY29tcEVudHJpZXNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChjb21wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0eXBlTWFwLmZpbmRJbmRleChmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA9PT0gY29tcC50eXBlU3RyOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHR5cGVNYXAubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVNYXAucHVzaChjb21wLnR5cGVTdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaGFyZWRBcmdzW2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlZEFyZ3NbaW5kZXhdID0gW3RoaXNfMS5jb21wb25lbnRzLmdldChjb21wLnR5cGVTdHIpLnVuc2FmZUdldChjb21wLmluZGV4KV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZWRBcmdzW2luZGV4XSA9IHNoYXJlZEFyZ3NbaW5kZXhdLmNvbmNhdCh0aGlzXzEuY29tcG9uZW50cy5nZXQoY29tcC50eXBlU3RyKS51bnNhZmVHZXQoY29tcC5pbmRleCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGVudHJ5XzEgPSAoZV8yID0gdm9pZCAwLCBfX3ZhbHVlcyhlbnRyeSkpLCBlbnRyeV8xXzEgPSBlbnRyeV8xLm5leHQoKTsgIWVudHJ5XzFfMS5kb25lOyBlbnRyeV8xXzEgPSBlbnRyeV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wID0gZW50cnlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wXzEoY29tcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeV8xXzEgJiYgIWVudHJ5XzFfMS5kb25lICYmIChfYiA9IGVudHJ5XzEucmV0dXJuKSkgX2IuY2FsbChlbnRyeV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcEVudHJpZXNfMV8xICYmICFjb21wRW50cmllc18xXzEuZG9uZSAmJiAoX2EgPSBjb21wRW50cmllc18xLnJldHVybikpIF9hLmNhbGwoY29tcEVudHJpZXNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgc2hhcmVkQXJnczogc2hhcmVkQXJncyxcbiAgICAgICAgICAgIGVudGl0aWVzOiBxdWVyeVN0ZXAocXVlcnkpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgbm9uIHRyYW5zZm9ybSB2ZXJzaW9uIG9mIGFjY2Vzc0NvbXBvbmVudERhdGFcbiAgICAgKiBZb3Ugc2hvdWxkIHByb2JhYmx5IGNhbGwge0BsaW5rIGFjY2Vzc0NvbXBvbmVudERhdGF9IGZyb20gdGhlIGluZGV4IGluc3RlYWRcbiAgICAgKlxuICAgICAqIEB0eXBlUGFyYW0gVCBjb21wb25lbnQgZGF0YSB0eXBlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29tcFR5cGUgYW55IGluc3RhbmNlIG9mIHNhbWUgdHlwZSBhcyB0YXJnZXQgY29tcG9uZW50XG4gICAgICogQHBhcmFtIGVudGl0eUlkIGlkIG9mIGVudGl0eSBvd25lciBvZiBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4gcmVxdWVzdGVkIGNvbXBvbmVudCBvciBudWxsXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUuYWNjZXNzQ29tcG9uZW50RGF0YSA9IGZ1bmN0aW9uIChlbnRpdHlJZCwgdHlwZVN0cikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBjb21wb25lbnRzID0gdGhpcy5jb21wb25lbnRzLmdldCh0eXBlU3RyKTtcbiAgICAgICAgcmV0dXJuIChfYSA9IGNvbXBvbmVudHMgPT09IG51bGwgfHwgY29tcG9uZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcG9uZW50cy5maW5kKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmVudGl0eUlkID09PSBlbnRpdHlJZDsgfSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kYXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52b2tlcyBhIHN5c3RlbSBldmVudCBhbmQgc3VwcGxpZXMgdGhlbSB3aXRoIHJlbGV2YW50IGJhc2VkIG9uIHByZXZpb3VzIHF1ZXJ5IGFyZ3VtZW50c1xuICAgICAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGV2ZW50IGJlaW5nIGZpcmVkXG4gICAgICogQHBhcmFtIGV2ZW50IEV2ZW50IGRhdGFcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5vbkV2ZW50ID0gZnVuY3Rpb24gKGluZGV4LCBldmVudCkge1xuICAgICAgICB2YXIgZV81LCBfYTtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmdTeXN0ZW1zID0gdHJ1ZTtcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSB0aGlzLmV2ZW50c1tpbmRleF07XG4gICAgICAgIHZhciBldmVudEFyciA9IFtldmVudF07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHN1YnNjcmliZXIucVJlc3VsdC5lbnRpdGllcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBldmVudEFyci5jb25jYXQodGhpcy5jcmVhdGVBcmdzKGVudGl0eSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzW2luZGV4XS5zeXN0ZW0uYXBwbHkobnVsbCwgYXJncy5jb25jYXQoc3Vic2NyaWJlci5xUmVzdWx0LnNoYXJlZEFyZ3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV81XzEpIHsgZV81ID0geyBlcnJvcjogZV81XzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzUpIHRocm93IGVfNS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nU3lzdGVtcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFmdGVyVXBkYXRlTG9vcC50cmlnZ2VyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGFsbCBub3JtYWwgc3lzdGVtcyBhbmQgc3VwcGxpZXMgdGhlbSB3aXRoIGRlbHRhIHRpbWUgYW5kXG4gICAgICogcmVsZXZhbnQgYXJndW1lbnRzIGJhc2VkIG9uIHN5c3RlbSBxdWVyeVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV82LCBfYSwgZV83LCBfYjtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmdTeXN0ZW1zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wcmV2UnVuID0gKHRoaXMucHJldlJ1bikgPyB0aGlzLnByZXZSdW4gOiBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGRlbHRhVGltZSA9IFsobm93IC0gdGhpcy5wcmV2UnVuKSAvIDEwMDBdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnN5c3RlbXMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5c3RlbSA9IF9kLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9lID0gKGVfNyA9IHZvaWQgMCwgX192YWx1ZXMoc3lzdGVtLnFSZXN1bHQuZW50aXRpZXMpKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0eSA9IF9mLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBkZWx0YVRpbWUuY29uY2F0KHRoaXMuY3JlYXRlQXJncyhlbnRpdHkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5c3RlbS5zeXN0ZW0uYXBwbHkobnVsbCwgYXJncy5jb25jYXQoc3lzdGVtLnFSZXN1bHQuc2hhcmVkQXJncykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzdfMSkgeyBlXzcgPSB7IGVycm9yOiBlXzdfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzcpIHRocm93IGVfNy5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV82XzEpIHsgZV82ID0geyBlcnJvcjogZV82XzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzYpIHRocm93IGVfNi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nU3lzdGVtcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFmdGVyVXBkYXRlTG9vcC50cmlnZ2VyKCk7XG4gICAgICAgIHRoaXMucHJldlJ1biA9IG5vdztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5jcmVhdGVBcmdzID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHZhciBlXzgsIF9hO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhlbnRyeS5jb21wb25lbnRzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgYXJnQ29tcCA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcG9uZW50LnR5cGVTdHIpLnVuc2FmZUdldChjb21wb25lbnQuaW5kZXgpO1xuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmdDb21wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV84XzEpIHsgZV84ID0geyBlcnJvcjogZV84XzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzgpIHRocm93IGVfOC5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLmludmFsaWRhdGVRdWVyeVJlc3VsdHMgPSBmdW5jdGlvbiAoY2hhbmdlVHlwZVN0cikge1xuICAgICAgICB2YXIgZV85LCBfYSwgZV8xMCwgX2I7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBpc0NvbXBvbmVudEluUXVlcnkgPSBmdW5jdGlvbiAodHlwZVN0ciwgbm9kZSkge1xuICAgICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVzY19xdWVyeV9tb2RlbF8xLmlzUXVlcnlOb2RlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlZnRGaW5kID0gaXNDb21wb25lbnRJblF1ZXJ5KHR5cGVTdHIsIG5vZGUubGVmdENoaWxkKTtcbiAgICAgICAgICAgICAgICBpZiAobGVmdEZpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByaWdodEZpbmQgPSBpc0NvbXBvbmVudEluUXVlcnkodHlwZVN0ciwgbm9kZS5yaWdodENoaWxkKTtcbiAgICAgICAgICAgICAgICBpZiAocmlnaHRGaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS50eXBlU3RyID09PSB0eXBlU3RyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdXBkYXRlZFN5c3RlbSA9IGZ1bmN0aW9uIChzeXN0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpc0NvbXBvbmVudEluUXVlcnkoY2hhbmdlVHlwZVN0ciwgc3lzdGVtLnF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5xdWVyeUVudGl0aWVzKHN5c3RlbS5xdWVyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3lzdGVtLnFSZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHRoaXMuc3lzdGVtcyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3lzdGVtID0gX2QudmFsdWU7XG4gICAgICAgICAgICAgICAgc3lzdGVtLnFSZXN1bHQgPSB1cGRhdGVkU3lzdGVtKHN5c3RlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfOV8xKSB7IGVfOSA9IHsgZXJyb3I6IGVfOV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV85KSB0aHJvdyBlXzkuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2UgPSBfX3ZhbHVlcyh0aGlzLmV2ZW50cyksIF9mID0gX2UubmV4dCgpOyAhX2YuZG9uZTsgX2YgPSBfZS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3lzdGVtID0gX2YudmFsdWU7XG4gICAgICAgICAgICAgICAgc3lzdGVtLnFSZXN1bHQgPSB1cGRhdGVkU3lzdGVtKHN5c3RlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMTBfMSkgeyBlXzEwID0geyBlcnJvcjogZV8xMF8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfZiAmJiAhX2YuZG9uZSAmJiAoX2IgPSBfZS5yZXR1cm4pKSBfYi5jYWxsKF9lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xMCkgdGhyb3cgZV8xMC5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRUNTTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLkVDU01hbmFnZXIgPSBFQ1NNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuYWdlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29tcG9uZW50UG9vbCA9IHZvaWQgMDtcbi8vIFRPRE86IGl0ZXJhdG9yIHdpbGwgYnJlYWsgaWYgeW91IGJyZWFrIGVhcmx5IG91dCBvZiBsb29wIFxudmFyIENvbXBvbmVudFBvb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcG9uZW50UG9vbChkZWZhdWx0VmFsdWUsIHN0cmlkZSkge1xuICAgICAgICBpZiAoc3RyaWRlID09PSB2b2lkIDApIHsgc3RyaWRlID0gMjA7IH1cbiAgICAgICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgICAgIHRoaXMucG9vbCA9IFtdO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIHRoaXMub25FeHBhbmRQb29sKHRydWUpO1xuICAgIH1cbiAgICAvLyBUT0RPOiBkaXNzYWxsb3cgZW50aXR5SWQgdGhhdCBhbHJlYWR5IGV4aXN0IFxuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChlbnRpdHlJZCwgb3ZlcnJpZGUpIHtcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID49IHRoaXMucG9vbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMub25FeHBhbmRQb29sKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb29sW3RoaXMubGVuZ3RoXS5lbnRpdHlJZCA9IGVudGl0eUlkO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gb3ZlcnJpZGUgIT09IG51bGwgJiYgb3ZlcnJpZGUgIT09IHZvaWQgMCA/IG92ZXJyaWRlIDogdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIHRoaXMuZGVlcEFzc2lnbih0aGlzLnBvb2xbdGhpcy5sZW5ndGhdLmRhdGEsIHRhcmdldCk7XG4gICAgICAgIHRoaXMubGVuZ3RoICs9IDE7XG4gICAgfTtcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZW50aXR5SWQpIHtcbiAgICAgICAgdmFyIGluZGV4T2YgPSB0aGlzLnBvb2wuZmluZEluZGV4KGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmVudGl0eUlkID09PSBlbnRpdHlJZDsgfSk7XG4gICAgICAgIGlmIChpbmRleE9mIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW1vdmVkID0gdGhpcy5wb29sW2luZGV4T2ZdO1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gdGhpcy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLnBvb2xbaW5kZXhPZl0gPSB0aGlzLnBvb2xbbGFzdEluZGV4XTtcbiAgICAgICAgcmVtb3ZlZC5lbnRpdHlJZCA9IC0xO1xuICAgICAgICB0aGlzLnBvb2xbbGFzdEluZGV4XSA9IHJlbW92ZWQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGFzdEluZGV4O1xuICAgIH07XG4gICAgLy8gVE9ETzogd2Ugc2hvdWxkIG5vdCBjaGFuZ2UgY29tcG9uZW50LXBvb2wgc3RhdGUsIHdlIHNob3VsZCByZXR1cm4gYSB3cmFwcGVyXG4gICAgLy8gICAgICAgY2xvc2p1cmUvb2JqZWN0IHRoYXQgY29udGFpbnMgcG9zIGFuZCBzbyBvbiB0byBhdm9pZCBoZWxsaXNoIGJ1Z3NcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcyA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnBvb2xbdGhpcy5wb3MrK11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9uZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS51bnNhZmVHZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9vbFtpbmRleF07XG4gICAgfTtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWFueVxuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgaW5kZXggPSAwOyAvLyBUT0RPOiBpbXBsZW1lbnQgZW50cmllcyB0byBnZXQgaW5kZXggaW4gZm9yIGxvb3BcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoY29tcCwgaW5kZXgsIHRoaXMucG9vbCkpIHsgLy8gVE9ETzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYW55XG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGNhbGxiYWNrZm4sIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDsgLy8gVE9ETzogaW1wbGVtZW50IGVudHJpZXMgdG8gZ2V0IGluZGV4IGluIGZvciBsb29wXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXAgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tmbihjb21wLCBpbmRleCwgdGhpcy5wb29sKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb21wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS5vbkV4cGFuZFBvb2wgPSBmdW5jdGlvbiAoZmlyc3RFeHBhbmQpIHtcbiAgICAgICAgaWYgKGZpcnN0RXhwYW5kKSB7XG4gICAgICAgICAgICB0aGlzLnBvb2wgPSBuZXcgQXJyYXkodGhpcy5zdHJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wb29sLmxlbmd0aCArPSB0aGlzLnN0cmlkZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGg7IGkgPCB0aGlzLnBvb2wubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucG9vbFtpXSA9IHtcbiAgICAgICAgICAgICAgICBlbnRpdHlJZDogLTEsXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5kZWVwQ29weSh0aGlzLmRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFNvdXJjZTogaHR0cHM6Ly9tZWRpdW0uY29tL2phdmFzY3JpcHQtaW4tcGxhaW4tZW5nbGlzaC9ob3ctdG8tZGVlcC1jb3B5LW9iamVjdHMtYW5kLWFycmF5cy1pbi1qYXZhc2NyaXB0LTdjOTExMzU5YjA4OVxuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLmRlZXBDb3B5ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAoIXNvdXJjZSB8fCB0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWFueVxuICAgICAgICB2YXIgY29weSA9IEFycmF5LmlzQXJyYXkoc291cmNlKSA/IFtdIDoge307XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGNvcHlba2V5XSA9IHRoaXMuZGVlcENvcHkoc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgIH07XG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUuZGVlcEFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlZXBBc3NpZ24odGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbXBvbmVudFBvb2w7XG59KCkpO1xuZXhwb3J0cy5Db21wb25lbnRQb29sID0gQ29tcG9uZW50UG9vbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC1wb29sLmpzLm1hcCIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIHx8XG4gIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIHZhciBkZXNjcmlwdG9ycyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgZGVzY3JpcHRvcnNba2V5c1tpXV0gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBkZXNjcmlwdG9ycztcbiAgfTtcblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG52YXIga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2woJ3V0aWwucHJvbWlzaWZ5LmN1c3RvbScpIDogdW5kZWZpbmVkO1xuXG5leHBvcnRzLnByb21pc2lmeSA9IGZ1bmN0aW9uIHByb21pc2lmeShvcmlnaW5hbCkge1xuICBpZiAodHlwZW9mIG9yaWdpbmFsICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcIm9yaWdpbmFsXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG5cbiAgaWYgKGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCAmJiBvcmlnaW5hbFtrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xdKSB7XG4gICAgdmFyIGZuID0gb3JpZ2luYWxba0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXTtcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ1dGlsLnByb21pc2lmeS5jdXN0b21cIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wsIHtcbiAgICAgIHZhbHVlOiBmbiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgZnVuY3Rpb24gZm4oKSB7XG4gICAgdmFyIHByb21pc2VSZXNvbHZlLCBwcm9taXNlUmVqZWN0O1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgcHJvbWlzZVJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cbiAgICBhcmdzLnB1c2goZnVuY3Rpb24gKGVyciwgdmFsdWUpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcHJvbWlzZVJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZVJlc29sdmUodmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJ5IHtcbiAgICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcHJvbWlzZVJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGZuLCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3JpZ2luYWwpKTtcblxuICBpZiAoa0N1c3RvbVByb21pc2lmaWVkU3ltYm9sKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCwge1xuICAgIHZhbHVlOiBmbiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoXG4gICAgZm4sXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvcmlnaW5hbClcbiAgKTtcbn1cblxuZXhwb3J0cy5wcm9taXNpZnkuY3VzdG9tID0ga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5T25SZWplY3RlZChyZWFzb24sIGNiKSB7XG4gIC8vIGAhcmVhc29uYCBndWFyZCBpbnNwaXJlZCBieSBibHVlYmlyZCAoUmVmOiBodHRwczovL2dvby5nbC90NUlTNk0pLlxuICAvLyBCZWNhdXNlIGBudWxsYCBpcyBhIHNwZWNpYWwgZXJyb3IgdmFsdWUgaW4gY2FsbGJhY2tzIHdoaWNoIG1lYW5zIFwibm8gZXJyb3JcbiAgLy8gb2NjdXJyZWRcIiwgd2UgZXJyb3Itd3JhcCBzbyB0aGUgY2FsbGJhY2sgY29uc3VtZXIgY2FuIGRpc3Rpbmd1aXNoIGJldHdlZW5cbiAgLy8gXCJ0aGUgcHJvbWlzZSByZWplY3RlZCB3aXRoIG51bGxcIiBvciBcInRoZSBwcm9taXNlIGZ1bGZpbGxlZCB3aXRoIHVuZGVmaW5lZFwiLlxuICBpZiAoIXJlYXNvbikge1xuICAgIHZhciBuZXdSZWFzb24gPSBuZXcgRXJyb3IoJ1Byb21pc2Ugd2FzIHJlamVjdGVkIHdpdGggYSBmYWxzeSB2YWx1ZScpO1xuICAgIG5ld1JlYXNvbi5yZWFzb24gPSByZWFzb247XG4gICAgcmVhc29uID0gbmV3UmVhc29uO1xuICB9XG4gIHJldHVybiBjYihyZWFzb24pO1xufVxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeShvcmlnaW5hbCkge1xuICBpZiAodHlwZW9mIG9yaWdpbmFsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwib3JpZ2luYWxcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgfVxuXG4gIC8vIFdlIERPIE5PVCByZXR1cm4gdGhlIHByb21pc2UgYXMgaXQgZ2l2ZXMgdGhlIHVzZXIgYSBmYWxzZSBzZW5zZSB0aGF0XG4gIC8vIHRoZSBwcm9taXNlIGlzIGFjdHVhbGx5IHNvbWVob3cgcmVsYXRlZCB0byB0aGUgY2FsbGJhY2sncyBleGVjdXRpb25cbiAgLy8gYW5kIHRoYXQgdGhlIGNhbGxiYWNrIHRocm93aW5nIHdpbGwgcmVqZWN0IHRoZSBwcm9taXNlLlxuICBmdW5jdGlvbiBjYWxsYmFja2lmaWVkKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cblxuICAgIHZhciBtYXliZUNiID0gYXJncy5wb3AoKTtcbiAgICBpZiAodHlwZW9mIG1heWJlQ2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsYXN0IGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGNiID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbWF5YmVDYi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgLy8gSW4gdHJ1ZSBub2RlIHN0eWxlIHdlIHByb2Nlc3MgdGhlIGNhbGxiYWNrIG9uIGBuZXh0VGlja2Agd2l0aCBhbGwgdGhlXG4gICAgLy8gaW1wbGljYXRpb25zIChzdGFjaywgYHVuY2F1Z2h0RXhjZXB0aW9uYCwgYGFzeW5jX2hvb2tzYClcbiAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmV0KSB7IHByb2Nlc3MubmV4dFRpY2soY2IsIG51bGwsIHJldCkgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlaikgeyBwcm9jZXNzLm5leHRUaWNrKGNhbGxiYWNraWZ5T25SZWplY3RlZCwgcmVqLCBjYikgfSk7XG4gIH1cblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoY2FsbGJhY2tpZmllZCwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9yaWdpbmFsKSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNhbGxiYWNraWZpZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3JpZ2luYWwpKTtcbiAgcmV0dXJuIGNhbGxiYWNraWZpZWQ7XG59XG5leHBvcnRzLmNhbGxiYWNraWZ5ID0gY2FsbGJhY2tpZnk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufSIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gZmFsc2U7XG5leHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSAvKkBfX1BVUkVfXyovIG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQhIFJ4SlMgd2FzIHNldCB0byB1c2UgZGVwcmVjYXRlZCBzeW5jaHJvbm91cyBlcnJvciBoYW5kbGluZyBiZWhhdmlvciBieSBjb2RlIGF0OiBcXG4nICsgZXJyb3Iuc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncykge1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLmxvZygnUnhKUzogQmFjayB0byBhIGJldHRlciBlcnJvciBiZWhhdmlvci4gVGhhbmsgeW91LiA8MycpO1xuICAgICAgICB9XG4gICAgICAgIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoKSB7XG4gICAgICAgIHJldHVybiBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0sIDApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9zdFJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgZW1wdHkgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkgfHwgKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcic7IH0pOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzID9cbiAgICAgICAgICAgIGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpIDogJyc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gVW5zdWJzY3JpcHRpb25FcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBVbnN1YnNjcmlwdGlvbkVycm9yID0gVW5zdWJzY3JpcHRpb25FcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VbnN1YnNjcmlwdGlvbkVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc0FycmF5LF91dGlsX2lzT2JqZWN0LF91dGlsX2lzRnVuY3Rpb24sX3V0aWxfVW5zdWJzY3JpcHRpb25FcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL3V0aWwvaXNPYmplY3QnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG52YXIgU3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbih1bnN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IHVuc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnRPclBhcmVudHMgPSBfYS5fcGFyZW50T3JQYXJlbnRzLCBfdW5zdWJzY3JpYmUgPSBfYS5fdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zID0gX2EuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBfcGFyZW50T3JQYXJlbnRzLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgX3BhcmVudE9yUGFyZW50cy5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50XzEgPSBfcGFyZW50T3JQYXJlbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBwYXJlbnRfMS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oX3Vuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfdW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpIDogW2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KF9zdWJzY3JpcHRpb25zKSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgbGVuID0gX3N1YnNjcmlwdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViID0gX3N1YnNjcmlwdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChzdWIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0ZWFyZG93bjtcbiAgICAgICAgaWYgKCF0ZWFyZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGVhcmRvd24pO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09PSB0aGlzIHx8IHN1YnNjcmlwdGlvbi5jbG9zZWQgfHwgdHlwZW9mIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIShzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9zdWJzY3JpcHRpb25zID0gW3RtcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkIHRlYXJkb3duICcgKyB0ZWFyZG93biArICcgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cyBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSBbX3BhcmVudE9yUGFyZW50cywgdGhpc107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cy5pbmRleE9mKHRoaXMpID09PSAtMSkge1xuICAgICAgICAgICAgX3BhcmVudE9yUGFyZW50cy5wdXNoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gW3N1YnNjcmlwdGlvbl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JbmRleCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfShuZXcgU3Vic2NyaXB0aW9uKCkpKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMucmVkdWNlKGZ1bmN0aW9uIChlcnJzLCBlcnIpIHsgcmV0dXJuIGVycnMuY29uY2F0KChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSA/IGVyci5lcnJvcnMgOiBlcnIpOyB9LCBbXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciByeFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAvKkBfX1BVUkVfXyovIFN5bWJvbCgncnhTdWJzY3JpYmVyJylcbiAgICAgICAgOiAnQEByeFN1YnNjcmliZXJfJyArIC8qQF9fUFVSRV9fKi8gTWF0aC5yYW5kb20oKTtcbn0pKCk7XG5leHBvcnQgdmFyICQkcnhTdWJzY3JpYmVyID0gcnhTdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnhTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc0Z1bmN0aW9uLF9PYnNlcnZlcixfU3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4vT2JzZXJ2ZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG52YXIgU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZXIoZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JWYWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uT3JOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGRlc3RpbmF0aW9uT3JOZXh0LnN5bmNFcnJvclRocm93YWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb25Pck5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbk9yTmV4dC5hZGQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgIFN1YnNjcmliZXIuY3JlYXRlID0gZnVuY3Rpb24gKG5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIHN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHRoaXMuX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBfcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihfcGFyZW50U3Vic2NyaWJlciwgb2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IF9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB2YXIgbmV4dDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBfdGhpcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0O1xuICAgICAgICAgICAgZXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvcjtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gb2JzZXJ2ZXJPck5leHQuY29tcGxldGU7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgIT09IGVtcHR5T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dC51bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkKGNvbnRleHQudW5zdWJzY3JpYmUuYmluZChjb250ZXh0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQudW5zdWJzY3JpYmUgPSBfdGhpcy51bnN1YnNjcmliZS5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIF90aGlzLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgIF90aGlzLl9jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQgJiYgdGhpcy5fbmV4dCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9uZXh0LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIHZhciB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nID0gY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZENvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2NvbXBsZXRlLmNhbGwoX3RoaXMuX2NvbnRleHQpOyB9O1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgd3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JVbnN1YiA9IGZ1bmN0aW9uIChmbiwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclNldEVycm9yID0gZnVuY3Rpb24gKHBhcmVudCwgZm4sIHZhbHVlKSB7XG4gICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICBfcGFyZW50U3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNhZmVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTYWZlU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgb2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaWRlbnRpdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmIChmbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfdG9TdWJzY3JpYmVyLF9zeW1ib2xfb2JzZXJ2YWJsZSxfdXRpbF9waXBlLF9jb25maWcgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xudmFyIE9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5faXNTY2FsYXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yO1xuICAgICAgICB2YXIgc2luayA9IHRvU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBzaW5rLmFkZChvcGVyYXRvci5jYWxsKHNpbmssIHRoaXMuc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaW5rLmFkZCh0aGlzLnNvdXJjZSB8fCAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgIXNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHNpbmspIDpcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlTdWJzY3JpYmUoc2luaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2luay5zeW5jRXJyb3JWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc2luaykpIHtcbiAgICAgICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHZhbHVlID0geDsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBjb25maWcuUHJvbWlzZSB8fCBQcm9taXNlO1xuICAgIH1cbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gUHJvbWlzZSBpbXBsIGZvdW5kJyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlQ3Rvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyLF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9PYnNlcnZlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi4vT2JzZXJ2ZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgaWYgKG5leHRPck9ic2VydmVyKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5leHRPck9ic2VydmVyICYmICFlcnJvciAmJiAhY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKGVtcHR5T2JzZXJ2ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1N1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcikge1xuICAgIHdoaWxlIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX2EgPSBvYnNlcnZlciwgY2xvc2VkXzEgPSBfYS5jbG9zZWQsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb24sIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZDtcbiAgICAgICAgaWYgKGNsb3NlZF8xIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hcE9wZXJhdGlvbihzb3VyY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9qZWN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbi4gQXJlIHlvdSBsb29raW5nIGZvciBgbWFwVG8oKWA/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIE1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE1hcE9wZXJhdG9yIH07XG52YXIgTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnIHx8IF90aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzQXJyYXksX3V0aWxfaXNGdW5jdGlvbixfb3BlcmF0b3JzX21hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG52YXIgdG9TdHJpbmcgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOyB9KSgpO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucywgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlcihlKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24odGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2V0dXBTdWJzY3JpcHRpb24oc291cmNlT2JqLCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgdW5zdWJzY3JpYmU7XG4gICAgaWYgKGlzRXZlbnRUYXJnZXQoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzEgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzEucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8yID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmoub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMi5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzMgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5hZGRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8zLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHNvdXJjZU9iaiAmJiBzb3VyY2VPYmoubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzb3VyY2VPYmoubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHNvdXJjZU9ialtpXSwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBldmVudCB0YXJnZXQnKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlci5hZGQodW5zdWJzY3JpYmUpO1xufVxuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLmFkZExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5vbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLm9mZiA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5yZW1vdmVFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xudmFyIEFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBBY3Rpb247XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9BY3Rpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vQWN0aW9uJztcbnZhciBBc3luY0FjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc3luY0FjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY0FjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICBfdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmlkO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLmlkID0gdGhpcy5pZCB8fCB0aGlzLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgdGhpcy5pZCwgZGVsYXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRJbnRlcnZhbChzY2hlZHVsZXIuZmx1c2guYmluZChzY2hlZHVsZXIsIHRoaXMpLCBkZWxheSk7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsYXkgIT09IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gZGVsYXkgJiYgdGhpcy5wZW5kaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVuZGluZyA9PT0gZmFsc2UgJiYgdGhpcy5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgdmFyIGVycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndvcmsoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVycm9yVmFsdWUgPSAhIWUgJiYgZSB8fCBuZXcgRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yZWQpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJvclZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmlkO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIHZhciBhY3Rpb25zID0gc2NoZWR1bGVyLmFjdGlvbnM7XG4gICAgICAgIHZhciBpbmRleCA9IGFjdGlvbnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgdGhpcy53b3JrID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGFjdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxheSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNBY3Rpb247XG59KEFjdGlvbikpO1xuZXhwb3J0IHsgQXN5bmNBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jQWN0aW9uLmpzLm1hcFxuIiwidmFyIFNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub3cgPSBTY2hlZHVsZXIubm93O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuU2NoZWR1bGVyQWN0aW9uID0gU2NoZWR1bGVyQWN0aW9uO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHRoaXMuU2NoZWR1bGVyQWN0aW9uKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKTsgfTtcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQXN5bmNBY3Rpb24sX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luYyA9IC8qQF9fUFVSRV9fKi8gbmV3IEFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuLi9TY2hlZHVsZXInO1xudmFyIEFzeW5jU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbm93ID0gU2NoZWR1bGVyLm5vdztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAmJiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAhPT0gX3RoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICYmIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICE9PSB0aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUuc2NoZWR1bGUod29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgd29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9pc0FycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL2lzQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtZXJpYyh2YWwpIHtcbiAgICByZXR1cm4gIWlzQXJyYXkodmFsKSAmJiAodmFsIC0gcGFyc2VGbG9hdCh2YWwpICsgMSkgPj0gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzTnVtZXJpYy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc2NoZWR1bGUgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3NjaGVkdWxlcl9hc3luYyxfdXRpbF9pc051bWVyaWMsX3V0aWxfaXNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgaXNOdW1lcmljIH0gZnJvbSAnLi4vdXRpbC9pc051bWVyaWMnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihkdWVUaW1lLCBwZXJpb2RPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGR1ZVRpbWUgPT09IHZvaWQgMCkge1xuICAgICAgICBkdWVUaW1lID0gMDtcbiAgICB9XG4gICAgdmFyIHBlcmlvZCA9IC0xO1xuICAgIGlmIChpc051bWVyaWMocGVyaW9kT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHBlcmlvZCA9IE51bWJlcihwZXJpb2RPclNjaGVkdWxlcikgPCAxICYmIDEgfHwgTnVtYmVyKHBlcmlvZE9yU2NoZWR1bGVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNTY2hlZHVsZXIocGVyaW9kT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IHBlcmlvZE9yU2NoZWR1bGVyO1xuICAgIH1cbiAgICBpZiAoIWlzU2NoZWR1bGVyKHNjaGVkdWxlcikpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZHVlID0gaXNOdW1lcmljKGR1ZVRpbWUpXG4gICAgICAgICAgICA/IGR1ZVRpbWVcbiAgICAgICAgICAgIDogKCtkdWVUaW1lIC0gc2NoZWR1bGVyLm5vdygpKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgZHVlLCB7XG4gICAgICAgICAgICBpbmRleDogMCwgcGVyaW9kOiBwZXJpb2QsIHN1YnNjcmliZXI6IHN1YnNjcmliZXJcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBpbmRleCA9IHN0YXRlLmluZGV4LCBwZXJpb2QgPSBzdGF0ZS5wZXJpb2QsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyO1xuICAgIHN1YnNjcmliZXIubmV4dChpbmRleCk7XG4gICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAocGVyaW9kID09PSAtMSkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICBzdGF0ZS5pbmRleCA9IGluZGV4ICsgMTtcbiAgICB0aGlzLnNjaGVkdWxlKHN0YXRlLCBwZXJpb2QpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiBmaWx0ZXJPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEZpbHRlck9wZXJhdG9yKHByZWRpY2F0ZSwgdGhpc0FyZykpO1xuICAgIH07XG59XG52YXIgRmlsdGVyT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICB0aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgIH1cbiAgICBGaWx0ZXJPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEZpbHRlclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcmVkaWNhdGUsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlck9wZXJhdG9yO1xufSgpKTtcbnZhciBGaWx0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEZpbHRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRmlsdGVyU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRmlsdGVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJlZGljYXRlLmNhbGwodGhpcy50aGlzQXJnLCB2YWx1ZSwgdGhpcy5jb3VudCsrKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IHZhciBFTVBUWSA9IC8qQF9fUFVSRV9fKi8gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7XG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBFTVBUWTtcbn1cbmZ1bmN0aW9uIGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1wdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHN1YnNjcmliZVRvQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0FycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9lbXB0eSxfb2JzZXJ2YWJsZV9vZixfb2JzZXJ2YWJsZV90aHJvd0Vycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGVtcHR5IH0gZnJvbSAnLi9vYnNlcnZhYmxlL2VtcHR5JztcbmltcG9ydCB7IG9mIH0gZnJvbSAnLi9vYnNlcnZhYmxlL29mJztcbmltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuL29ic2VydmFibGUvdGhyb3dFcnJvcic7XG5leHBvcnQgdmFyIE5vdGlmaWNhdGlvbktpbmQ7XG4vKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoTm90aWZpY2F0aW9uS2luZCkge1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJORVhUXCJdID0gXCJOXCI7XG4gICAgTm90aWZpY2F0aW9uS2luZFtcIkVSUk9SXCJdID0gXCJFXCI7XG4gICAgTm90aWZpY2F0aW9uS2luZFtcIkNPTVBMRVRFXCJdID0gXCJDXCI7XG59KShOb3RpZmljYXRpb25LaW5kIHx8IChOb3RpZmljYXRpb25LaW5kID0ge30pKTtcbnZhciBOb3RpZmljYXRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm90aWZpY2F0aW9uKGtpbmQsIHZhbHVlLCBlcnJvcikge1xuICAgICAgICB0aGlzLmtpbmQgPSBraW5kO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IGtpbmQgPT09ICdOJztcbiAgICB9XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIubmV4dCAmJiBvYnNlcnZlci5uZXh0KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmVycm9yICYmIG9ic2VydmVyLmVycm9yKHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmNvbXBsZXRlICYmIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUuZG8gPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBraW5kID0gdGhpcy5raW5kO1xuICAgICAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0ICYmIG5leHQodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IgJiYgZXJyb3IodGhpcy5lcnJvcik7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGxldGUgJiYgY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgJiYgdHlwZW9mIG5leHRPck9ic2VydmVyLm5leHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9ic2VydmUobmV4dE9yT2JzZXJ2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG8obmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUudG9PYnNlcnZhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2luZCA9IHRoaXMua2luZDtcbiAgICAgICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2YodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcih0aGlzLmVycm9yKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCBub3RpZmljYXRpb24ga2luZCB2YWx1ZScpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uKCdOJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOb3RpZmljYXRpb24udW5kZWZpbmVkVmFsdWVOb3RpZmljYXRpb247XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uKCdFJywgdW5kZWZpbmVkLCBlcnIpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLmNvbXBsZXRlTm90aWZpY2F0aW9uO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNvbXBsZXRlTm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbignQycpO1xuICAgIE5vdGlmaWNhdGlvbi51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24oJ04nLCB1bmRlZmluZWQpO1xuICAgIHJldHVybiBOb3RpZmljYXRpb247XG59KCkpO1xuZXhwb3J0IHsgTm90aWZpY2F0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmljYXRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHRoaXMuc2NoZWR1bGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX3N1YnNjcmliZVRvQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvQXJyYXkgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUb0FycmF5KGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiB0aHJvd0Vycm9yKGVycm9yLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyb3IpOyB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCB7IGVycm9yOiBlcnJvciwgc3Vic2NyaWJlcjogc3Vic2NyaWJlciB9KTsgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGlzcGF0Y2goX2EpIHtcbiAgICB2YXIgZXJyb3IgPSBfYS5lcnJvciwgc3Vic2NyaWJlciA9IF9hLnN1YnNjcmliZXI7XG4gICAgc3Vic2NyaWJlci5lcnJvcihlcnJvcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvd0Vycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc1NjaGVkdWxlcixfZnJvbUFycmF5LF9zY2hlZHVsZWRfc2NoZWR1bGVBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBvZigpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBpZiAoaXNTY2hlZHVsZXIoc2NoZWR1bGVyKSkge1xuICAgICAgICBhcmdzLnBvcCgpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShhcmdzLCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZyb21BcnJheShhcmdzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vZi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3NjaGVkdWxlcl9hc3luYyxfdXRpbF9pc0RhdGUsX1N1YnNjcmliZXIsX05vdGlmaWNhdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgaXNEYXRlIH0gZnJvbSAnLi4vdXRpbC9pc0RhdGUnO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vTm90aWZpY2F0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBkZWxheShkZWxheSwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICB2YXIgYWJzb2x1dGVEZWxheSA9IGlzRGF0ZShkZWxheSk7XG4gICAgdmFyIGRlbGF5Rm9yID0gYWJzb2x1dGVEZWxheSA/ICgrZGVsYXkgLSBzY2hlZHVsZXIubm93KCkpIDogTWF0aC5hYnMoZGVsYXkpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRGVsYXlPcGVyYXRvcihkZWxheUZvciwgc2NoZWR1bGVyKSk7IH07XG59XG52YXIgRGVsYXlPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWxheU9wZXJhdG9yKGRlbGF5LCBzY2hlZHVsZXIpIHtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgRGVsYXlPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IERlbGF5U3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLmRlbGF5LCB0aGlzLnNjaGVkdWxlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIERlbGF5T3BlcmF0b3I7XG59KCkpO1xudmFyIERlbGF5U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEZWxheVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVsYXlTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBkZWxheSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLnF1ZXVlID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5lcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRGVsYXlTdWJzY3JpYmVyLmRpc3BhdGNoID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzdGF0ZS5zb3VyY2U7XG4gICAgICAgIHZhciBxdWV1ZSA9IHNvdXJjZS5xdWV1ZTtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHN0YXRlLnNjaGVkdWxlcjtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gc3RhdGUuZGVzdGluYXRpb247XG4gICAgICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwICYmIChxdWV1ZVswXS50aW1lIC0gc2NoZWR1bGVyLm5vdygpKSA8PSAwKSB7XG4gICAgICAgICAgICBxdWV1ZS5zaGlmdCgpLm5vdGlmaWNhdGlvbi5vYnNlcnZlKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGRlbGF5XzEgPSBNYXRoLm1heCgwLCBxdWV1ZVswXS50aW1lIC0gc2NoZWR1bGVyLm5vdygpKTtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoc3RhdGUsIGRlbGF5XzEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgc291cmNlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWxheVN1YnNjcmliZXIucHJvdG90eXBlLl9zY2hlZHVsZSA9IGZ1bmN0aW9uIChzY2hlZHVsZXIpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKERlbGF5U3Vic2NyaWJlci5kaXNwYXRjaCwgdGhpcy5kZWxheSwge1xuICAgICAgICAgICAgc291cmNlOiB0aGlzLCBkZXN0aW5hdGlvbjogdGhpcy5kZXN0aW5hdGlvbiwgc2NoZWR1bGVyOiBzY2hlZHVsZXJcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgRGVsYXlTdWJzY3JpYmVyLnByb3RvdHlwZS5zY2hlZHVsZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuZXJyb3JlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgRGVsYXlNZXNzYWdlKHNjaGVkdWxlci5ub3coKSArIHRoaXMuZGVsYXksIG5vdGlmaWNhdGlvbik7XG4gICAgICAgIHRoaXMucXVldWUucHVzaChtZXNzYWdlKTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5fc2NoZWR1bGUoc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVsYXlTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlTm90aWZpY2F0aW9uKE5vdGlmaWNhdGlvbi5jcmVhdGVOZXh0KHZhbHVlKSk7XG4gICAgfTtcbiAgICBEZWxheVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5lcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIERlbGF5U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlTm90aWZpY2F0aW9uKE5vdGlmaWNhdGlvbi5jcmVhdGVDb21wbGV0ZSgpKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIERlbGF5U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xudmFyIERlbGF5TWVzc2FnZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWxheU1lc3NhZ2UodGltZSwgbm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uID0gbm90aWZpY2F0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gRGVsYXlNZXNzYWdlO1xufSgpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKCt2YWx1ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0RhdGUuanMubWFwXG4iLCJleHBvcnQgaW50ZXJmYWNlIFZlY3RvcjJEIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWduaXR1ZGUodmVjdG9yOiBWZWN0b3IyRCk6IG51bWJlciB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codmVjdG9yLngsIDIpICsgTWF0aC5wb3codmVjdG9yLnksIDIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZSh2ZWN0b3I6IFZlY3RvcjJEKTogVmVjdG9yMkQge1xuICBjb25zdCBteU1hZ25pdHVkZSA9IG1hZ25pdHVkZSh2ZWN0b3IpO1xuICBpZiAobXlNYWduaXR1ZGUgPT09IDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiB2ZWN0b3IueCAvIG15TWFnbml0dWRlLFxuICAgIHk6IHZlY3Rvci55IC8gbXlNYWduaXR1ZGVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKHZlY3RvcjogVmVjdG9yMkQsIHZhbHVlOiBudW1iZXIpOiBWZWN0b3IyRCB7XG4gIHJldHVybiB7XG4gICAgeDogdmVjdG9yLnggKiB2YWx1ZSxcbiAgICB5OiB2ZWN0b3IueSAqIHZhbHVlLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gemVybygpOiBWZWN0b3IyRCB7XG4gIHJldHVybiB7XG4gICAgeDogMCxcbiAgICB5OiAwXG4gIH07XG59IiwiaW1wb3J0IHtpc0NvbGxpbmcsIFJlY3RhbmdsZX0gZnJvbSAnLi9tb2RlbC9yZWN0YW5nbGUnO1xuaW1wb3J0IHtNb3ZhYmxlfSBmcm9tICcuL21vZGVsL21vdmFibGUnO1xuaW1wb3J0IHtQbGF5ZXJ9IGZyb20gJy4vbW9kZWwvcGxheWVyLm1vZGVsJztcbmltcG9ydCB7ZnJvbUV2ZW50LCB0aW1lcn0gZnJvbSAncnhqcyc7XG5pbXBvcnQge2RlbGF5LCBmaWx0ZXIsIG1hcH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHttYWduaXR1ZGUsIG5vcm1hbGl6ZSwgc2NhbGUsIFZlY3RvcjJELCB6ZXJvfSBmcm9tICcuL21vZGVsL3ZlY3RvcjJELm1vZGVsJztcbmltcG9ydCB7QnVsbGV0fSBmcm9tICcuL21vZGVsL2J1bGxldCc7XG5pbXBvcnQge0VuZW15VGFnfSBmcm9tICcuL21vZGVsL2VuZW15JztcbmltcG9ydCB7VW5pcXVlVGFnfSBmcm9tICcuL21vZGVsL3VuaXF1ZSc7XG5pbXBvcnQgeyBTY29yZVRleHRUYWcsIFNjb3JlVGV4dCB9IGZyb20gJy4vbW9kZWwvc2NvcmUtdGV4dCc7XG5pbXBvcnQgeyBcbiAgRUNTTWFuYWdlciwgXG4gIFF1ZXJ5Tm9kZSwgXG4gIFF1ZXJ5VG9rZW4sIFxuICBDb21wb25lbnQsIFxuICByZWdpc3RlckNvbXBvbmVudFR5cGUsIFxuICBhZGRDb21wb25lbnQsIFxuICByZWdpc3RlclN5c3RlbSxcbiAgcmVtb3ZlQ29tcG9uZW50LFxufSBmcm9tICduYWl2ZS10cy1lY3MnO1xuaW1wb3J0IHsgSW5hY3RpdmVUYWcgfSBmcm9tICcuL21vZGVsL2luYWN0aXZlLXRhZyc7XG5cbi8vIFRPRE86IFVzaW5nIHVuaXF1ZSB0YWdzIGZvciBlYWNoIHR5cGUgKGJ1bGxlciBhbmQgZW5lbXkpIHdvdWxkIHNhdmUgc29tZSBpbnZhbGlkYXRlZCBxdWVyaWVzXG5cbmV4cG9ydCBjbGFzcyBXYXZlU2hvb3RlckdhbWUge1xuICBwdWJsaWMgcmVhZG9ubHkgRU5FTUlFU19TUEVFRCA9IDIxMDtcbiAgcHVibGljIHJlYWRvbmx5IEJVTExFVF9TUEVFRCA9IDUwMDtcbiAgcHVibGljIHJlYWRvbmx5IFBMQVlFUl9TUEVFRCA9IDI1MDtcbiAgcHVibGljIHJlYWRvbmx5IFNDT1JFX1RFWFRfU1BFRUQgPSAyMDA7XG5cbiAgcHVibGljIHJlYWRvbmx5IFBMQVlFUl9SRUNUOiBSZWN0YW5nbGUgPSB7XG4gICAgY29sb3I6ICcjM2Y1MWI1JywgXG4gICAgc2l6ZTogeyB4OiAyMCwgeTogMzAgfVxuICB9O1xuXG4gIHJlYWRvbmx5IEVORU1JRVNfQ09VTlQgPSA0MDtcbiAgcmVhZG9ubHkgQlVMTEVUX0NPVU5UID0gMjA7XG5cbiAgcHVibGljIGtleXNEb3duOiBzdHJpbmdbXSA9IFtdO1xuICBwdWJsaWMgbWFuYWdlcjogRUNTTWFuYWdlcjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgIHRoaXMubWFuYWdlciA9IG5ldyBFQ1NNYW5hZ2VyKCk7XG5cbiAgICBjb25zdCB6ZXJvVmVjdG9yOiBWZWN0b3IyRCA9IHplcm8oKTsgXG5cbiAgICAvLyBBcyBvZiAxLjQgYWxsIGNvbXBvbmVudHMgaGFzIHRvIGJlIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZXkgY2FuIGJlIGFkZGVkXG4gICAgcmVnaXN0ZXJDb21wb25lbnRUeXBlPFVuaXF1ZVRhZz4odGhpcy5tYW5hZ2VyLCB7fSk7XG4gICAgcmVnaXN0ZXJDb21wb25lbnRUeXBlPEVuZW15VGFnPih0aGlzLm1hbmFnZXIsIHt9KTtcbiAgICByZWdpc3RlckNvbXBvbmVudFR5cGU8QnVsbGV0Pih0aGlzLm1hbmFnZXIsIHsgbWF4UmFuZ2U6IDgwMCB9KTtcbiAgICByZWdpc3RlckNvbXBvbmVudFR5cGU8U2NvcmVUZXh0Pih0aGlzLm1hbmFnZXIsIHtcbiAgICAgIGNvbnRlbnQ6ICcnLCBcbiAgICAgIGZvbnRTaXplOiAzMCwgXG4gICAgICBhbHBoYTogMSBcbiAgICB9KTtcbiAgICByZWdpc3RlckNvbXBvbmVudFR5cGU8U2NvcmVUZXh0VGFnPih0aGlzLm1hbmFnZXIsIHt9KTtcbiAgICByZWdpc3RlckNvbXBvbmVudFR5cGU8UGxheWVyPih0aGlzLm1hbmFnZXIsIHsgc2NvcmU6IDAgfSk7XG4gICAgcmVnaXN0ZXJDb21wb25lbnRUeXBlPE1vdmFibGU+KHRoaXMubWFuYWdlciwge1xuICAgICAgcG9zaXRpb246IHplcm9WZWN0b3IsXG4gICAgICB2ZWxvY2l0eTogemVyb1ZlY3RvcixcbiAgICAgIHNwZWVkOiAwXG4gICAgfSk7XG4gICAgcmVnaXN0ZXJDb21wb25lbnRUeXBlPFJlY3RhbmdsZT4odGhpcy5tYW5hZ2VyLCB7XG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgc2l6ZTogeyB4OiA1MDAsIHk6IDUwMCB9XG4gICAgfSk7XG4gICAgcmVnaXN0ZXJDb21wb25lbnRUeXBlPEluYWN0aXZlVGFnPih0aGlzLm1hbmFnZXIsIHsgfSk7XG5cbiAgICBhZGRDb21wb25lbnQ8VW5pcXVlVGFnPih0aGlzLm1hbmFnZXIsIHRoaXMubWFuYWdlci5jcmVhdGVFbnRpdHkoKS5lbnRpdHlJZCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVORU1JRVNfQ09VTlQ7IGkrKykge1xuICAgICAgY29uc3QgeyBlbnRpdHlJZCB9ID0gdGhpcy5tYW5hZ2VyLmNyZWF0ZUVudGl0eSgpO1xuICAgICAgYWRkQ29tcG9uZW50PEVuZW15VGFnPih0aGlzLm1hbmFnZXIsIGVudGl0eUlkKTtcbiAgICAgIGFkZENvbXBvbmVudDxSZWN0YW5nbGU+KHRoaXMubWFuYWdlciwgZW50aXR5SWQsIHtcbiAgICAgICAgY29sb3I6ICcjZmY0MDgxJywgXG4gICAgICAgIHNpemU6IHsgeDogMjAsIHk6IDMwIH1cbiAgICAgIH0pO1xuICAgICAgYWRkQ29tcG9uZW50PE1vdmFibGU+KHRoaXMubWFuYWdlciwgZW50aXR5SWQsIHtcbiAgICAgICAgcG9zaXRpb246IHplcm9WZWN0b3IsXG4gICAgICAgIHZlbG9jaXR5OiB6ZXJvVmVjdG9yLFxuICAgICAgICBzcGVlZDogdGhpcy5FTkVNSUVTX1NQRUVEXG4gICAgICB9KTtcbiAgICAgIGFkZENvbXBvbmVudDxJbmFjdGl2ZVRhZz4odGhpcy5tYW5hZ2VyLCBlbnRpdHlJZCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkJVTExFVF9DT1VOVDsgaSsrKSB7XG4gICAgICBjb25zdCB7IGVudGl0eUlkIH0gPSB0aGlzLm1hbmFnZXIuY3JlYXRlRW50aXR5KCk7XG4gICAgICBhZGRDb21wb25lbnQ8QnVsbGV0Pih0aGlzLm1hbmFnZXIsIGVudGl0eUlkKTtcbiAgICAgIGFkZENvbXBvbmVudDxSZWN0YW5nbGU+KHRoaXMubWFuYWdlciwgZW50aXR5SWQsIHtcbiAgICAgICAgY29sb3I6ICcjZmZmZmZmJywgXG4gICAgICAgIHNpemU6IHsgeDogNCwgeTogNCB9XG4gICAgICB9KTtcbiAgICAgIGFkZENvbXBvbmVudDxNb3ZhYmxlPih0aGlzLm1hbmFnZXIsIGVudGl0eUlkLCB7XG4gICAgICAgIHBvc2l0aW9uOiB6ZXJvVmVjdG9yLFxuICAgICAgICB2ZWxvY2l0eTogemVyb1ZlY3RvcixcbiAgICAgICAgc3BlZWQ6IHRoaXMuQlVMTEVUX1NQRUVEXG4gICAgICB9KTtcbiAgICAgIGFkZENvbXBvbmVudDxJbmFjdGl2ZVRhZz4odGhpcy5tYW5hZ2VyLCBlbnRpdHlJZCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBjb25zdCB7IGVudGl0eUlkIH0gPSB0aGlzLm1hbmFnZXIuY3JlYXRlRW50aXR5KCk7XG4gICAgICBhZGRDb21wb25lbnQ8U2NvcmVUZXh0VGFnPih0aGlzLm1hbmFnZXIsIGVudGl0eUlkKTtcbiAgICB9XG4gICAgXG4gICAge1xuICAgICAgY29uc3QgeyBlbnRpdHlJZCB9ID0gdGhpcy5tYW5hZ2VyLmNyZWF0ZUVudGl0eSgpO1xuICAgICAgYWRkQ29tcG9uZW50PFBsYXllcj4odGhpcy5tYW5hZ2VyLCBlbnRpdHlJZCk7XG4gICAgICBhZGRDb21wb25lbnQ8TW92YWJsZT4odGhpcy5tYW5hZ2VyLCBlbnRpdHlJZCwge1xuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIHg6IGNhbnZhcy53aWR0aCAqIDAuNSAtIHRoaXMuUExBWUVSX1JFQ1Quc2l6ZS54ICogMC41LFxuICAgICAgICAgIHk6IGNhbnZhcy5oZWlnaHQgKiAwLjUgLSB0aGlzLlBMQVlFUl9SRUNULnNpemUueSAqIDAuNVxuICAgICAgICB9LFxuICAgICAgICB2ZWxvY2l0eTogemVyb1ZlY3RvcixcbiAgICAgICAgc3BlZWQ6IHRoaXMuUExBWUVSX1NQRUVEXG4gICAgICB9KTtcbiAgICAgIGFkZENvbXBvbmVudDxSZWN0YW5nbGU+KHRoaXMubWFuYWdlciwgZW50aXR5SWQsIHtcbiAgICAgICAgY29sb3I6ICcjM2Y1MWI1JywgXG4gICAgICAgIHNpemU6IHsgeDogMjAsIHk6IDMwIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZyb21FdmVudCh3aW5kb3csICdrZXlkb3duJykucGlwZShcbiAgICAgIG1hcChlID0+IGUgYXMgS2V5Ym9hcmRFdmVudCksXG4gICAgICBmaWx0ZXIoKGUpID0+XG4gICAgICAgIGUua2V5ID09PSAndydcbiAgICAgICAgfHwgZS5rZXkgPT09ICdhJ1xuICAgICAgICB8fCBlLmtleSA9PT0gJ3MnXG4gICAgICAgIHx8IGUua2V5ID09PSAnZCdcbiAgICAgIClcbiAgICApLnN1YnNjcmliZShlID0+IHRoaXMua2V5c0Rvd24ucHVzaChlLmtleSkpO1xuXG4gICAgZnJvbUV2ZW50KHdpbmRvdywgJ2tleXVwJykucGlwZShcbiAgICAgIG1hcChlID0+IGUgYXMgS2V5Ym9hcmRFdmVudCksXG4gICAgICBmaWx0ZXIoKGUpID0+XG4gICAgICAgIGUua2V5ID09PSAndydcbiAgICAgICAgfHwgZS5rZXkgPT09ICdhJ1xuICAgICAgICB8fCBlLmtleSA9PT0gJ3MnXG4gICAgICAgIHx8IGUua2V5ID09PSAnZCdcbiAgICAgIClcbiAgICApLnN1YnNjcmliZShlID0+IHRoaXMua2V5c0Rvd24gPSB0aGlzLmtleXNEb3duLmZpbHRlcihrID0+IGsgIT09IGUua2V5KSk7XG4gIH1cblxuICBpbml0aWFsaXplKCk6IHZvaWQge1xuICAgIFV0aWxpdHlNb2R1bGUuaW5pdGlhbGl6ZSh0aGlzLm1hbmFnZXIsIHRoaXMuY2FudmFzKTtcblxuICAgIEJ1bGxldE1vZHVsZS5pbml0aWFsaXplKHRoaXMubWFuYWdlcik7XG5cbiAgICBjb25zdCBkaWZmaWN1bHR5U2NhbGluZyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGNlaWxpbmcgPSAyMDAwO1xuICAgICAgY29uc3QgcGxheWVyU2NvcmUgPSAxMDAwOyAvLyBUT0RPOlxuICAgICAgcmV0dXJuIE1hdGgubWluKHBsYXllclNjb3JlIC8gY2VpbGluZywgMSk7XG4gICAgfTtcbiAgICBFbmVteU1vZHVsZS5pbml0aWFsaXplKHRoaXMsIGRpZmZpY3VsdHlTY2FsaW5nKTtcblxuICAgIGNvbnN0IHZpZXdLZXlzRG93biA9ICgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmtleXNEb3duXG4gICAgfTtcbiAgICBQbGF5ZXJNb2R1bGUuaW5pdGlhbGl6ZSh0aGlzLCB2aWV3S2V5c0Rvd24pO1xuICB9XG5cbiAgZGlzcGF0Y2goKTogdm9pZCB7XG4gICAgdGhpcy5tYW5hZ2VyLmRpc3BhdGNoKCk7XG4gIH1cbn1cblxubW9kdWxlIFV0aWxpdHlNb2R1bGUge1xuICBleHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZShtYW5hZ2VyOiBFQ1NNYW5hZ2VyLCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICByRHJhd0VudGl0eVN5c3RlbShtYW5hZ2VyLCBjdHgpO1xuICAgIHJkcmF3U2NvcmVUZXh0U3lzdGVtKG1hbmFnZXIsIGN0eCk7XG5cbiAgICByTW92ZU1vdmFibGVzU3lzdGVtKG1hbmFnZXIpO1xuICAgIHJNb3ZlU2NvcmVUZXh0U3lzdGVtKG1hbmFnZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gckRyYXdFbnRpdHlTeXN0ZW0obWFuYWdlcjogRUNTTWFuYWdlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcbiAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCxcbiAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICB0eXBlU3RyOiAnUmVjdGFuZ2xlJyxcbiAgICAgIH0sXG4gICAgICByaWdodENoaWxkOiB7XG4gICAgICAgIHRva2VuOiBRdWVyeVRva2VuLk5PVCxcbiAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgdHlwZVN0cjogJ01vdmFibGUnXG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICB0eXBlU3RyOiAnSW5hY3RpdmVUYWcnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3QgZHJhd1JlY3RhbmdsZVN5c3RlbSA9IChfOiBudW1iZXIsIHJlY3Q6IENvbXBvbmVudDxSZWN0YW5nbGU+LCBtb3ZhYmxlOiBDb21wb25lbnQ8TW92YWJsZT4pID0+IHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSByZWN0LmRhdGEuY29sb3I7XG4gICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgIG1vdmFibGUuZGF0YS5wb3NpdGlvbi54LCBcbiAgICAgICAgbW92YWJsZS5kYXRhLnBvc2l0aW9uLnksIFxuICAgICAgICByZWN0LmRhdGEuc2l6ZS54LCBcbiAgICAgICAgcmVjdC5kYXRhLnNpemUueVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgbWFuYWdlci5yZWdpc3RlclN5c3RlbVdpdGhFc2NRdWVyeShkcmF3UmVjdGFuZ2xlU3lzdGVtLCBxdWVyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZHJhd1Njb3JlVGV4dFN5c3RlbShtYW5hZ2VyOiBFQ1NNYW5hZ2VyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgIGNvbnN0IGRyYXdTY29yZVRleHRTeXN0ZW0gPSAoXzogbnVtYmVyLCBzdDogQ29tcG9uZW50PFNjb3JlVGV4dD4sIG1vdjogQ29tcG9uZW50PE1vdmFibGU+KSA9PiB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gYHJnYmEoMjU1LCAyNTUsIDI1NSwgJHtzdC5kYXRhLmFscGhhfSlgOyBcbiAgICAgIGN0eC5mb250ID0gYCR7c3QuZGF0YS5mb250U2l6ZX1weCBzZXJpZmA7XG4gICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cbiAgICAgIGN0eC5maWxsVGV4dChzdC5kYXRhLmNvbnRlbnQsIG1vdi5kYXRhLnBvc2l0aW9uLngsIG1vdi5kYXRhLnBvc2l0aW9uLnkpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyU3lzdGVtKG1hbmFnZXIsIGRyYXdTY29yZVRleHRTeXN0ZW0pO1xuICB9XG5cbiAgZnVuY3Rpb24gck1vdmVNb3ZhYmxlc1N5c3RlbShtYW5hZ2VyOiBFQ1NNYW5hZ2VyKSB7XG4gICAgY29uc3QgbW92YWJsZVN5c3RlbSA9IChkZWx0YVRpbWU6IG51bWJlciwgbW92YWJsZTogQ29tcG9uZW50PE1vdmFibGU+KSA9PiB7XG4gICAgICBtb3ZhYmxlLmRhdGEudmVsb2NpdHkgPSBzY2FsZShub3JtYWxpemUobW92YWJsZS5kYXRhLnZlbG9jaXR5KSwgbW92YWJsZS5kYXRhLnNwZWVkKTtcbiAgICAgIG1vdmFibGUuZGF0YS5wb3NpdGlvbi54ICs9IG1vdmFibGUuZGF0YS52ZWxvY2l0eS54ICogZGVsdGFUaW1lO1xuICAgICAgbW92YWJsZS5kYXRhLnBvc2l0aW9uLnkgKz0gbW92YWJsZS5kYXRhLnZlbG9jaXR5LnkgKiBkZWx0YVRpbWU7XG4gICAgfTtcblxuICAgIHJlZ2lzdGVyU3lzdGVtKG1hbmFnZXIsIG1vdmFibGVTeXN0ZW0pO1xuICB9XG5cbiAgZnVuY3Rpb24gck1vdmVTY29yZVRleHRTeXN0ZW0obWFuYWdlcjogRUNTTWFuYWdlcikge1xuICAgIGNvbnN0IHNwZWVkRGVjYXkgPSA4MDtcbiAgICBjb25zdCBzaXplRGVjYXkgPSAyMDtcbiAgICBjb25zdCBhbHBoYURlY2F5ID0gMC40O1xuXG4gICAgY29uc3QgbW92ZVNjb3JlVGV4dFN5c3RlbSA9IChkZWx0YVRpbWU6IG51bWJlciwgc2NvcmVUZXh0OiBDb21wb25lbnQ8U2NvcmVUZXh0PiwgbW92YWJsZTogQ29tcG9uZW50PE1vdmFibGU+KSA9PiB7XG4gICAgICBtb3ZhYmxlLmRhdGEuc3BlZWQgLT0gc3BlZWREZWNheSAqIGRlbHRhVGltZTtcbiAgICAgIHNjb3JlVGV4dC5kYXRhLmZvbnRTaXplICs9IHNpemVEZWNheSAqIGRlbHRhVGltZTtcbiAgICAgIHNjb3JlVGV4dC5kYXRhLmFscGhhIC09IGFscGhhRGVjYXkgKiBkZWx0YVRpbWU7XG4gICAgIFxuICAgICAgaWYgKG1vdmFibGUuZGF0YS5zcGVlZCA8IDMwKSB7XG4gICAgICAgIHJlbW92ZUNvbXBvbmVudDxTY29yZVRleHQ+KG1hbmFnZXIsIHNjb3JlVGV4dC5lbnRpdHlJZCk7XG4gICAgICAgIHJlbW92ZUNvbXBvbmVudDxNb3ZhYmxlPihtYW5hZ2VyLCBtb3ZhYmxlLmVudGl0eUlkKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVnaXN0ZXJTeXN0ZW0obWFuYWdlciwgbW92ZVNjb3JlVGV4dFN5c3RlbSk7XG4gIH1cbn1cblxubW9kdWxlIFBsYXllck1vZHVsZSB7XG4gIGV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKGdhbWU6IFdhdmVTaG9vdGVyR2FtZSwgdmlld0tleXNEb3duOiAoKSA9PiBzdHJpbmcgW10pIHtcbiAgICByUGxheWVyTW92ZVN5c3RlbShnYW1lLm1hbmFnZXIsIHZpZXdLZXlzRG93bik7XG4gICAgclNob290QnVsbGV0RXZlbnQoZ2FtZS5tYW5hZ2VyLCBnYW1lLmNhbnZhcywgZ2FtZS5CVUxMRVRfU1BFRUQpO1xuICB9XG5cbiAgZnVuY3Rpb24gclBsYXllck1vdmVTeXN0ZW0obWFuYWdlcjogRUNTTWFuYWdlciwgdmlld0tleXNEb3duOiAoKSA9PiBzdHJpbmdbXSkge1xuICAgIGNvbnN0IHBsYXllck1vdmVTeXN0ZW0gPSAoZGVsdGFUaW1lOiBudW1iZXIsIF86IENvbXBvbmVudDxQbGF5ZXI+LCBtb3ZhYmxlOiBDb21wb25lbnQ8TW92YWJsZT4pID0+IHtcbiAgICAgIGNvbnN0IGtleXMgPSB2aWV3S2V5c0Rvd24oKTtcblxuICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgIGNhc2UgJ3cnOlxuICAgICAgICAgICAgbW92YWJsZS5kYXRhLnZlbG9jaXR5LnkgPSAtMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgICAgbW92YWJsZS5kYXRhLnZlbG9jaXR5LnggPSAtMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgbW92YWJsZS5kYXRhLnZlbG9jaXR5LnkgPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICBtb3ZhYmxlLmRhdGEudmVsb2NpdHkueCA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbW92YWJsZS5kYXRhLnZlbG9jaXR5ID0gc2NhbGUobm9ybWFsaXplKG1vdmFibGUuZGF0YS52ZWxvY2l0eSksIG1vdmFibGUuZGF0YS5zcGVlZCk7XG4gICAgICBtb3ZhYmxlLmRhdGEucG9zaXRpb24ueCArPSBtb3ZhYmxlLmRhdGEudmVsb2NpdHkueCAqIGRlbHRhVGltZTtcbiAgICAgIG1vdmFibGUuZGF0YS5wb3NpdGlvbi55ICs9IG1vdmFibGUuZGF0YS52ZWxvY2l0eS55ICogZGVsdGFUaW1lO1xuXG4gICAgICBtb3ZhYmxlLmRhdGEudmVsb2NpdHkueCA9IDA7XG4gICAgICBtb3ZhYmxlLmRhdGEudmVsb2NpdHkueSA9IDA7XG4gICAgfTtcblxuICAgIHJlZ2lzdGVyU3lzdGVtKG1hbmFnZXIsIHBsYXllck1vdmVTeXN0ZW0pO1xuICB9XG5cbiAgZnVuY3Rpb24gclNob290QnVsbGV0RXZlbnQobWFuYWdlcjogRUNTTWFuYWdlciwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgYnVsbGV0U3BlZWQ6IG51bWJlcikge1xuXG4gICAgY29uc3QgcXVlcnk6IFF1ZXJ5Tm9kZSA9IHtcbiAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCxcbiAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICB0eXBlU3RyOiAnUGxheWVyJ1xuICAgICAgfSxcbiAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uQU5ELFxuICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICB0eXBlU3RyOiAnTW92YWJsZSdcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLk9SLFxuICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgdHlwZVN0cjogJ1JlY3RhbmdsZSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLlNIQVJFRCxcbiAgICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgICAgIHR5cGVTdHI6ICdCdWxsZXQnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgICB0eXBlU3RyOiAnTW92YWJsZSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGVTdHI6ICdJbmFjdGl2ZVRhZydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBjb25zdCBzaG9vdEJ1bGxldEV2ZW50ID0gKFxuICAgICAgZXZlbnQ6IEV2ZW50LCBcbiAgICAgIF9wbGF5ZXI6IENvbXBvbmVudDxQbGF5ZXI+LFxuICAgICAgcE1vdmFibGU6IENvbXBvbmVudDxNb3ZhYmxlPixcbiAgICAgIHBSZWN0YW5nbGU6IENvbXBvbmVudDxSZWN0YW5nbGU+LFxuICAgICAgYnVsbGV0OiBDb21wb25lbnQ8QnVsbGV0PltdLCBcbiAgICAgIGJNb3ZhYmxlOiBDb21wb25lbnQ8TW92YWJsZT5bXSxcbiAgICAgIF9iSW5hY3RpdmU6IENvbXBvbmVudDxJbmFjdGl2ZVRhZz5bXVxuICAgICkgPT4ge1xuICAgICBcbiAgICAgIGlmIChidWxsZXQ/Lmxlbmd0aCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlID0gZXZlbnQgYXMgTW91c2VFdmVudDtcblxuICAgICAgY29uc3QgY2VudGVyWCA9IHBNb3ZhYmxlLmRhdGEucG9zaXRpb24ueCArIHBSZWN0YW5nbGUuZGF0YS5zaXplLnggKiAwLjU7XG4gICAgICBjb25zdCBjZW50ZXJZID0gcE1vdmFibGUuZGF0YS5wb3NpdGlvbi55ICsgcFJlY3RhbmdsZS5kYXRhLnNpemUueSAqIDAuNTtcblxuICAgICAgY29uc3QgY2xpY2tEZWx0YSA9IHtcbiAgICAgICAgeDogZS5jbGllbnRYIC0gKGNlbnRlclgpIC0gY2FudmFzLm9mZnNldExlZnQsXG4gICAgICAgIHk6IGUuY2xpZW50WSAtIChjZW50ZXJZKSAtIGNhbnZhcy5vZmZzZXRUb3BcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNob290RGlyZWN0aW9uID0gbm9ybWFsaXplKGNsaWNrRGVsdGEpO1xuICAgICAgY29uc3QgYnVsbGV0U3Bhd24gPSBzY2FsZShzaG9vdERpcmVjdGlvbiwgMjApO1xuXG4gICAgICByZW1vdmVDb21wb25lbnQ8SW5hY3RpdmVUYWc+KG1hbmFnZXIsIGJ1bGxldFswXS5lbnRpdHlJZCk7XG4gICAgICBiTW92YWJsZVswXS5kYXRhLnBvc2l0aW9uID0ge1xuICAgICAgICB4OiBjZW50ZXJYICsgYnVsbGV0U3Bhd24ueCxcbiAgICAgICAgeTogY2VudGVyWSArIGJ1bGxldFNwYXduLnksXG4gICAgICB9O1xuICAgICAgYk1vdmFibGVbMF0uZGF0YS52ZWxvY2l0eSA9IHNob290RGlyZWN0aW9uO1xuICAgICAgYk1vdmFibGVbMF0uZGF0YS5zcGVlZCA9IGJ1bGxldFNwZWVkO1xuICAgIH07XG5cbiAgICBjb25zdCBvblVzZXJDbGljayA9IG1hbmFnZXIucmVnaXN0ZXJFdmVudFdpdGhFc2NRdWVyeShzaG9vdEJ1bGxldEV2ZW50LCBxdWVyeSk7XG4gICAgZnJvbUV2ZW50KGNhbnZhcywgJ2NsaWNrJykuc3Vic2NyaWJlKGUgPT4gbWFuYWdlci5vbkV2ZW50KG9uVXNlckNsaWNrLCBlKSk7XG4gIH1cbn1cblxubW9kdWxlIEVuZW15TW9kdWxlIHtcbiAgZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUoZ2FtZTogV2F2ZVNob290ZXJHYW1lLCBkaWZmaWN1bHR5U2NhbGluZzogKCkgPT4gbnVtYmVyKSB7XG4gICAgclRhcmdldFBsYXllclN5c3RlbShnYW1lLm1hbmFnZXIpO1xuICAgIHJTcGF3bkVuZW15U3lzdGVtKGdhbWUubWFuYWdlciwgZ2FtZS5jYW52YXMsIGdhbWUuRU5FTUlFU19TUEVFRCwgZGlmZmljdWx0eVNjYWxpbmcpO1xuICB9XG5cbiAgZnVuY3Rpb24gclRhcmdldFBsYXllclN5c3RlbShtYW5hZ2VyOiBFQ1NNYW5hZ2VyKSB7XG4gICAgY29uc3QgcXVlcnk6IFF1ZXJ5Tm9kZSA9IHtcbiAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uQU5ELFxuICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgIHR5cGVTdHI6ICdFbmVteVRhZydcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uTk9ULFxuICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgdHlwZVN0cjogJ01vdmFibGUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5PUixcbiAgICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgdHlwZVN0cjogJ0luYWN0aXZlVGFnJ1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uU0hBUkVELFxuICAgICAgICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgICAgICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZVN0cjogJ1BsYXllcidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZVN0cjogJ01vdmFibGUnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgdGFyZ2V0UGxheWVyU3lzdGVtID0gKFxuICAgICAgXzogbnVtYmVyLFxuICAgICAgX2VuZW15OiBDb21wb25lbnQ8RW5lbXlUYWc+LFxuICAgICAgZU1vdmFibGU6IENvbXBvbmVudDxNb3ZhYmxlPixcbiAgICAgIF9wbGF5ZXI6IENvbXBvbmVudDxQbGF5ZXI+W10sXG4gICAgICBwTW92YWJsZTogQ29tcG9uZW50PE1vdmFibGU+W10gXG4gICAgICApID0+IHtcbiAgICAgICAgZU1vdmFibGUuZGF0YS52ZWxvY2l0eSA9IHtcbiAgICAgICAgICAgICAgeDogcE1vdmFibGVbMF0uZGF0YS5wb3NpdGlvbi54IC0gZU1vdmFibGUuZGF0YS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgICB5OiBwTW92YWJsZVswXS5kYXRhLnBvc2l0aW9uLnkgLSBlTW92YWJsZS5kYXRhLnBvc2l0aW9uLnlcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgbWFuYWdlci5yZWdpc3RlclN5c3RlbVdpdGhFc2NRdWVyeSh0YXJnZXRQbGF5ZXJTeXN0ZW0sIHF1ZXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJTcGF3bkVuZW15U3lzdGVtKG1hbmFnZXI6IEVDU01hbmFnZXIsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGVuZW15U3BlZWQ6IG51bWJlciwgZGlmZmljdWx0eVNjYWxpbmc6ICgpID0+IG51bWJlcikge1xuICAgIGNvbnN0IHF1ZXJ5OiBRdWVyeU5vZGUgPSB7XG4gICAgICB0b2tlbjogUXVlcnlUb2tlbi5PUixcbiAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICB0eXBlU3RyOiAnVW5pcXVlVGFnJ1xuICAgICAgfSxcbiAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uU0hBUkVELFxuICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICB0eXBlU3RyOiAnRW5lbXlUYWcnXG4gICAgICAgICAgfSxcbiAgICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsIFxuICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgIHR5cGVTdHI6ICdNb3ZhYmxlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgdHlwZVN0cjogJ0luYWN0aXZlVGFnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzcGF3bkVuZW15U3lzdGVtID0gKFxuICAgICAgX2UgOiBFdmVudCwgXG4gICAgICBfdTogQ29tcG9uZW50PFVuaXF1ZVRhZz4sIFxuICAgICAgZW5lbXlUYWdzOiBDb21wb25lbnQ8RW5lbXlUYWc+W10sXG4gICAgICBtb3ZhYmxlczogQ29tcG9uZW50PE1vdmFibGU+W10sXG4gICAgICBfaW5hY3RpdmVzOiBDb21wb25lbnQ8SW5hY3RpdmVUYWc+W11cbiAgICApID0+IHtcbiAgICAgIGlmICghZW5lbXlUYWdzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeElzU21vb3RoID0gKE1hdGgucmFuZG9tKCkgPiAwLjUpO1xuICAgICAgbGV0IHhTcGF3bjogbnVtYmVyO1xuICAgICAgbGV0IHlTcGF3bjogbnVtYmVyO1xuICAgICAgaWYgKHhJc1Ntb290aCkge1xuICAgICAgICB4U3Bhd24gPSBNYXRoLnJhbmRvbSgpICogY2FudmFzLndpZHRoO1xuICAgICAgICBjb25zdCB5T2Zmc2V0ID0gTWF0aC5yYW5kb20oKSAqIDIwMDtcbiAgICAgICAgeVNwYXduID0gKE1hdGgucmFuZG9tKCkgPiAwLjUpID8gY2FudmFzLmhlaWdodCArIHlPZmZzZXQgOiAteU9mZnNldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHlTcGF3biA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXMuaGVpZ2h0O1xuICAgICAgICBjb25zdCB5T2Zmc2V0ID0gTWF0aC5yYW5kb20oKSAqIDIwMDtcbiAgICAgICAgeFNwYXduID0gKE1hdGgucmFuZG9tKCkgPiAwLjUpID8gY2FudmFzLndpZHRoICsgeU9mZnNldCA6IC15T2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICByZW1vdmVDb21wb25lbnQ8SW5hY3RpdmVUYWc+KG1hbmFnZXIsIGVuZW15VGFnc1swXS5lbnRpdHlJZCk7XG4gICAgICBtb3ZhYmxlc1swXS5kYXRhLnBvc2l0aW9uID0ge1xuICAgICAgICB4OiB4U3Bhd24sXG4gICAgICAgIHk6IHlTcGF3bixcbiAgICAgIH07XG4gICAgICBtb3ZhYmxlc1swXS5kYXRhLnZlbG9jaXR5ID0gemVybygpO1xuICAgICAgbW92YWJsZXNbMF0uZGF0YS5zcGVlZCA9IGVuZW15U3BlZWQ7XG4gICAgfTtcblxuICAgIGNvbnN0IHNwYXduRW5lbXlFdmVudCA9IHRpbWVyKDIwMDAsIDEwMDApLnBpcGUoXG4gICAgICBkZWxheShNYXRoLnJhbmRvbSgpICogKDMgLSAoMy41ICogZGlmZmljdWx0eVNjYWxpbmcoKSkpKVxuICAgICk7XG5cbiAgICBcbiAgICBjb25zdCBvblNwYXduRW5lbXkgPSBtYW5hZ2VyLnJlZ2lzdGVyRXZlbnRXaXRoRXNjUXVlcnkoc3Bhd25FbmVteVN5c3RlbSwgcXVlcnkpO1xuICAgIHNwYXduRW5lbXlFdmVudC5zdWJzY3JpYmUoKCkgPT4gbWFuYWdlci5vbkV2ZW50KG9uU3Bhd25FbmVteSwgbnVsbCkpO1xuICB9XG59XG5cbm1vZHVsZSBCdWxsZXRNb2R1bGUge1xuXG4gIGV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKG1hbmFnZXI6IEVDU01hbmFnZXIpIHtcbiAgICByRGVzcGF3bkJ1bGxldFN5c3RlbShtYW5hZ2VyKTtcbiAgICByQnVsbGV0SGl0U3lzdGVtKG1hbmFnZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gckRlc3Bhd25CdWxsZXRTeXN0ZW0obWFuYWdlcjogRUNTTWFuYWdlcikge1xuICAgIC8vIGN1cnJlbnRseSBubyB0eXBlc2FmZSBvcHRpb24gZm9yIHF1ZXJ5YnVpbGRlclxuICAgIGNvbnN0IHF1ZXJ5OiBRdWVyeU5vZGUgPSB7XG4gICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgdHlwZVN0cjogJ0J1bGxldCdcbiAgICAgIH0sXG4gICAgICByaWdodENoaWxkOiB7XG4gICAgICAgIHRva2VuOiBRdWVyeVRva2VuLk5PVCxcbiAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgdHlwZVN0cjogJ01vdmFibGUnXG4gICAgICAgIH0sXG4gICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5PUixcbiAgICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgIHR5cGVTdHI6ICdJbmFjdGl2ZVRhZydcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLlNIQVJFRCxcbiAgICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgICAgIHR5cGVTdHI6ICdQbGF5ZXInXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlU3RyOiAnTW92YWJsZSdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBkZXNwYXduQnVsbGV0c1N5c3RlbSA9IChfOiBudW1iZXIsIFxuICAgICAgYnVsbGV0OiBDb21wb25lbnQ8QnVsbGV0PiwgXG4gICAgICBiTW92YWJsZTogQ29tcG9uZW50PE1vdmFibGU+LCBcbiAgICAgIF9wbGF5ZXI6IENvbXBvbmVudDxQbGF5ZXI+W10sIFxuICAgICAgcE1vdmFibGU6IENvbXBvbmVudDxNb3ZhYmxlPltdKSA9PiB7XG5cbiAgICAgIGlmIChNYXRoLmFicyhtYWduaXR1ZGUoYk1vdmFibGUuZGF0YS5wb3NpdGlvbikgLSBtYWduaXR1ZGUocE1vdmFibGVbMF0uZGF0YS5wb3NpdGlvbikpID4gYnVsbGV0LmRhdGEubWF4UmFuZ2UpIHtcbiAgICAgICAgYWRkQ29tcG9uZW50PEluYWN0aXZlVGFnPihtYW5hZ2VyLCBiTW92YWJsZS5lbnRpdHlJZCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIG1hbmFnZXIucmVnaXN0ZXJTeXN0ZW1XaXRoRXNjUXVlcnkoZGVzcGF3bkJ1bGxldHNTeXN0ZW0sIHF1ZXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJCdWxsZXRIaXRTeXN0ZW0obWFuYWdlcjogRUNTTWFuYWdlcikge1xuICBcbiAgICBjb25zdCBxdWVyeTogUXVlcnlOb2RlID0ge1xuICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uQU5ELFxuICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgIHR5cGVTdHI6ICdSZWN0YW5nbGUnXG4gICAgICB9LFxuICAgICAgcmlnaHRDaGlsZDoge1xuICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgIHR5cGVTdHI6ICdNb3ZhYmxlJ1xuICAgICAgICB9LFxuICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uTk9ULFxuICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgdHlwZVN0cjogJ0J1bGxldCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLk9SLFxuICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgIHR5cGVTdHI6ICdJbmFjdGl2ZVRhZydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLlNIQVJFRCxcbiAgICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgdG9rZW46IFF1ZXJ5VG9rZW4uQU5ELFxuICAgICAgICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgICAgICAgdHlwZVN0cjogJ1JlY3RhbmdsZSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJpZ2h0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLkFORCxcbiAgICAgICAgICAgICAgICAgIGxlZnRDaGlsZDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlU3RyOiAnTW92YWJsZSdcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiBRdWVyeVRva2VuLk9SLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogUXVlcnlUb2tlbi5OT1QsXG4gICAgICAgICAgICAgICAgICAgICAgbGVmdENoaWxkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlU3RyOiAnRW5lbXlUYWcnXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlU3RyOiAnSW5hY3RpdmVUYWcnXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByaWdodENoaWxkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZVN0cjogJ1BsYXllcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdGV4dFF1ZXJ5OiBRdWVyeU5vZGUgPSB7XG4gICAgICB0b2tlbjogUXVlcnlUb2tlbi5OT1QsXG4gICAgICBsZWZ0Q2hpbGQ6IHtcbiAgICAgICAgdHlwZVN0cjogJ1Njb3JlVGV4dFRhZydcbiAgICAgIH0sXG4gICAgICByaWdodENoaWxkOiB7XG4gICAgICAgIHR5cGVTdHI6ICdTY29yZVRleHQnXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYnVsbGV0SGl0U3lzdGVtID0gKFxuICAgICAgICBfOiBudW1iZXIsXG4gICAgICAgIGJSZWN0YW5nbGU6IENvbXBvbmVudDxSZWN0YW5nbGU+LFxuICAgICAgICBiTW92YWJsZTogQ29tcG9uZW50PE1vdmFibGU+LFxuICAgICAgICBidWxsZXQ6IENvbXBvbmVudDxCdWxsZXQ+LFxuICAgICAgICByZWN0YW5nbGVzOiBDb21wb25lbnQ8UmVjdGFuZ2xlPltdLFxuICAgICAgICBtb3ZhYmxlczogQ29tcG9uZW50PE1vdmFibGU+W10sXG4gICAgICAgIGVuZW15VGFnczogQ29tcG9uZW50PEVuZW15VGFnPltdLFxuICAgICAgICBwbGF5ZXI6IENvbXBvbmVudDxQbGF5ZXI+W10sXG4gICAgICAgKSA9PiB7XG5cbiAgICAgICAgaWYgKCFlbmVteVRhZ3MgfHwgIXBsYXllcikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IFtpbmRleCwgX2VuZW15VGFnXSBvZiBlbmVteVRhZ3MuZW50cmllcygpKSB7XG4gICAgICAgICAgY29uc3QgZVJlY3RhbmdsZSA9IHJlY3RhbmdsZXNbaW5kZXhdOyAvLyB0aGlzIGp1c3QgaGFwcGVucyB0byBhbGlnbiwgb3RoZXJ3aXNlIGEgZmluZCBpZCB3b3VsZCBiZSBhIHNhZmVyIGFwcHJvYWNoXG4gICAgICAgICAgY29uc3QgZU1vdmFibGUgPSBtb3ZhYmxlc1tpbmRleF07IC8vIHNhbWUgZm9yIHRoaXNcbiAgICAgICAgICBpZiAoaXNDb2xsaW5nKGJSZWN0YW5nbGUuZGF0YSwgYk1vdmFibGUuZGF0YSwgZVJlY3RhbmdsZS5kYXRhLCBlTW92YWJsZS5kYXRhKSkge1xuICAgICAgICAgICAgcGxheWVyWzBdLmRhdGEuc2NvcmUgKz0gMTA7XG4gICAgICAgICAgICBhZGRDb21wb25lbnQ8SW5hY3RpdmVUYWc+KG1hbmFnZXIsIGJ1bGxldC5lbnRpdHlJZCk7XG4gICAgICAgICAgICBhZGRDb21wb25lbnQ8SW5hY3RpdmVUYWc+KG1hbmFnZXIsIGVNb3ZhYmxlLmVudGl0eUlkKTtcblxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUT0RPOiBxdWVyeSBpbiBnYW1lIGxvb3AgOiggKGZpbmQgYWx0ZXJuYXRpdmUpXG4gICAgICAgICAgICBjb25zdCB0ZXh0SWQgPSBtYW5hZ2VyLnF1ZXJ5RW50aXRpZXModGV4dFF1ZXJ5KT8uZW50aXRpZXNbMF0/LmlkO1xuICAgICAgICAgICAgaWYgKCFpc05hTih0ZXh0SWQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBNb3ZhYmxlID0gbW92YWJsZXNbbW92YWJsZXMubGVuZ3RoLTFdLmRhdGEgYXMgTW92YWJsZTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGFkZENvbXBvbmVudDxTY29yZVRleHQ+KG1hbmFnZXIsIHRleHRJZCwgeyBjb250ZW50OiBgJHtwbGF5ZXJbMF0uZGF0YS5zY29yZX1gLCBmb250U2l6ZTogMzAsIGFscGhhOiAxIH0pXG4gICAgICAgICAgICAgIGFkZENvbXBvbmVudDxNb3ZhYmxlPihcbiAgICAgICAgICAgICAgICBtYW5hZ2VyLCBcbiAgICAgICAgICAgICAgICB0ZXh0SWQsIFxuICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB4OiBwTW92YWJsZS5wb3NpdGlvbi54LCB5OiBwTW92YWJsZS5wb3NpdGlvbi55IFxuICAgICAgICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAgICAgICB2ZWxvY2l0eToge3g6IDAsIHk6IC0xfSwgXG4gICAgICAgICAgICAgICAgICBzcGVlZDogMjAwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBtYW5hZ2VyLnJlZ2lzdGVyU3lzdGVtV2l0aEVzY1F1ZXJ5KGJ1bGxldEhpdFN5c3RlbSwgcXVlcnkpO1xuICB9XG4gIFxufSIsImltcG9ydCB7VmVjdG9yMkR9IGZyb20gJy4vdmVjdG9yMkQubW9kZWwnO1xuaW1wb3J0IHtNb3ZhYmxlfSBmcm9tICcuL21vdmFibGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlY3RhbmdsZSB7XG4gIGNvbG9yOiBzdHJpbmc7XG4gIHNpemU6IFZlY3RvcjJEO1xufVxuXG4vLyBUT0RPOiB0aGlzIG1pZ2h0IGJlIG1pc3NpbmcgdGFraW5nIGNhbnZhcyBpbnRvIGNvbnNpZGVyYXRpb25cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbGxpbmcocmVjdDE6IFJlY3RhbmdsZSwgbW92MTogTW92YWJsZSwgcmVjdDI6IFJlY3RhbmdsZSwgbW92MjogTW92YWJsZSk6IGJvb2xlYW4ge1xuICBjb25zdCBkaXN0YW5jZVggPSBNYXRoLmFicyhtb3YxLnBvc2l0aW9uLnggLSBtb3YyLnBvc2l0aW9uLngpO1xuICBjb25zdCBkaXN0YW5jZVkgPSBNYXRoLmFicyhtb3YxLnBvc2l0aW9uLnkgLSBtb3YyLnBvc2l0aW9uLnkpO1xuXG4gIHJldHVybiAoZGlzdGFuY2VYIDwgcmVjdDEuc2l6ZS54ICYmIGRpc3RhbmNlWSA8IHJlY3QxLnNpemUueSApIHx8XG4gICAgKGRpc3RhbmNlWCA8IHJlY3QyLnNpemUueCAmJiBkaXN0YW5jZVkgPCByZWN0Mi5zaXplLnkpO1xufVxuIiwiaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IFdhdmVTaG9vdGVyR2FtZSB9IGZyb20gJy4vd2F2ZS1zaG9vdGVyJztcblxuZnJvbUV2ZW50KHdpbmRvdywgJ0RPTUNvbnRlbnRMb2FkZWQnKS5zdWJzY3JpYmUoKCkgPT4ge1xuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F2ZVNob290Q2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gIGlmICghY2FudmFzKSB7XG4gICAgY29uc29sZS5lcnJvcignZmFpbGVkIHRvIGxvYWQgY2FudmFzIScpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHdhdmVTaG9vdCA9IG5ldyBXYXZlU2hvb3RlckdhbWUoY2FudmFzKTtcbiAgd2F2ZVNob290LmluaXRpYWxpemUoKTtcbiAgXG4gIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gIGxldCBwcmV2RnJhbWUgPSBEYXRlLm5vdygpO1xuICBjb25zdCB0aWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IHRoaXNGcmFtZSA9IERhdGUubm93KCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjMDAwMDAwJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICB3YXZlU2hvb3QuZGlzcGF0Y2goKTtcblxuICAgIHByZXZGcmFtZSA9IHRoaXNGcmFtZTtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xuICB9O1xuICBcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=